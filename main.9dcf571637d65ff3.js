(self.webpackChunkworkface=self.webpackChunkworkface||[]).push([[179],{2011:(gt,Te,L)=>{"use strict";L.d(Te,{Dh:()=>pe,GT:()=>ve,cc:()=>ke,hO:()=>qe,on:()=>Z,pX:()=>ie,xv:()=>fe});var c=L(5e3),Q=L(127),F=L(5813);gt=L.hmd(gt);const le=["ngOnDestroy"],ie=(Ie,it,et,xe={})=>new Proxy(Ie,{get:(Ce,De)=>et.runOutsideAngular(()=>{var ze;if(Ie[De])return(null===(ze=null==xe?void 0:xe.spy)||void 0===ze?void 0:ze.get)&&xe.spy.get(De,Ie[De]),Ie[De];if(le.indexOf(De)>-1)return()=>{};const Ge=it.toPromise().then(U=>{const Ke=U&&U[De];return"function"==typeof Ke?Ke.bind(U):Ke&&Ke.then?Ke.then(X=>et.run(()=>X)):et.run(()=>Ke)});return new Proxy(()=>{},{get:(U,Ke)=>Ge[Ke],apply:(U,Ke,X)=>Ge.then(ce=>{var re;const ae=ce&&ce(...X);return(null===(re=null==xe?void 0:xe.spy)||void 0===re?void 0:re.apply)&&xe.spy.apply(De,X,ae),ae})})})}),ve=(Ie,it)=>{it.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(xe=>{Object.defineProperty(Ie.prototype,xe,Object.getOwnPropertyDescriptor(et.prototype||et,xe))})})};class de{constructor(it){return it}}const pe=new c.OlP("angularfire2.app.options"),fe=new c.OlP("angularfire2.app.name");function Z(Ie,it,et){const Ce="object"==typeof et&&et||{};Ce.name=Ce.name||"string"==typeof et&&et||"[DEFAULT]";const ze=Q.Z.apps.filter(Ge=>Ge&&Ge.name===Ce.name)[0]||it.runOutsideAngular(()=>Q.Z.initializeApp(Ie,Ce));try{JSON.stringify(Ie)!==JSON.stringify(ze.options)&&q("error",`${ze.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new de(ze)}const q=(Ie,...it)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ie](...it)},ne={provide:de,useFactory:Z,deps:[pe,c.R0b,[new c.FiY,fe]]};let qe=(()=>{class Ie{constructor(et){Q.Z.registerVersion("angularfire",F.q4.full,"core"),Q.Z.registerVersion("angularfire",F.q4.full,"app-compat"),Q.Z.registerVersion("angular",c.q4F.full,et.toString())}static initializeApp(et,xe){return{ngModule:Ie,providers:[{provide:pe,useValue:et},{provide:fe,useValue:xe}]}}}return Ie.\u0275fac=function(et){return new(et||Ie)(c.LFG(c.Lbi))},Ie.\u0275mod=c.oAB({type:Ie}),Ie.\u0275inj=c.cJS({providers:[ne]}),Ie})();function ke(Ie,it,et,xe,Ce){const[,De,ze]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===Ie)||[];if(De)return function Pe(Ie,it){try{return Ie.toString()===it.toString()}catch(et){return Ie===it}}(Ce,ze)||(ye("error",`${it} was already initialized on the ${et} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:Ce,was:ze})),De;{const Ge=xe();return globalThis.\u0275AngularfireInstanceCache.push([Ie,Ge,Ce]),Ge}}const je=!!gt.hot,ye=(Ie,...it)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ie](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(gt,Te,L)=>{"use strict";L.d(Te,{q4:()=>Gl,iC:()=>Kl,HU:()=>Xu,vb:()=>Yc,JM:()=>_o});var c=L(5e3),Q=L(5867),F=L(5861),le=L(9681),ie=L(2090),ve=L(4859),de=L(1877);const pe="@firebase/installations",q="w:0.5.8",ne="FIS_v2",Ie=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function it(D){return D instanceof ie.ZR&&D.code.includes("request-failed")}function et({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function xe(D){return{token:D.token,requestStatus:2,expiresIn:X(D.expiresIn),creationTime:Date.now()}}function Ce(D,T){return De.apply(this,arguments)}function De(){return(De=(0,F.Z)(function*(D,T){const j=(yield T.json()).error;return Ie.create("request-failed",{requestName:D,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function ze({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ge(D,{refreshToken:T}){const N=ze(D);return N.append("Authorization",function ce(D){return`${ne} ${D}`}(T)),N}function U(D){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,F.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function X(D){return Number(D.replace("s","000"))}function re(D,T){return ae.apply(this,arguments)}function ae(){return(ae=(0,F.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:N}){const j=et(D),J=ze(D),se=T.getImmediate({optional:!0});if(se){const kt=yield se.getHeartbeatsHeader();kt&&J.append("x-firebase-client",kt)}const Re={method:"POST",headers:J,body:JSON.stringify({fid:N,authVersion:ne,appId:D.appId,sdkVersion:q})},ut=yield U(()=>fetch(j,Re));if(ut.ok){const kt=yield ut.json();return{fid:kt.fid||N,registrationStatus:2,refreshToken:kt.refreshToken,authToken:xe(kt.authToken)}}throw yield Ce("Create Installation",ut)})).apply(this,arguments)}function _e(D){return new Promise(T=>{setTimeout(T,D)})}const Tt=/^[cdef][\w-]{21}$/;function un(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const N=function We(D){return function Ve(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Tt.test(N)?N:""}catch(D){return""}}function Mt(D){return`${D.appName}!${D.appId}`}const En=new Map;function An(D,T){const N=Mt(D);Wt(N,T),function Yt(D,T){const N=function Ar(){return!Bn&&"BroadcastChannel"in self&&(Bn=new BroadcastChannel("[Firebase] FID Change"),Bn.onmessage=D=>{Wt(D.data.key,D.data.fid)}),Bn}();N&&N.postMessage({key:D,fid:T}),function rs(){0===En.size&&Bn&&(Bn.close(),Bn=null)}()}(N,T)}function Wt(D,T){const N=En.get(D);if(N)for(const j of N)j(T)}let Bn=null;const Jn="firebase-installations-store";let Li=null;function Sr(){return Li||(Li=(0,ie.X3)("firebase-installations-database",1,(D,T)=>{0===T&&D.createObjectStore(Jn)})),Li}function rt(D,T){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,F.Z)(function*(D,T){const N=Mt(D),J=(yield Sr()).transaction(Jn,"readwrite"),se=J.objectStore(Jn),Ne=yield se.get(N);return yield se.put(T,N),yield J.complete,(!Ne||Ne.fid!==T.fid)&&An(D,T.fid),T})).apply(this,arguments)}function Xn(D){return ln.apply(this,arguments)}function ln(){return(ln=(0,F.Z)(function*(D){const T=Mt(D),j=(yield Sr()).transaction(Jn,"readwrite");yield j.objectStore(Jn).delete(T),yield j.complete})).apply(this,arguments)}function xr(D,T){return is.apply(this,arguments)}function is(){return(is=(0,F.Z)(function*(D,T){const N=Mt(D),J=(yield Sr()).transaction(Jn,"readwrite"),se=J.objectStore(Jn),Ne=yield se.get(N),Re=T(Ne);return void 0===Re?yield se.delete(N):yield se.put(Re,N),yield J.complete,Re&&(!Ne||Ne.fid!==Re.fid)&&An(D,Re.fid),Re})).apply(this,arguments)}function vn(D){return bt.apply(this,arguments)}function bt(){return(bt=(0,F.Z)(function*(D){let T;const N=yield xr(D.appConfig,j=>{const J=er(j),se=zr(D,J);return T=se.registrationPromise,se.installationEntry});return""===N.fid?{installationEntry:yield T}:{installationEntry:N,registrationPromise:T}})).apply(this,arguments)}function er(D){return At(D||{fid:un(),registrationStatus:0})}function zr(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ie.create("app-offline"))};const N={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},j=function Lt(D,T){return Ye.apply(this,arguments)}(D,N);return{installationEntry:N,registrationPromise:j}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:at(D)}:{installationEntry:T}}function Ye(){return(Ye=(0,F.Z)(function*(D,T){try{const N=yield re(D,T);return rt(D.appConfig,N)}catch(N){throw it(N)&&409===N.customData.serverCode?yield Xn(D.appConfig):yield rt(D.appConfig,{fid:T.fid,registrationStatus:0}),N}})).apply(this,arguments)}function at(D){return tr.apply(this,arguments)}function tr(){return(tr=(0,F.Z)(function*(D){let T=yield Rr(D.appConfig);for(;1===T.registrationStatus;)yield _e(100),T=yield Rr(D.appConfig);if(0===T.registrationStatus){const{installationEntry:N,registrationPromise:j}=yield vn(D);return j||N}return T})).apply(this,arguments)}function Rr(D){return xr(D,T=>{if(!T)throw Ie.create("installation-not-found");return At(T)})}function At(D){return function Ls(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function cr(D,T){return nr.apply(this,arguments)}function nr(){return(nr=(0,F.Z)(function*({appConfig:D,heartbeatServiceProvider:T},N){const j=mt(D,N),J=Ge(D,N),se=T.getImmediate({optional:!0});if(se){const kt=yield se.getHeartbeatsHeader();kt&&J.append("x-firebase-client",kt)}const Re={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:q,appId:D.appId}})},ut=yield U(()=>fetch(j,Re));if(ut.ok)return xe(yield ut.json());throw yield Ce("Generate Auth Token",ut)})).apply(this,arguments)}function mt(D,{fid:T}){return`${et(D)}/${T}/authTokens:generate`}function br(D){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,F.Z)(function*(D,T=!1){let N;const j=yield xr(D.appConfig,se=>{if(!jt(se))throw Ie.create("not-registered");const Ne=se.authToken;if(!T&&$(Ne))return se;if(1===Ne.requestStatus)return N=nt(D,T),se;{if(!navigator.onLine)throw Ie.create("app-offline");const Re=W(se);return N=vt(D,Re),Re}});return N?yield N:j.authToken})).apply(this,arguments)}function nt(D,T){return ue.apply(this,arguments)}function ue(){return(ue=(0,F.Z)(function*(D,T){let N=yield st(D.appConfig);for(;1===N.authToken.requestStatus;)yield _e(100),N=yield st(D.appConfig);const j=N.authToken;return 0===j.requestStatus?br(D,T):j})).apply(this,arguments)}function st(D){return xr(D,T=>{if(!jt(T))throw Ie.create("not-registered");return function ge(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function vt(D,T){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,F.Z)(function*(D,T){try{const N=yield cr(D,T),j=Object.assign(Object.assign({},T),{authToken:N});return yield rt(D.appConfig,j),N}catch(N){if(!it(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const j=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield rt(D.appConfig,j)}else yield Xn(D.appConfig);throw N}})).apply(this,arguments)}function jt(D){return void 0!==D&&2===D.registrationStatus}function $(D){return 2===D.requestStatus&&!function H(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function W(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function He(){return(He=(0,F.Z)(function*(D){const T=D,{installationEntry:N,registrationPromise:j}=yield vn(T);return j?j.catch(console.error):br(T).catch(console.error),N.fid})).apply(this,arguments)}function Jt(){return(Jt=(0,F.Z)(function*(D,T=!1){const N=D;return yield Er(N),(yield br(N,T)).token})).apply(this,arguments)}function Er(D){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,F.Z)(function*(D){const{registrationPromise:T}=yield vn(D);T&&(yield T)})).apply(this,arguments)}function zn(D){return Ie.create("missing-app-config-values",{valueName:D})}const Do="installations",Fe=D=>{const T=D.getProvider("app").getImmediate(),N=function Vi(D){if(!D||!D.options)throw zn("App Configuration");if(!D.name)throw zn("App Name");const T=["projectId","apiKey","appId"];for(const N of T)if(!D.options[N])throw zn(N);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:N,heartbeatServiceProvider:(0,le._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Vt=D=>{const T=D.getProvider("app").getImmediate(),N=(0,le._getProvider)(T,Do).getImmediate();return{getId:()=>function te(D){return He.apply(this,arguments)}(N),getToken:J=>function It(D){return Jt.apply(this,arguments)}(N,J)}};(function yn(){(0,le._registerComponent)(new ve.wA(Do,Fe,"PUBLIC")),(0,le._registerComponent)(new ve.wA("installations-internal",Vt,"PRIVATE"))})(),(0,le.registerVersion)(pe,"0.5.8"),(0,le.registerVersion)(pe,"0.5.8","esm2017");const dr="@firebase/remote-config",xn=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pl{constructor(T,N,j,J){this.client=T,this.storage=N,this.storageCache=j,this.logger=J}isCachedDataFresh(T,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-N,J=j<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${J}.`),J}fetch(T){var N=this;return(0,F.Z)(function*(){const[j,J]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(J&&N.isCachedDataFresh(T.cacheMaxAgeMillis,j))return J;T.eTag=J&&J.eTag;const se=yield N.client.fetch(T),Ne=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&Ne.push(N.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(Ne),se})()}}function Za(D=navigator){return D.languages&&D.languages[0]||D.language}class ji{constructor(T,N,j,J,se,Ne){this.firebaseInstallations=T,this.sdkVersion=N,this.namespace=j,this.projectId=J,this.apiKey=se,this.appId=Ne}fetch(T){var N=this;return(0,F.Z)(function*(){const[j,J]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Ne=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Re={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ut={sdk_version:N.sdkVersion,app_instance_id:j,app_instance_id_token:J,app_id:N.appId,language_code:Za()},kt={method:"POST",headers:Re,body:JSON.stringify(ut)},Ht=fetch(Ne,kt),Ot=new Promise((Si,Qi)=>{T.signal.addEventListener(()=>{const Zo=new Error("The operation was aborted.");Zo.name="AbortError",Qi(Zo)})});let or;try{yield Promise.race([Ht,Ot]),or=yield Ht}catch(Si){let Qi="fetch-client-network";throw"AbortError"===Si.name&&(Qi="fetch-timeout"),xn.create(Qi,{originalErrorMessage:Si.message})}let Zn=or.status;const Sa=or.headers.get("ETag")||void 0;let Go,ei;if(200===or.status){let Si;try{Si=yield or.json()}catch(Qi){throw xn.create("fetch-client-parse",{originalErrorMessage:Qi.message})}Go=Si.entries,ei=Si.state}if("INSTANCE_STATE_UNSPECIFIED"===ei?Zn=500:"NO_CHANGE"===ei?Zn=304:("NO_TEMPLATE"===ei||"EMPTY_CONFIG"===ei)&&(Go={}),304!==Zn&&200!==Zn)throw xn.create("fetch-status",{httpStatus:Zn});return{status:Zn,eTag:Sa,config:Go}})()}}class Fl{constructor(T,N){this.client=T,this.storage=N}fetch(T){var N=this;return(0,F.Z)(function*(){const j=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(T,j)})()}attemptFetch(T,{throttleEndTimeMillis:N,backoffCount:j}){var J=this;return(0,F.Z)(function*(){yield function Hn(D,T){return new Promise((N,j)=>{const J=Math.max(T-Date.now(),0),se=setTimeout(N,J);D.addEventListener(()=>{clearTimeout(se),j(xn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,N);try{const se=yield J.client.fetch(T);return yield J.storage.deleteThrottleMetadata(),se}catch(se){if(!function qa(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(se))throw se;const Ne={throttleEndTimeMillis:Date.now()+(0,ie.$s)(j),backoffCount:j+1};return yield J.storage.setThrottleMetadata(Ne),J.attemptFetch(T,Ne)}})()}}class za{constructor(T,N,j,J,se){this.app=T,this._client=N,this._storageCache=j,this._storage=J,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wa(D,T){const N=D.target.error||void 0;return xn.create(T,{originalErrorMessage:N&&N.message})}const us="app_namespace_store";class ao{constructor(T,N,j,J=function $c(){return new Promise((D,T)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=j=>{T(Wa(j,"storage-open"))},N.onsuccess=j=>{D(j.target.result)},N.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(us,{keyPath:"compositeKey"})}}catch(N){T(xn.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=T,this.appName=N,this.namespace=j,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var N=this;return(0,F.Z)(function*(){const j=yield N.openDbPromise;return new Promise((J,se)=>{const Re=j.transaction([us],"readonly").objectStore(us),ut=N.createCompositeKey(T);try{const kt=Re.get(ut);kt.onerror=Ht=>{se(Wa(Ht,"storage-get"))},kt.onsuccess=Ht=>{const Ot=Ht.target.result;J(Ot?Ot.value:void 0)}}catch(kt){se(xn.create("storage-get",{originalErrorMessage:kt&&kt.message}))}})})()}set(T,N){var j=this;return(0,F.Z)(function*(){const J=yield j.openDbPromise;return new Promise((se,Ne)=>{const ut=J.transaction([us],"readwrite").objectStore(us),kt=j.createCompositeKey(T);try{const Ht=ut.put({compositeKey:kt,value:N});Ht.onerror=Ot=>{Ne(Wa(Ot,"storage-set"))},Ht.onsuccess=()=>{se()}}catch(Ht){Ne(xn.create("storage-set",{originalErrorMessage:Ht&&Ht.message}))}})})()}delete(T){var N=this;return(0,F.Z)(function*(){const j=yield N.openDbPromise;return new Promise((J,se)=>{const Re=j.transaction([us],"readwrite").objectStore(us),ut=N.createCompositeKey(T);try{const kt=Re.delete(ut);kt.onerror=Ht=>{se(Wa(Ht,"storage-delete"))},kt.onsuccess=()=>{J()}}catch(kt){se(xn.create("storage-delete",{originalErrorMessage:kt&&kt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ka{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,F.Z)(function*(){const N=T.storage.getLastFetchStatus(),j=T.storage.getLastSuccessfulFetchTimestampMillis(),J=T.storage.getActiveConfig(),se=yield N;se&&(T.lastFetchStatus=se);const Ne=yield j;Ne&&(T.lastSuccessfulFetchTimestampMillis=Ne);const Re=yield J;Re&&(T.activeConfig=Re)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function js(){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,F.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}!function uo(){(0,le._registerComponent)(new ve.wA("remote-config",function D(T,{instanceIdentifier:N}){const j=T.getProvider("app").getImmediate(),J=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw xn.create("registration-window");if(!(0,ie.hl)())throw xn.create("indexed-db-unavailable");const{projectId:se,apiKey:Ne,appId:Re}=j.options;if(!se)throw xn.create("registration-project-id");if(!Ne)throw xn.create("registration-api-key");if(!Re)throw xn.create("registration-app-id");const ut=new ao(Re,j.name,N=N||"firebase"),kt=new Ka(ut),Ht=new de.Yd(dr);Ht.logLevel=de.in.ERROR;const Ot=new ji(J,le.SDK_VERSION,N,se,Ne,Re),or=new Fl(Ot,ut),Zn=new Pl(or,ut,kt,Ht),Sa=new za(j,Zn,kt,ut,Ht);return function Or(D){const T=(0,ie.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Sa),Sa},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(dr,"0.3.7"),(0,le.registerVersion)(dr,"0.3.7","esm2017")}();const Ya="/firebase-messaging-sw.js",ls="/firebase-cloud-messaging-push-scope",Fr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hs="google.c.a.c_id",So="google.c.a.c_l",ju="google.c.a.ts",Gc="google.c.a.e";var ds=(()=>{return(D=ds||(ds={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",ds;var D})();function Lr(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ua(D){const N=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(N),J=new Uint8Array(j.length);for(let se=0;se<j.length;++se)J[se]=j.charCodeAt(se);return J}const la="fcm_token_details_db",Mn="fcm_token_object_Store";function Vl(D){return ca.apply(this,arguments)}function ca(){return ca=(0,F.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(la))return null;let T=null;return(yield(0,ie.X3)(la,5,function(){var j=(0,F.Z)(function*(J,se,Ne,Re){var ut;if(se<2||!J.objectStoreNames.contains(Mn))return;const kt=Re.objectStore(Mn),Ht=yield kt.index("fcmSenderId").get(D);if(yield kt.clear(),Ht)if(2===se){const Ot=Ht;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;T={token:Ot.fcmToken,createTime:null!==(ut=Ot.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:Lr(Ot.vapidKey)}}}else if(3===se){const Ot=Ht;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Lr(Ot.auth),p256dh:Lr(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Lr(Ot.vapidKey)}}}else if(4===se){const Ot=Ht;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Lr(Ot.auth),p256dh:Lr(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Lr(Ot.vapidKey)}}}});return function(J,se,Ne,Re){return j.apply(this,arguments)}}())).close(),yield(0,ie.Lj)(la),yield(0,ie.Lj)("fcm_vapid_details_db"),yield(0,ie.Lj)("undefined"),Hu(T)?T:null}),ca.apply(this,arguments)}function Hu(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const $i="firebase-messaging-store";let xo=null;function Qa(){return xo||(xo=(0,ie.X3)("firebase-messaging-database",1,(D,T)=>{0===T&&D.createObjectStore($i)})),xo}function _n(D){return hs.apply(this,arguments)}function hs(){return(hs=(0,F.Z)(function*(D){const T=hi(D),j=yield(yield Qa()).transaction($i).objectStore($i).get(T);if(j)return j;{const J=yield Vl(D.appConfig.senderId);if(J)return yield Gi(D,J),J}})).apply(this,arguments)}function Gi(D,T){return dn.apply(this,arguments)}function dn(){return(dn=(0,F.Z)(function*(D,T){const N=hi(D),J=(yield Qa()).transaction($i,"readwrite");return yield J.objectStore($i).put(T,N),yield J.complete,T})).apply(this,arguments)}function $u(D){return $s.apply(this,arguments)}function $s(){return($s=(0,F.Z)(function*(D){const T=hi(D),j=(yield Qa()).transaction($i,"readwrite");yield j.objectStore($i).delete(T),yield j.complete})).apply(this,arguments)}function hi({appConfig:D}){return D.appId}const kn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mo(D,T){return fi.apply(this,arguments)}function fi(){return(fi=(0,F.Z)(function*(D,T){const N=yield ps(D),j=wt(T),J={method:"POST",headers:N,body:JSON.stringify(j)};let se;try{se=yield(yield fetch(Ur(D.appConfig),J)).json()}catch(Ne){throw kn.create("token-subscribe-failed",{errorInfo:Ne})}if(se.error)throw kn.create("token-subscribe-failed",{errorInfo:se.error.message});if(!se.token)throw kn.create("token-subscribe-no-token");return se.token})).apply(this,arguments)}function hr(D,T){return fs.apply(this,arguments)}function fs(){return(fs=(0,F.Z)(function*(D,T){const N=yield ps(D),j=wt(T.subscriptionOptions),J={method:"PATCH",headers:N,body:JSON.stringify(j)};let se;try{se=yield(yield fetch(`${Ur(D.appConfig)}/${T.token}`,J)).json()}catch(Ne){throw kn.create("token-update-failed",{errorInfo:Ne})}if(se.error)throw kn.create("token-update-failed",{errorInfo:se.error.message});if(!se.token)throw kn.create("token-update-no-token");return se.token})).apply(this,arguments)}function pi(D,T){return ko.apply(this,arguments)}function ko(){return(ko=(0,F.Z)(function*(D,T){const j={method:"DELETE",headers:yield ps(D)};try{const se=yield(yield fetch(`${Ur(D.appConfig)}/${T}`,j)).json();if(se.error)throw kn.create("token-unsubscribe-failed",{errorInfo:se.error.message})}catch(J){throw kn.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function Ur({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function ps(D){return gs.apply(this,arguments)}function gs(){return(gs=(0,F.Z)(function*({appConfig:D,installations:T}){const N=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function wt({p256dh:D,auth:T,endpoint:N,vapidKey:j}){const J={web:{endpoint:N,auth:T,p256dh:D}};return j!==Fr&&(J.web.applicationPubKey=j),J}const fa=6048e5;function No(D){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,F.Z)(function*(D){const T=yield eu(D.swRegistration,D.vapidKey),N={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:Lr(T.getKey("auth")),p256dh:Lr(T.getKey("p256dh"))},j=yield _n(D.firebaseDependencies);if(j){if(co(j.subscriptionOptions,N))return Date.now()>=j.createTime+fa?Ja(D,{token:j.token,createTime:Date.now(),subscriptionOptions:N}):j.token;try{yield pi(D.firebaseDependencies,j.token)}catch(J){console.warn(J)}return Ae(D.firebaseDependencies,N)}return Ae(D.firebaseDependencies,N)})).apply(this,arguments)}function pa(D){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,F.Z)(function*(D){const T=yield _n(D.firebaseDependencies);T&&(yield pi(D.firebaseDependencies,T.token),yield $u(D.firebaseDependencies));const N=yield D.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function Ja(D,T){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,F.Z)(function*(D,T){try{const N=yield hr(D.firebaseDependencies,T),j=Object.assign(Object.assign({},T),{token:N,createTime:Date.now()});return yield Gi(D.firebaseDependencies,j),N}catch(N){throw yield pa(D),N}})).apply(this,arguments)}function Ae(D,T){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,F.Z)(function*(D,T){const j={token:yield Mo(D,T),createTime:Date.now(),subscriptionOptions:T};return yield Gi(D,j),j.token})).apply(this,arguments)}function eu(D,T){return In.apply(this,arguments)}function In(){return(In=(0,F.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ua(T)})})).apply(this,arguments)}function co(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function Zs(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Mr(D,T){if(!T.notification)return;D.notification={};const N=T.notification.title;N&&(D.notification.title=N);const j=T.notification.body;j&&(D.notification.body=j);const J=T.notification.image;J&&(D.notification.image=J)}(T,D),function ga(D,T){!T.data||(D.data=T.data)}(T,D),function tu(D,T){if(!T.fcmOptions)return;D.fcmOptions={};const N=T.fcmOptions.link;N&&(D.fcmOptions.link=N);const j=T.fcmOptions.analytics_label;j&&(D.fcmOptions.analyticsLabel=j)}(T,D),T}function Gu(D){return"object"==typeof D&&!!D&&Hs in D}function nu(D,T){const N=[];for(let j=0;j<D.length;j++)N.push(D.charAt(j)),j<T.length&&N.push(T.charAt(j));return N.join("")}function ms(D){return kn.create("missing-app-config-values",{valueName:D})}nu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fr{constructor(T,N,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function ma(D){if(!D||!D.options)throw ms("App Configuration Object");if(!D.name)throw ms("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:N}=D;for(const j of T)if(!N[j])throw ms(j);return{appName:D.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:J,installations:N,analyticsProvider:j}}_delete(){return Promise.resolve()}}function Yr(D){return ya.apply(this,arguments)}function ya(){return(ya=(0,F.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Ya,{scope:ls}),D.swRegistration.update().catch(()=>{})}catch(T){throw kn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function ys(D,T){return gi.apply(this,arguments)}function gi(){return(gi=(0,F.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield Yr(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function ru(D,T){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,F.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Fr)})).apply(this,arguments)}function _a(){return(_a=(0,F.Z)(function*(D,T){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield ru(D,null==T?void 0:T.vapidKey),yield ys(D,null==T?void 0:T.serviceWorkerRegistration),No(D)})).apply(this,arguments)}function Po(D,T,N){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,F.Z)(function*(D,T,N){const j=iu(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:N[Hs],message_name:N[So],message_time:N[ju],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function iu(D){switch(D){case ds.NOTIFICATION_CLICKED:return"notification_open";case ds.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Zu(){return(Zu=(0,F.Z)(function*(D,T){const N=T.data;if(!N.isFirebaseMessaging)return;D.onMessageHandler&&N.messageType===ds.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Zs(N)):D.onMessageHandler.next(Zs(N)));const j=N.data;Gu(j)&&"1"===j[Gc]&&(yield Po(D,N.messageType,j))})).apply(this,arguments)}const Lo="@firebase/messaging",su=D=>{const T=new fr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function va(D,T){return Zu.apply(this,arguments)}(T,N)),T},Zi=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:j=>function ho(D,T){return _a.apply(this,arguments)}(T,j)}};function zu(){return qs.apply(this,arguments)}function qs(){return(qs=(0,F.Z)(function*(){try{yield(0,ie.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qu(){(0,le._registerComponent)(new ve.wA("messaging",su,"PUBLIC")),(0,le._registerComponent)(new ve.wA("messaging-internal",Zi,"PRIVATE")),(0,le.registerVersion)(Lo,"0.9.12"),(0,le.registerVersion)(Lo,"0.9.12","esm2017")}();const uu="analytics",dh="firebase_id",Vo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ba="https://www.googletagmanager.com/gtag/js",$n=new de.Yd("@firebase/analytics");function lu(D){return Promise.all(D.map(T=>T.catch(N=>N)))}function Wu(D,T){const N=document.createElement("script");N.src=`${ba}?l=${D}&id=${T}`,N.async=!0,document.head.appendChild(N)}function fo(D,T,N,j,J,se){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,F.Z)(function*(D,T,N,j,J,se){const Ne=j[J];try{if(Ne)yield T[Ne];else{const ut=(yield lu(N)).find(kt=>kt.measurementId===J);ut&&(yield T[ut.appId])}}catch(Re){$n.error(Re)}D("config",J,se)})).apply(this,arguments)}function Qr(D,T,N,j,J){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,F.Z)(function*(D,T,N,j,J){try{let se=[];if(J&&J.send_to){let Ne=J.send_to;Array.isArray(Ne)||(Ne=[Ne]);const Re=yield lu(N);for(const ut of Ne){const kt=Re.find(Ot=>Ot.measurementId===ut),Ht=kt&&T[kt.appId];if(!Ht){se=[];break}se.push(Ht)}}0===se.length&&(se=Object.values(T)),yield Promise.all(se),D("event",j,J||{})}catch(se){$n.error(se)}})).apply(this,arguments)}function Zc(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(ba))return T;return null}const Ln=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),E=new class gr{constructor(T={},N=1e3){this.throttleMetadata=T,this.intervalMillis=N}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,N){this.throttleMetadata[T]=N}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function C(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function M(D){return B.apply(this,arguments)}function B(){return(B=(0,F.Z)(function*(D){var T;const{appId:N,apiKey:j}=D,J={method:"GET",headers:C(j)},se=Vo.replace("{app-id}",N),Ne=yield fetch(se,J);if(200!==Ne.status&&304!==Ne.status){let Re="";try{const ut=yield Ne.json();(null===(T=ut.error)||void 0===T?void 0:T.message)&&(Re=ut.error.message)}catch(ut){}throw Ln.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:Re})}return Ne.json()})).apply(this,arguments)}function Se(D){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,F.Z)(function*(D,T=E,N){const{appId:j,apiKey:J,measurementId:se}=D.options;if(!j)throw Ln.create("no-app-id");if(!J){if(se)return{measurementId:se,appId:j};throw Ln.create("no-api-key")}const Ne=T.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new Uo;return setTimeout((0,F.Z)(function*(){Re.abort()}),void 0!==N?N:6e4),Cn({appId:j,apiKey:J,measurementId:se},Ne,Re,T)})).apply(this,arguments)}function Cn(D,T,N){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,F.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:N},j,J=E){const{appId:se,measurementId:Ne}=D;try{yield pt(j,T)}catch(Re){if(Ne)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ne} provided in the "measurementId" field in the local Firebase config. [${Re.message}]`),{appId:se,measurementId:Ne};throw Re}try{const Re=yield M(D);return J.deleteThrottleMetadata(se),Re}catch(Re){if(!zs(Re)){if(J.deleteThrottleMetadata(se),Ne)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ne} provided in the "measurementId" field in the local Firebase config. [${Re.message}]`),{appId:se,measurementId:Ne};throw Re}const ut=503===Number(Re.customData.httpStatus)?(0,ie.$s)(N,J.intervalMillis,30):(0,ie.$s)(N,J.intervalMillis),kt={throttleEndTimeMillis:Date.now()+ut,backoffCount:N+1};return J.setThrottleMetadata(se,kt),$n.debug(`Calling attemptFetch again in ${ut} millis`),Cn(D,kt,j,J)}})).apply(this,arguments)}function pt(D,T){return new Promise((N,j)=>{const J=Math.max(T-Date.now(),0),se=setTimeout(N,J);D.addEventListener(()=>{clearTimeout(se),j(Ln.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function zs(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Uo{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function qc(){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,F.Z)(function*(){if(!(0,ie.hl)())return $n.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(D){return $n.warn(Ln.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Ws(){return(Ws=(0,F.Z)(function*(D,T,N,j,J,se,Ne){var Re;const ut=Se(D);ut.then(Zn=>{N[Zn.measurementId]=Zn.appId,D.options.measurementId&&Zn.measurementId!==D.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zn=>$n.error(Zn)),T.push(ut);const kt=qc().then(Zn=>{if(Zn)return j.getId()}),[Ht,Ot]=yield Promise.all([ut,kt]);Zc()||Wu(se,Ht.measurementId),J("js",new Date);const or=null!==(Re=null==Ne?void 0:Ne.config)&&void 0!==Re?Re:{};return or.origin="firebase",or.update=!0,null!=Ot&&(or[dh]=Ot),J("config",Ht.measurementId,or),Ht.measurementId})).apply(this,arguments)}class Ea{constructor(T){this.app=T}_delete(){return delete Di[this.app.options.appId],Promise.resolve()}}let Di={},po=[];const cu={};let go,bs,ws="dataLayer",jl=!1;function zi(D,T,N){!function Ca(){const D=[];if((0,ie.ru)()&&D.push("This is a browser extension environment."),(0,ie.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((j,J)=>`(${J+1}) ${j}`).join(" "),N=Ln.create("invalid-analytics-context",{errorInfo:T});$n.warn(N.message)}}();const j=D.options.appId;if(!j)throw Ln.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Ln.create("no-api-key");$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Di[j])throw Ln.create("already-exists",{id:j});if(!jl){!function qi(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(ws);const{wrappedGtag:se,gtagCore:Ne}=function Ul(D,T,N,j,J){let se=function(...Ne){window[j].push(arguments)};return window[J]&&"function"==typeof window[J]&&(se=window[J]),window[J]=function Yu(D,T,N,j){function se(){return(se=(0,F.Z)(function*(Ne,Re,ut){try{"event"===Ne?yield Qr(D,T,N,Re,ut):"config"===Ne?yield fo(D,T,N,j,Re,ut):D("set",Re)}catch(kt){$n.error(kt)}})).apply(this,arguments)}return function J(Ne,Re,ut){return se.apply(this,arguments)}}(se,D,T,N),{gtagCore:se,wrappedGtag:window[J]}}(Di,po,cu,ws,"gtag");bs=se,go=Ne,jl=!0}return Di[j]=function sr(D,T,N,j,J,se,Ne){return Ws.apply(this,arguments)}(D,po,cu,T,go,ws,N),new Ea(D)}function du(){return(du=(0,F.Z)(function*(D,T,N,j,J){if(J&&J.global)D("event",N,j);else{const se=yield T;D("event",N,Object.assign(Object.assign({},j),{send_to:se}))}})).apply(this,arguments)}function Gn(){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,F.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}const mo="@firebase/analytics";!function Cp(){(0,le._registerComponent)(new ve.wA(uu,(T,{options:N})=>zi(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,le._registerComponent)(new ve.wA("analytics-internal",function D(T){try{const N=T.getProvider(uu).getImmediate();return{logEvent:(j,J,se)=>function Ep(D,T,N,j){D=(0,ie.m9)(D),function Ia(D,T,N,j,J){return du.apply(this,arguments)}(bs,Di[D.app.options.appId],T,N,j).catch(J=>$n.error(J))}(N,j,J,se)}}catch(N){throw Ln.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,le.registerVersion)(mo,"0.7.8"),(0,le.registerVersion)(mo,"0.7.8","esm2017")}();var yo=L(4408),Qu=L(7565);const Hl=new class Un extends Qu.v{}(class Ys extends yo.o{constructor(T,N){super(T,N),this.scheduler=T,this.work=N}schedule(T,N=0){return N>0?super.schedule(T,N):(this.delay=N,this.state=T,this.scheduler.flush(this),this)}execute(T,N){return N>0||this.closed?super.execute(T,N):this._execute(T,N)}requestAsyncId(T,N,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(T,N,j):T.flush(this)}});var Ip=L(4986),$l=L(8505),jr=L(9468),Ti=L(5363);const Gl=new c.GfV("7.3.0"),Qs="__angularfire_symbol__analyticsIsSupportedValue",Yi="__angularfire_symbol__analyticsIsSupported",Is="__angularfire_symbol__remoteConfigIsSupportedValue",hu="__angularfire_symbol__remoteConfigIsSupported",Zl="__angularfire_symbol__messagingIsSupportedValue",ql="__angularfire_symbol__messagingIsSupported";function _o(D,T,N){if(T){if(1===T.length)return T[0];const se=T.filter(Ne=>Ne.app===N);if(1===se.length)return se[0]}return N.container.getProvider(D).getImmediate({optional:!0})}globalThis[Yi]||(globalThis[Yi]=Gn().then(D=>globalThis[Qs]=D).catch(()=>globalThis[Qs]=!1)),globalThis[ql]||(globalThis[ql]=zu().then(D=>globalThis[Zl]=D).catch(()=>globalThis[Zl]=!1)),globalThis[hu]||(globalThis[hu]=js().then(D=>globalThis[Is]=D).catch(()=>globalThis[Is]=!1));const Yc=(D,T)=>{const N=T?[T]:(0,Q.C6)(),j=[];return N.forEach(J=>{J.container.getProvider(D).instances.forEach(Ne=>{j.includes(Ne)||j.push(Ne)})}),j};function Ho(){}class Ju{constructor(T,N=Hl){this.zone=T,this.delegate=N}now(){return this.delegate.now()}schedule(T,N,j){const J=this.zone;return this.delegate.schedule(function(Ne){J.runGuarded(()=>{T.apply(this,[Ne])})},N,j)}}class Ds{constructor(T){this.zone=T,this.task=null}call(T,N){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ho,{},Ho,Ho)),N.pipe((0,$l.b)({next:j,complete:j,error:j})).subscribe(T).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xu=(()=>{class D{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Ju(Zone.current)),this.insideAngular=N.run(()=>new Ju(Zone.current,Ip.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(N){return new(N||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ts(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Kl(D){return Ts(),function $o(D){return function(N){return(N=N.lift(new Ds(D.ngZone))).pipe((0,jr.R)(D.outsideAngular),(0,Ti.Q)(D.insideAngular))}}(Ts())(D)}},2090:(gt,Te,L)=>{"use strict";L.d(Te,{$s:()=>Ls,BH:()=>ke,G6:()=>U,L:()=>fe,LL:()=>Ve,Lj:()=>Kt,Mn:()=>ze,Sg:()=>Pe,UG:()=>Ie,US:()=>de,X3:()=>vt,ZB:()=>ne,ZR:()=>_e,b$:()=>xe,d:()=>Ce,eu:()=>X,hl:()=>Ke,jU:()=>it,m9:()=>mt,ne:()=>rt,pd:()=>Li,r3:()=>Wt,ru:()=>et,tV:()=>Z,uI:()=>ye,vZ:()=>rs,w1:()=>De,xO:()=>qr,xb:()=>Bn,z$:()=>je,zI:()=>ce,zd:()=>Jn});var c=L(5861);const ie=function($){const H=[];let W=0;for(let ge=0;ge<$.length;ge++){let te=$.charCodeAt(ge);te<128?H[W++]=te:te<2048?(H[W++]=te>>6|192,H[W++]=63&te|128):55296==(64512&te)&&ge+1<$.length&&56320==(64512&$.charCodeAt(ge+1))?(te=65536+((1023&te)<<10)+(1023&$.charCodeAt(++ge)),H[W++]=te>>18|240,H[W++]=te>>12&63|128,H[W++]=te>>6&63|128,H[W++]=63&te|128):(H[W++]=te>>12|224,H[W++]=te>>6&63|128,H[W++]=63&te|128)}return H},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,H){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let te=0;te<$.length;te+=3){const He=$[te],It=te+1<$.length,Jt=It?$[te+1]:0,Er=te+2<$.length,Xt=Er?$[te+2]:0;let mn=(15&Jt)<<2|Xt>>6,rr=63&Xt;Er||(rr=64,It||(mn=64)),ge.push(W[He>>2],W[(3&He)<<4|Jt>>4],W[mn],W[rr])}return ge.join("")},encodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa($):this.encodeByteArray(ie($),H)},decodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?atob($):function($){const H=[];let W=0,ge=0;for(;W<$.length;){const te=$[W++];if(te<128)H[ge++]=String.fromCharCode(te);else if(te>191&&te<224){const He=$[W++];H[ge++]=String.fromCharCode((31&te)<<6|63&He)}else if(te>239&&te<365){const Er=((7&te)<<18|(63&$[W++])<<12|(63&$[W++])<<6|63&$[W++])-65536;H[ge++]=String.fromCharCode(55296+(Er>>10)),H[ge++]=String.fromCharCode(56320+(1023&Er))}else{const He=$[W++],It=$[W++];H[ge++]=String.fromCharCode((15&te)<<12|(63&He)<<6|63&It)}}return H.join("")}(this.decodeStringToByteArray($,H))},decodeStringToByteArray($,H){this.init_();const W=H?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let te=0;te<$.length;){const He=W[$.charAt(te++)],Jt=te<$.length?W[$.charAt(te)]:0;++te;const Xt=te<$.length?W[$.charAt(te)]:64;++te;const Ft=te<$.length?W[$.charAt(te)]:64;if(++te,null==He||null==Jt||null==Xt||null==Ft)throw Error();ge.push(He<<2|Jt>>4),64!==Xt&&(ge.push(Jt<<4&240|Xt>>2),64!==Ft&&ge.push(Xt<<6&192|Ft))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},fe=function($){return function($){const H=ie($);return de.encodeByteArray(H,!0)}($).replace(/\./g,"")},Z=function($){try{return de.decodeString($,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function ne($,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return H}for(const W in H)!H.hasOwnProperty(W)||!qe(W)||($[W]=ne($[W],H[W]));return $}function qe($){return"__proto__"!==$}class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,W)=>{this.resolve=H,this.reject=W})}wrapCallback(H){return(W,ge)=>{W?this.reject(W):this.resolve(ge),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(W):H(W,ge))}}}function Pe($,H){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=H||"demo-project",te=$.iat||0,He=$.sub||$.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const It=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:te,exp:te+3600,auth_time:te,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},$);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(It)),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function it(){return"object"==typeof self&&self.self===self}function et(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ce(){return je().indexOf("Electron/")>=0}function De(){const $=je();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function ze(){return je().indexOf("MSAppHost/")>=0}function U(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){return"object"==typeof indexedDB}function X(){return new Promise(($,H)=>{try{let W=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(ge);te.onsuccess=()=>{te.result.close(),W||self.indexedDB.deleteDatabase(ge),$(!0)},te.onupgradeneeded=()=>{W=!1},te.onerror=()=>{var He;H((null===(He=te.error)||void 0===He?void 0:He.message)||"")}}catch(W){H(W)}})}function ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(H,W,ge){super(W),this.code=H,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(H,W,ge){this.service=H,this.serviceName=W,this.errors=ge}create(H,...W){const ge=W[0]||{},te=`${this.service}/${H}`,He=this.errors[H],It=He?function Tt($,H){return $.replace(Qt,(W,ge)=>{const te=H[ge];return null!=te?String(te):`<${ge}?>`})}(He,ge):"Error";return new _e(te,`${this.serviceName}: ${It} (${te}).`,ge)}}const Qt=/\{\$([^}]+)}/g;function Wt($,H){return Object.prototype.hasOwnProperty.call($,H)}function Bn($){for(const H in $)if(Object.prototype.hasOwnProperty.call($,H))return!1;return!0}function rs($,H){if($===H)return!0;const W=Object.keys($),ge=Object.keys(H);for(const te of W){if(!ge.includes(te))return!1;const He=$[te],It=H[te];if(lr(He)&&lr(It)){if(!rs(He,It))return!1}else if(He!==It)return!1}for(const te of ge)if(!W.includes(te))return!1;return!0}function lr($){return null!==$&&"object"==typeof $}function qr($){const H=[];for(const[W,ge]of Object.entries($))Array.isArray(ge)?ge.forEach(te=>{H.push(encodeURIComponent(W)+"="+encodeURIComponent(te))}):H.push(encodeURIComponent(W)+"="+encodeURIComponent(ge));return H.length?"&"+H.join("&"):""}function Jn($){const H={};return $.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[te,He]=ge.split("=");H[decodeURIComponent(te)]=decodeURIComponent(He)}}),H}function Li($){const H=$.indexOf("?");if(!H)return"";const W=$.indexOf("#",H);return $.substring(H,W>0?W:void 0)}function rt($,H){const W=new Sn($,H);return W.subscribe.bind(W)}class Sn{constructor(H,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{H(this)}).catch(ge=>{this.error(ge)})}next(H){this.forEachObserver(W=>{W.next(H)})}error(H){this.forEachObserver(W=>{W.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,W,ge){let te;if(void 0===H&&void 0===W&&void 0===ge)throw new Error("Missing Observer.");te=function ln($,H){if("object"!=typeof $||null===$)return!1;for(const W of H)if(W in $&&"function"==typeof $[W])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:W,complete:ge},void 0===te.next&&(te.next=xr),void 0===te.error&&(te.error=xr),void 0===te.complete&&(te.complete=xr);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(It){}}),this.observers.push(te),He}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,H)}sendOne(H,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{W(this.observers[H])}catch(ge){"undefined"!=typeof console&&console.error&&console.error(ge)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xr(){}function Ls($,H=1e3,W=2){const ge=H*Math.pow(W,$),te=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+te)}function mt($){return $&&$._delegate?$._delegate:$}function br($,H){return new Promise((W,ge)=>{$.onsuccess=te=>{W(te.target.result)},$.onerror=te=>{var He;ge(`${H}: ${null===(He=te.target.error)||void 0===He?void 0:He.message}`)}})}class Bt{constructor(H){this._db=H,this.objectStoreNames=this._db.objectStoreNames}transaction(H,W="readonly"){return new nt(this._db.transaction.call(this._db,H,W))}createObjectStore(H,W){return new ue(this._db.createObjectStore(H,W))}close(){this._db.close()}}class nt{constructor(H){this._transaction=H,this.complete=new Promise((W,ge)=>{this._transaction.oncomplete=function(){W()},this._transaction.onerror=()=>{ge(this._transaction.error)},this._transaction.onabort=()=>{ge(this._transaction.error)}})}objectStore(H){return new ue(this._transaction.objectStore(H))}}class ue{constructor(H){this._store=H}index(H){return new st(this._store.index(H))}createIndex(H,W,ge){return new st(this._store.createIndex(H,W,ge))}get(H){return br(this._store.get(H),"Error reading from IndexedDB")}put(H,W){return br(this._store.put(H,W),"Error writing to IndexedDB")}delete(H){return br(this._store.delete(H),"Error deleting from IndexedDB")}clear(){return br(this._store.clear(),"Error clearing IndexedDB object store")}}class st{constructor(H){this._index=H}get(H){return br(this._index.get(H),"Error reading from IndexedDB")}}function vt($,H,W){return new Promise((ge,te)=>{try{const He=indexedDB.open($,H);He.onsuccess=It=>{ge(new Bt(It.target.result))},He.onerror=It=>{var Jt;te(`Error opening indexedDB: ${null===(Jt=It.target.error)||void 0===Jt?void 0:Jt.message}`)},He.onupgradeneeded=It=>{W(new Bt(He.result),It.oldVersion,It.newVersion,new nt(He.transaction))}}catch(He){te(`Error opening indexedDB: ${He.message}`)}})}function Kt($){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*($){return new Promise((H,W)=>{try{const ge=indexedDB.deleteDatabase($);ge.onsuccess=()=>{H()},ge.onerror=te=>{var He;W(`Error deleting indexedDB database "${$}": ${null===(He=te.target.error)||void 0===He?void 0:He.message}`)}}catch(ge){W(`Error deleting indexedDB database "${$}": ${ge.message}`)}})})).apply(this,arguments)}},5527:(gt,Te,L)=>{"use strict";var c=L(5e3);let Q=null;function F(){return Q}const de=new c.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function fe(){return(0,c.LFG)(q)}()},providedIn:"platform"}),n})();const Z=new c.OlP("Location Initialized");let q=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){ne()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){ne()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function qe(){return new q((0,c.LFG)(de))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function je(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ie(n){const e=(0,c.LFG)(de).location;return new et((0,c.LFG)(pe),e&&e.origin||"")}()},providedIn:"root"}),n})();const it=new c.OlP("appBaseHref");let et=(()=>{class n extends ye{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+je(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const h=this.prepareExternalUrl(o+je(u));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){const h=this.prepareExternalUrl(o+je(u));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(it,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let h=this.prepareExternalUrl(o+je(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){let h=this.prepareExternalUrl(o+je(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(it,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Pe(Ge(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+je(r))}normalize(t){return n.stripTrailingSlash(function ze(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=je,n.joinWithSlash=ke,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(c.LFG(ye),c.LFG(pe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function De(){return new Ce((0,c.LFG)(ye),(0,c.LFG)(pe))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}function Us(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}class os{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ir=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new os(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,h),Ui(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Ui(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ui(n,e){n.context.$implicit=e.item}let Or=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class cn{constructor(){this.$implicit=null,this.ngIf=null}}function sa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class qa{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Fl{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Hi=new Fl,jc=new qa;let za=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return Hi;if((0,c.F4k)(t))return jc;throw function Hn(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),cs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Mn(n){return"server"===n}let da=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new ha((0,c.LFG)(de),window)}),n})();class ha{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function xo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$i(this.window.history)||$i(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function $i(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _n{}class Gi extends class hs extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){Q||(Q=n)}(new Gi)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $u(){return dn=dn||document.querySelector("base"),dn?dn.getAttribute("href"):null}();return null==t?null:function hi(n){$s=$s||document.createElement("a"),$s.setAttribute("href",n);const e=$s.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){dn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Us(document.cookie,e)}}let $s,dn=null;const Cr=new c.OlP("TRANSITION_ID"),Mo=[{provide:c.ip1,useFactory:function kn(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=F(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[Cr,de,c.zs3],multi:!0}];class fi{static init(){(0,c.VLi)(new fi)}addToWindow(e){c.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const o=c.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const m=function(b){h=h||b,u--,0==u&&r(h)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let hr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fs=new c.OlP("EventManagerPlugins");let pi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const h=o[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ko{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=F().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Ur=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ps=(()=>{class n extends Ur{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(gs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gs))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function gs(n){F().remove(n)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fa=/%COMP%/g;function Ae(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Ae(n,o,t):(o=o.replace(fa,n),t.push(o))}return t}function Rt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let In=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new co(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new ga(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case c.ifc.ShadowDom:return new tu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ae(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pi),c.LFG(ps),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class co{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(wt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=wt[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=wt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,o&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Rt(r)):this.eventManager.addEventListener(e,t,Rt(r))}}class ga extends co{constructor(e,t,r,o){super(e),this.component=r;const u=Ae(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Ja(n){return"_ngcontent-%COMP%".replace(fa,n)}(o+"-"+r.id),this.hostAttr=function Xa(n){return"_nghost-%COMP%".replace(fa,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class tu extends co{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ae(o.id,o.styles,[]);for(let h=0;h<u.length;h++){const m=document.createElement("style");m.textContent=u[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Gu=(()=>{class n extends ko{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const nu=["alt","control","meta","shift"],ms={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ya=(()=>{class n extends ko{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),h=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let h="";if(nu.forEach(b=>{const A=r.indexOf(b);A>-1&&(r.splice(A,1),h+=b+".")}),h+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function ys(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&fr.hasOwnProperty(e)&&(e=fr[e]))}return ms[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),nu.forEach(u=>{u!=o&&Yr[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _a=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function gi(){Gi.makeCurrent(),fi.init()},multi:!0},{provide:de,useFactory:function Oo(){return(0,c.RDi)(document),document},deps:[]}]),Po=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ru(){return new c.qLn},deps:[]},{provide:fs,useClass:Gu,multi:!0,deps:[de,c.R0b,c.Lbi]},{provide:fs,useClass:ya,multi:!0,deps:[de]},{provide:In,useClass:In,deps:[pi,ps,c.AFp]},{provide:c.FYo,useExisting:In},{provide:Ur,useExisting:ps},{provide:ps,useClass:ps,deps:[de]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:pi,useClass:pi,deps:[fs,c.R0b]},{provide:_n,useClass:hr,deps:[]}];let Fo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Cr,useExisting:c.AFp},Mo]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Po,imports:[cs,c.hGG]}),n})();"undefined"!=typeof window&&window;var Fn=L(8996),Ln=L(7669);function Ct(...n){const e=(0,Ln.yG)(n);return(0,Fn.D)(n,e)}var pr=L(7579);class gr extends pr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var E=L(8306);const{isArray:C}=Array,{getPrototypeOf:M,prototype:B,keys:Se}=Object;function Xe(n){if(1===n.length){const e=n[0];if(C(e))return{args:e,keys:null};if(function Cn(n){return n&&"object"==typeof n&&M(n)===B}(e)){const t=Se(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Rn=L(4671),pt=L(4004);const{isArray:zs}=Array;function qc(n){return(0,pt.U)(e=>function Uo(n,e){return zs(e)?n(...e):n(e)}(n,e))}function Bo(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var sr=L(5403),Ws=L(9672);function po(n,e,t){n?(0,Ws.f)(t,n,e):e()}var cu=L(576);function ws(n,e){const t=(0,cu.m)(n)?n:()=>n,r=o=>o.error(t());return new E.y(e?o=>e.schedule(r,0,o):r)}const go=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var bs=L(8189);function zc(...n){return function jl(){return(0,bs.J)(1)}()((0,Fn.D)(n,(0,Ln.yG)(n)))}var Ca=L(8421);function zi(n){return new E.y(e=>{(0,Ca.Xf)(n()).subscribe(e)})}var Ia=L(515),du=L(727),Xr=L(4482);function Wi(){return(0,Xr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,sr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Wc extends E.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Xr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new du.w0;const t=this.getSubject();e.add(this.source.subscribe((0,sr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=du.w0.EMPTY)}return e}refCount(){return Wi()(this)}}function Wn(n,e){return(0,Xr.e)((t,r)=>{let o=null,u=0,h=!1;const m=()=>h&&!o&&r.complete();t.subscribe((0,sr.x)(r,b=>{null==o||o.unsubscribe();let A=0;const R=u++;(0,Ca.Xf)(n(b,R)).subscribe(o=(0,sr.x)(r,O=>r.next(e?e(b,O,R,A++):O),()=>{o=null,m()}))},()=>{h=!0,m()}))})}var jo=L(5698);function Ki(...n){const e=(0,Ln.yG)(n);return(0,Xr.e)((t,r)=>{(e?zc(n,t,e):zc(n,t)).subscribe(r)})}function Da(n,e,t,r,o){return(u,h)=>{let m=t,b=e,A=0;u.subscribe((0,sr.x)(h,R=>{const O=A++;b=m?n(b,R,O):(m=!0,R),r&&h.next(b)},o&&(()=>{m&&h.next(b),h.complete()})))}}function Br(n,e){return(0,Xr.e)(Da(n,e,arguments.length>=2,!0))}function Es(n,e){return(0,Xr.e)((t,r)=>{let o=0;t.subscribe((0,sr.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}function Cs(n){return(0,Xr.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,sr.x)(t,void 0,void 0,h=>{u=(0,Ca.Xf)(n(h,Cs(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Gn=L(5577);function Ks(n,e){return(0,cu.m)(e)?(0,Gn.z)(n,e,1):(0,Gn.z)(n,1)}function Kc(n){return n<=0?()=>Ia.E:(0,Xr.e)((e,t)=>{let r=[];e.subscribe((0,sr.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Vn(n=wp){return(0,Xr.e)((e,t)=>{let r=!1;e.subscribe((0,sr.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function wp(){return new go}function bp(n){return(0,Xr.e)((e,t)=>{let r=!1;e.subscribe((0,sr.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function mo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Es((o,u)=>n(o,u,r)):Rn.y,(0,jo.q)(1),t?bp(e):Vn(()=>new go))}var yi=L(8505);class yo{constructor(e,t){this.id=e,this.url=t}}class Ys extends yo{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qu extends yo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Un extends yo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hl extends yo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ta extends yo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ip extends yo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $l extends yo{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jr extends yo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ti extends yo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qs{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Is{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zl{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ql{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zt="primary";class zl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function mr(n){return new zl(n)}const Wl="ngNavigationCancelingError";function _o(n){const e=Error("NavigationCancelingError: "+n);return e[Wl]=!0,e}function Ho(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const h=r[u],m=n[u];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ds(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Xu(n[o],e[o]))return!1;return!0}function Xu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Ts(n){return Array.prototype.concat.apply([],n)}function Qc(n){return n.length>0?n[n.length-1]:null}function yr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ai(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Fn.D)(Promise.resolve(n)):Ct(n)}const $o={exact:function T(n,e,t){if(!Ht(n.segments,e.segments)||!se(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!T(n.children[r],e.children[r],t))return!1;return!0},subset:j},Aa={exact:function D(n,e){return Ds(n,e)},subset:function N(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Xu(n[t],e[t]))},ignored:()=>!0};function el(n,e,t){return $o[t.paths](n.root,e.root,t.matrixParams)&&Aa[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function j(n,e,t){return J(n,e,e.segments,t)}function J(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Ht(o,t)||e.hasChildren()||!se(o,t,r))}if(n.segments.length===t.length){if(!Ht(n.segments,t)||!se(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!j(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Ht(n.segments,o)&&se(n.segments,o,r)&&n.children[Zt])&&J(n.children[Zt],e,u,r)}}function se(n,e,t){return e.every((r,o)=>Aa[t](n[o].parameters,r.parameters))}class Ne{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mr(this.queryParams)),this._queryParamMap}toString(){return Sa.serialize(this)}}class Re{constructor(e,t){this.segments=e,this.children=t,this.parent=null,yr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Go(this)}}class ut{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=mr(this.parameters)),this._parameterMap}toString(){return fu(this)}}function Ht(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class or{}class Zn{parse(e){const t=new Xc(e);return new Ne(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ei(e.root,!0)}`,r=function Lm(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Qi(t)}=${Qi(o)}`).join("&"):`${Qi(t)}=${Qi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Zo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Sa=new Zn;function Go(n){return n.segments.map(e=>fu(e)).join("/")}function ei(n,e){if(!n.hasChildren())return Go(n);if(e){const t=n.children[Zt]?ei(n.children[Zt],!1):"",r=[];return yr(n.children,(o,u)=>{u!==Zt&&r.push(`${u}:${ei(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ot(n,e){let t=[];return yr(n.children,(r,o)=>{o===Zt&&(t=t.concat(e(r,o)))}),yr(n.children,(r,o)=>{o!==Zt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Zt?[ei(n.children[Zt],!1)]:[`${o}:${ei(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${Go(n)}/${t[0]}`:`${Go(n)}/(${t.join("//")})`}}function Si(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qi(n){return Si(n).replace(/%3B/gi,";")}function Jc(n){return Si(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yl(n){return decodeURIComponent(n)}function Ql(n){return Yl(n.replace(/\+/g,"%20"))}function fu(n){return`${Jc(n.path)}${function Dp(n){return Object.keys(n).map(e=>`;${Jc(e)}=${Jc(n[e])}`).join("")}(n.parameters)}`}const Vm=/^[^\/()?;=#]+/;function Js(n){const e=n.match(Vm);return e?e[0]:""}const Jl=/^[^=?&#]+/,Bm=/^[^&#]+/;class Xc{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Zt]=new Re(e,t)),r}parseSegment(){const e=Js(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ut(Yl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Js(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Js(this.remaining);o&&(r=o,this.capture(r))}e[Yl(t)]=Yl(r)}parseQueryParam(e){const t=function Um(n){const e=n.match(Jl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function Tp(n){const e=n.match(Bm);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Ql(t),u=Ql(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Js(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Zt);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[Zt]:new Re([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class jm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=hh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return fh(e,this._root).map(t=>t.value)}}function hh(n,e){if(n===e.value)return e;for(const t of e.children){const r=hh(n,t);if(r)return r}return null}function fh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fh(n,t);if(r.length)return r.unshift(e),r}return[]}class qo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function zo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ed extends jm{constructor(e,t){super(e),this.snapshot=t,nd(this,e)}toString(){return this.snapshot.toString()}}function pu(n,e){const t=function Hm(n,e){const h=new tl([],{},{},"",{},Zt,e,null,n.root,-1,{});return new ph("",new qo(h,[]))}(n,e),r=new gr([new ut("",{})]),o=new gr({}),u=new gr({}),h=new gr({}),m=new gr(""),b=new Wo(r,o,h,m,u,Zt,e,t.root);return b.snapshot=t.root,new ed(new qo(b,[]),t)}class Wo{constructor(e,t,r,o,u,h,m,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>mr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>mr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $m(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function td(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class tl{constructor(e,t,r,o,u,h,m,b,A,R,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=A,this._lastPathIndex=R,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ph extends jm{constructor(e,t){super(t),this.url=e,nd(this,t)}toString(){return rd(this._root)}}function nd(n,e){e.value._routerState=n,e.children.forEach(t=>nd(n,t))}function rd(n){const e=n.children.length>0?` { ${n.children.map(rd).join(", ")} } `:"";return`${n.value}${e}`}function id(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ds(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ds(e.params,t.params)||n.params.next(t.params),function Ju(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ds(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ds(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function gh(n,e){const t=Ds(n.params,e.params)&&function kt(n,e){return Ht(n,e)&&n.every((t,r)=>Ds(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||gh(n.parent,e.parent))}function Xl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function mh(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Xl(n,r,o);return Xl(n,r)})}(n,e,t);return new qo(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>Xl(n,m)),h}}const r=function Zm(n){return new Wo(new gr(n.url),new gr(n.params),new gr(n.queryParams),new gr(n.fragment),new gr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Xl(n,u));return new qo(r,o)}}function xa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function nl(n){return"object"==typeof n&&null!=n&&n.outlets}function Ap(n,e,t,r,o){let u={};if(r&&yr(r,(m,b)=>{u[b]=Array.isArray(m)?m.map(A=>`${A}`):`${m}`}),n===e)return new Ne(t,u,o);const h=yh(n,e,t);return new Ne(h,u,o)}function yh(n,e,t){const r={};return yr(n.children,(o,u)=>{r[u]=o===e?t:yh(o,e,t)}),new Re(n.segments,r)}class qm{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xa(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(nl);if(o&&o!==Qc(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _h{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ym(n,e,t){if(n||(n=new Re([],{})),0===n.segments.length&&n.hasChildren())return wo(n,e,t);const r=function Aw(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const h=n.segments[o],m=t[r];if(nl(m))break;const b=`${m}`,A=r<t.length-1?t[r+1]:null;if(o>0&&void 0===b)break;if(b&&A&&"object"==typeof A&&void 0===A.outlets){if(!Ji(b,A,h))return u;r+=2}else{if(!Ji(b,{},h))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Re(n.segments.slice(0,r.pathIndex),{});return u.children[Zt]=new Re(n.segments.slice(r.pathIndex),n.children),wo(u,0,o)}return r.match&&0===o.length?new Re(n.segments,{}):r.match&&!n.hasChildren()?vh(n,e,t):r.match?wo(n,0,o):vh(n,e,t)}function wo(n,e,t){if(0===t.length)return new Re(n.segments,{});{const r=function Km(n){return nl(n[0])?n[0].outlets:{[Zt]:n}}(t),o={};return yr(r,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[h]=Ym(n.children[h],e,u))}),yr(n.children,(u,h)=>{void 0===r[h]&&(o[h]=u)}),new Re(n.segments,o)}}function vh(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(nl(u)){const b=rl(u.outlets);return new Re(r,b)}if(0===o&&xa(t[0])){r.push(new ut(n.segments[e].path,wh(t[0]))),o++;continue}const h=nl(u)?u.outlets[Zt]:`${u}`,m=o<t.length-1?t[o+1]:null;h&&m&&xa(m)?(r.push(new ut(h,wh(m))),o+=2):(r.push(new ut(h,{})),o++)}return new Re(r,{})}function rl(n){const e={};return yr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=vh(new Re([],{}),0,t))}),e}function wh(n){const e={};return yr(n,(t,r)=>e[r]=`${t}`),e}function Ji(n,e,t){return n==t.path&&Ds(e,t.parameters)}class xp{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),id(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=zo(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],r),delete o[h]}),yr(o,(u,h)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=zo(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=zo(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=zo(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Zl(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Is(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(id(o),o===u)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),id(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=function sd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=b,h.outlet&&h.outlet.activateWith(o,b),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class od{constructor(e,t){this.routes=e,this.module=t}}function gu(n){return"function"==typeof n}function il(n){return n instanceof Ne}const tc=Symbol("INITIAL_VALUE");function Ma(){return Wn(n=>function Ea(...n){const e=(0,Ln.yG)(n),t=(0,Ln.jO)(n),{args:r,keys:o}=Xe(n);if(0===r.length)return(0,Fn.D)([],e);const u=new E.y(function Di(n,e,t=Rn.y){return r=>{po(e,()=>{const{length:o}=n,u=new Array(o);let h=o,m=o;for(let b=0;b<o;b++)po(e,()=>{const A=(0,Fn.D)(n[b],e);let R=!1;A.subscribe((0,sr.x)(r,O=>{u[b]=O,R||(R=!0,m--),m||r.next(t(u.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>Bo(o,h):Rn.y));return t?u.pipe(qc(t)):u}(n.map(e=>e.pipe((0,jo.q)(1),Ki(tc)))).pipe(Br((e,t)=>{let r=!1;return t.reduce((o,u,h)=>o!==tc?o:(u===tc&&(r=!0),r||!1!==u&&h!==t.length-1&&!il(u)?o:u),e)},tc),Es(e=>e!==tc),(0,pt.U)(e=>il(e)?e:!0===e),(0,jo.q)(1)))}class Qm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new nc,this.attachRef=null}}class nc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Qm,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let rc=(()=>{class n{constructor(t,r,o,u,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=u||Zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new Ih(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(nc),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Ih{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Wo?this.route:e===nc?this.childContexts:this.parent.get(e,t)}}let Dh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[rc],encapsulation:2}),n})();function ic(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];ad(r,Th(e,r))}}function ad(n,e){n.children&&ic(n.children,e)}function Th(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Ah(n){const e=n.children&&n.children.map(Ah),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Zt&&(t.component=Dh),t}function fn(n){return n.outlet||Zt}function Sh(n,e){const t=n.filter(r=>fn(r)===e);return t.push(...n.filter(r=>fn(r)!==e)),t}const kp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sl(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},kp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||Ho)(t,n,e);if(!u)return Object.assign({},kp);const h={};yr(u.posParams,(b,A)=>{h[A]=b.path});const m=u.consumed.length>0?Object.assign(Object.assign({},h),u.consumed[u.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function sc(n,e,t,r,o="corrected"){if(t.length>0&&function Xm(n,e,t){return t.some(r=>ld(n,e,r)&&fn(r)!==Zt)}(n,t,r)){const h=new Re(e,function ud(n,e,t,r){const o={};o[Zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&fn(u)!==Zt){const h=new Re([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[fn(u)]=h}return o}(n,e,r,new Re(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function Np(n,e,t){return t.some(r=>ld(n,e,r))}(n,t,r)){const h=new Re(n.segments,function Jm(n,e,t,r,o,u){const h={};for(const m of r)if(ld(n,t,m)&&!o[fn(m)]){const b=new Re([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===u?n.segments.length:e.length,h[fn(m)]=b}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const u=new Re(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function ld(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ey(n,e,t,r){return!!(fn(n)===r||r!==Zt&&ld(e,t,n))&&("**"===n.path||sl(e,n,t).matched)}function ty(n,e,t){return 0===e.length&&!n.children[t]}class ka{constructor(e){this.segmentGroup=e||null}}class Hr{constructor(e){this.urlTree=e}}function Ko(n){return ws(new ka(n))}function oc(n){return ws(new Hr(n))}class Mh{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=sc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Re(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Zt).pipe((0,pt.U)(u=>this.createUrlTree(yu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cs(u=>{if(u instanceof Hr)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ka?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Zt).pipe((0,pt.U)(o=>this.createUrlTree(yu(o),e.queryParams,e.fragment))).pipe(Cs(o=>{throw o instanceof ka?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Re([],{[Zt]:e}):e;return new Ne(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,pt.U)(u=>new Re([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Fn.D)(o).pipe(Ks(u=>{const h=r.children[u],m=Sh(t,u);return this.expandSegmentGroup(e,m,h,u).pipe((0,pt.U)(b=>({segment:b,outlet:u})))}),Br((u,h)=>(u[h.outlet]=h.segment,u),{}),function Ep(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Es((o,u)=>n(o,u,r)):Rn.y,Kc(1),t?bp(e):Vn(()=>new go))}())}expandSegment(e,t,r,o,u,h){return(0,Fn.D)(r).pipe(Ks(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,h).pipe(Cs(A=>{if(A instanceof ka)return Ct(null);throw A}))),mo(m=>!!m),Cs((m,b)=>{if(m instanceof go||"EmptyError"===m.name)return ty(t,o,u)?Ct(new Re([],{})):Ko(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,h,m){return ey(o,t,u,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h):Ko(t):Ko(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oc(u):this.lineralizeSegments(r,u).pipe((0,Gn.z)(h=>{const m=new Re(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){const{matched:m,consumedSegments:b,remainingSegments:A,positionalParamSegments:R}=sl(t,o,u);if(!m)return Ko(t);const O=this.applyRedirectCommands(b,o.redirectTo,R);return o.redirectTo.startsWith("/")?oc(O):this.lineralizeSegments(o,O).pipe((0,Gn.z)(z=>this.expandSegment(e,t,r,z.concat(A),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ct(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,pt.U)(O=>(r._loadedConfig=O,new Re(o,{})))):Ct(new Re(o,{}));const{matched:h,consumedSegments:m,remainingSegments:b}=sl(t,r,o);return h?this.getChildConfig(e,r,o).pipe((0,Gn.z)(R=>{const O=R.module,z=R.routes,{segmentGroup:K,slicedSegments:oe}=sc(t,m,b,z),Le=new Re(K.segments,K.children);if(0===oe.length&&Le.hasChildren())return this.expandChildren(O,z,Le).pipe((0,pt.U)(on=>new Re(m,on)));if(0===z.length&&0===oe.length)return Ct(new Re(m,{}));const ht=fn(r)===u;return this.expandSegment(O,Le,z,oe,ht?Zt:u,!0).pipe((0,pt.U)(en=>new Re(m.concat(en.segments),en.children)))})):Ko(t)}getChildConfig(e,t,r){return t.children?Ct(new od(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ct(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Gn.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,pt.U)(u=>(t._loadedConfig=u,u))):function ti(n){return ws(_o(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Ct(new od([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?Ct(o.map(h=>{const m=e.get(h);let b;if(function bh(n){return n&&gu(n.canLoad)}(m))b=m.canLoad(t,r);else{if(!gu(m))throw new Error("Invalid CanLoad guard");b=m(t,r)}return Ai(b)})).pipe(Ma(),(0,yi.b)(h=>{if(!il(h))return;const m=_o(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,pt.U)(h=>!0===h)):Ct(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ct(r);if(o.numberOfChildren>1||!o.children[Zt])return ws(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[Zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Ne(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return yr(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let h={};return yr(t.children,(m,b)=>{h[b]=this.createSegmentGroup(e,m,r,o)}),new Re(u,h)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function yu(n){const e={};for(const r of Object.keys(n.children)){const u=yu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Xi(n){if(1===n.numberOfChildren&&n.children[Zt]){const e=n.children[Zt];return new Re(n.segments.concat(e.segments),e.children)}return n}(new Re(n.segments,e))}class Rp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class _u{constructor(e,t){this.component=e,this.route=t}}function Nh(n,e,t){const r=n._root;return xi(r,e?e._root:null,t,[r.value])}function ac(n,e,t){const r=function ny(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function xi(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=zo(e);return n.children.forEach(h=>{(function Pp(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const b=function ry(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ht(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ht(n.url,e.url)||!Ds(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gh(n,e)||!Ds(n.queryParams,e.queryParams);default:return!gh(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new Rp(r)):(u.data=h.data,u._resolvedData=h._resolvedData),xi(n,e,u.component?m?m.children:null:t,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new _u(m.outlet.component,h))}else h&&vu(e,m,o),o.canActivateChecks.push(new Rp(r)),xi(n,null,u.component?m?m.children:null:t,r,o)})(h,u[h.value.outlet],t,r.concat([h.value]),o),delete u[h.value.outlet]}),yr(u,(h,m)=>vu(h,t.getContext(m),o)),o}function vu(n,e,t){const r=zo(n),o=n.value;yr(r,(u,h)=>{vu(u,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new _u(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Ph{}function Fh(n){return new E.y(e=>e.error(n))}class Lh{constructor(e,t,r,o,u,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const e=sc(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Zt);if(null===t)return null;const r=new tl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new qo(r,t),u=new ph(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=$m(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const h=t.children[u],m=Sh(e,u),b=this.processSegmentGroup(m,h,u);if(null===b)return null;r.push(...b)}const o=Lp(r);return function ay(n){n.sort((e,t)=>e.value.outlet===Zt?-1:t.value.outlet===Zt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const h=this.processSegmentAgainstRoute(u,t,r,o);if(null!==h)return h}return ty(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!ey(e,t,r,o))return null;let u,h=[],m=[];if("**"===e.path){const K=r.length>0?Qc(r).parameters:{};u=new tl(r,K,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,v(e),fn(e),e.component,e,f(t),g(t)+r.length,S(e))}else{const K=sl(t,e,r);if(!K.matched)return null;h=K.consumedSegments,m=K.remainingSegments,u=new tl(h,K.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,v(e),fn(e),e.component,e,f(t),g(t)+h.length,S(e))}const b=function uy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:A,slicedSegments:R}=sc(t,h,m,b.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);if(0===R.length&&A.hasChildren()){const K=this.processChildren(b,A);return null===K?null:[new qo(u,K)]}if(0===b.length&&0===R.length)return[new qo(u,[])];const O=fn(e)===o,z=this.processSegment(b,A,R,O?Zt:o);return null===z?null:[new qo(u,z)]}}function ly(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Lp(n){const e=[],t=new Set;for(const r of n){if(!ly(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Lp(r.children);e.push(new qo(r.value,o))}return e.filter(r=>!t.has(r))}function f(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function g(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function v(n){return n.data||{}}function S(n){return n.resolve||{}}function lt(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function _t(n){return Wn(e=>{const t=n(e);return t?(0,Fn.D)(t).pipe((0,pt.U)(()=>e)):Ct(e)})}class lc extends class Ss{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ol=new c.OlP("ROUTES");class al{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,pt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=u.create(e);return new od(Ts(h.injector.get(ol,void 0,c.XFs.Self|c.XFs.Optional)).map(Ah),h)}),Cs(u=>{throw t._loader$=void 0,u}));return t._loader$=new Wc(o,()=>new pr.x).pipe(Wi()),t._loader$}loadModuleFactory(e){return Ai(e()).pipe((0,Gn.z)(t=>t instanceof c.YKP?Ct(t):(0,Fn.D)(this.compiler.compileModuleAsync(t))))}}class cy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Na(n){throw n}function cd(n,e,t){return e.parse("/")}function dd(n,e){return Ct(null)}const Uh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class n{constructor(t,r,o,u,h,m,b){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pr.x,this.errorHandler=Na,this.malformedUriErrorHandler=cd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:dd,afterPreactivation:dd},this.urlHandlingStrategy=new cy,this.routeReuseStrategy=new lc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(c.h0i),this.console=h.get(c.c2e);const O=h.get(c.R0b);this.isNgZoneEnabled=O instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function Kl(){return new Ne(new Re([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new al(h,m,z=>this.triggerEvent(new Gl(z)),z=>this.triggerEvent(new Qs(z))),this.routerState=pu(this.currentUrlTree,this.rootComponentType),this.transitions=new gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Es(o=>0!==o.id),(0,pt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Wn(o=>{let u=!1,h=!1;return Ct(o).pipe((0,yi.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Wn(m=>{const b=this.browserUrlTree.toString(),A=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Vp(m.source)&&(this.browserUrlTree=m.extractedUrl),Ct(m).pipe(Wn(O=>{const z=this.transitions.getValue();return r.next(new Ys(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),z!==this.transitions.getValue()?Ia.E:Promise.resolve(O)}),function kh(n,e,t,r){return Wn(o=>function mu(n,e,t,r,o){return new Mh(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,pt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yi.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function P(n,e,t,r,o){return(0,Gn.z)(u=>function oy(n,e,t,r,o="emptyOnly",u="legacy"){try{const h=new Lh(n,e,t,r,o,u).recognize();return null===h?Fh(new Ph):Ct(h)}catch(h){return Fh(h)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,pt.U)(h=>Object.assign(Object.assign({},u),{targetSnapshot:h}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yi.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(K,O)}this.browserUrlTree=O.urlAfterRedirects}const z=new Ta(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(z)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:K,source:oe,restoredState:Le,extras:ht}=m,xt=new Ys(z,this.serializeUrl(K),oe,Le);r.next(xt);const en=pu(K,this.rootComponentType).snapshot;return Ct(Object.assign(Object.assign({},m),{targetSnapshot:en,urlAfterRedirects:K,extras:Object.assign(Object.assign({},ht),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Ia.E}),_t(m=>{const{targetSnapshot:b,id:A,extractedUrl:R,rawUrl:O,extras:{skipLocationChange:z,replaceUrl:K}}=m;return this.hooks.beforePreactivation(b,{navigationId:A,appliedUrlTree:R,rawUrlTree:O,skipLocationChange:!!z,replaceUrl:!!K})}),(0,yi.b)(m=>{const b=new Ip(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,pt.U)(m=>Object.assign(Object.assign({},m),{guards:Nh(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function iy(n,e){return(0,Gn.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?Ct(Object.assign(Object.assign({},t),{guardsResult:!0})):function Fp(n,e,t,r){return(0,Fn.D)(n).pipe((0,Gn.z)(o=>function uc(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Ct(u.map(m=>{const b=ac(m,e,o);let A;if(function Sw(n){return n&&gu(n.canDeactivate)}(b))A=Ai(b.canDeactivate(n,e,t,r));else{if(!gu(b))throw new Error("Invalid CanDeactivate guard");A=Ai(b(n,e,t,r))}return A.pipe(mo())})).pipe(Ma()):Ct(!0)}(o.component,o.route,t,e,r)),mo(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Gn.z)(m=>m&&function Mp(n){return"boolean"==typeof n}(m)?function $r(n,e,t,r){return(0,Fn.D)(e).pipe(Ks(o=>zc(function Oh(n,e){return null!==n&&e&&e(new Yi(n)),Ct(!0)}(o.route.parent,r),function Rh(n,e){return null!==n&&e&&e(new hu(n)),Ct(!0)}(o.route,r),function Yo(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function Op(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>zi(()=>Ct(h.guards.map(b=>{const A=ac(b,h.node,t);let R;if(function Ch(n){return n&&gu(n.canActivateChild)}(A))R=Ai(A.canActivateChild(r,n));else{if(!gu(A))throw new Error("Invalid CanActivateChild guard");R=Ai(A(r,n))}return R.pipe(mo())})).pipe(Ma())));return Ct(u).pipe(Ma())}(n,o.path,t),function sy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ct(!0);const o=r.map(u=>zi(()=>{const h=ac(u,e,t);let m;if(function Eh(n){return n&&gu(n.canActivate)}(h))m=Ai(h.canActivate(e,n));else{if(!gu(h))throw new Error("Invalid CanActivate guard");m=Ai(h(e,n))}return m.pipe(mo())}));return Ct(o).pipe(Ma())}(n,o.route,t))),mo(o=>!0!==o,!0))}(r,u,n,e):Ct(m)),(0,pt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,yi.b)(m=>{if(il(m.guardsResult)){const A=_o(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw A.url=m.guardsResult,A}const b=new $l(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),Es(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),_t(m=>{if(m.guards.canActivateChecks.length)return Ct(m).pipe((0,yi.b)(b=>{const A=new jr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(A)}),Wn(b=>{let A=!1;return Ct(b).pipe(function Y(n,e){return(0,Gn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Ct(t);let u=0;return(0,Fn.D)(o).pipe(Ks(h=>function he(n,e,t,r){return function Ze(n,e,t,r){const o=lt(n);if(0===o.length)return Ct({});const u={};return(0,Fn.D)(o).pipe((0,Gn.z)(h=>function St(n,e,t,r){const o=ac(n,e,r);return Ai(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,yi.b)(m=>{u[h]=m}))),Kc(1),(0,Gn.z)(()=>lt(u).length===o.length?Ct(u):Ia.E))}(n._resolve,n,e,r).pipe((0,pt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),$m(n,t).resolve),null)))}(h.route,r,n,e)),(0,yi.b)(()=>u++),Kc(1),(0,Gn.z)(h=>u===o.length?Ct(t):Ia.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yi.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,yi.b)(b=>{const A=new Ti(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(A)}))}),_t(m=>{const{targetSnapshot:b,id:A,extractedUrl:R,rawUrl:O,extras:{skipLocationChange:z,replaceUrl:K}}=m;return this.hooks.afterPreactivation(b,{navigationId:A,appliedUrlTree:R,rawUrlTree:O,skipLocationChange:!!z,replaceUrl:!!K})}),(0,pt.U)(m=>{const b=function Gm(n,e,t){const r=Xl(n,e._root,t?t._root:void 0);return new ed(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,yi.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,pt.U)(r=>(new xp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,yi.b)({next(){u=!0},complete(){u=!0}}),function Cp(n){return(0,Xr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),Cs(m=>{if(h=!0,function Yc(n){return n&&n[Wl]}(m)){const b=il(m.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const A=new Un(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(A),b?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vp(o.source)};this.scheduleNavigation(R,"imperative",null,O,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new Hl(o.id,this.serializeUrl(o.extractedUrl),m);r.next(b);try{o.resolve(this.errorHandler(m))}catch(A){o.reject(A)}}return Ia.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},h=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(h){const b=Object.assign({},h);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(u.state=b)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,h,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ic(t),this.config=t.map(Ah),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,A=o||this.routerState.root,R=b?this.currentUrlTree.fragment:h;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=u||null}return null!==O&&(O=this.removeEmptyProps(O)),function vo(n,e,t,r,o){if(0===t.length)return Ap(e.root,e.root,e.root,r,o);const u=function zm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qm(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return yr(u.outlets,(b,A)=>{m[A]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new qm(t,e,r)}(t);if(u.toRoot())return Ap(e.root,e.root,new Re([],{}),r,o);const h=function Sp(n,e,t){if(n.isAbsolute)return new _h(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new _h(u,u===e.root,0)}const r=xa(n.commands[0])?0:1;return function Wm(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new _h(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=h.processChildren?wo(h.segmentGroup,h.index,u.commands):Ym(h.segmentGroup,h.index,u.commands);return Ap(e.root,h.segmentGroup,m,r,o)}(A,this.currentUrlTree,t,O,null!=R?R:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=il(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Bh(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},Uh):!1===r?Object.assign({},hd):r,il(t))return el(this.currentUrlTree,t,o);const u=this.parseUrl(t);return el(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Qu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,h){var m,b;if(this.disposed)return Promise.resolve(!1);let A,R,O;h?(A=h.resolve,R=h.reject,O=h.promise):O=new Promise((oe,Le)=>{A=oe,R=Le});const z=++this.navigationId;let K;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),K=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):K=0,this.setTransition({id:z,targetPageId:K,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:A,reject:R,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(oe=>Promise.reject(oe))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new Un(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Vp(n){return"imperative"!==n}class py{}class Mw{preload(e,t){return Ct(null)}}let kw=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new al(o,r,b=>t.triggerEvent(new Gl(b)),b=>t.triggerEvent(new Qs(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(Es(t=>t instanceof Qu),Ks(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const h=u._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,Fn.D)(o).pipe((0,bs.J)(),(0,pt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ct(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Gn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ni),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(py))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Up=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ys?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ql&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new ql(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xs=new c.OlP("ROUTER_CONFIGURATION"),my=new c.OlP("ROUTER_FORROOT_GUARD"),Nw=[Ce,{provide:or,useClass:Zn},{provide:ni,useFactory:function _y(n,e,t,r,o,u,h={},m,b){const A=new ni(null,n,e,t,r,o,Ts(u));return m&&(A.urlHandlingStrategy=m),b&&(A.routeReuseStrategy=b),function Pw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,A),h.enableTracing&&A.events.subscribe(R=>{var O,z;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(z=console.groupEnd)||void 0===z||z.call(console)}),A},deps:[or,nc,Ce,c.zs3,c.Sil,ol,Xs,[class Vh{},new c.FiY],[class qn{},new c.FiY]]},nc,{provide:Wo,useFactory:function Bp(n){return n.routerState.root},deps:[ni]},kw,Mw,class gy{preload(e,t){return t().pipe(Cs(()=>Ct(null)))}},{provide:Xs,useValue:{enableTracing:!1}}];function dC(){return new c.PXZ("Router",ni)}let pd=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Nw,yy(t),{provide:my,useFactory:Ow,deps:[[ni,new c.FiY,new c.tp0]]},{provide:Xs,useValue:r||{}},{provide:ye,useFactory:Rw,deps:[pe,[new c.tBr(it),new c.FiY],Xs]},{provide:Up,useFactory:hC,deps:[ni,da,Xs]},{provide:py,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Mw},{provide:c.PXZ,multi:!0,useFactory:dC},[gd,{provide:c.ip1,multi:!0,useFactory:Fw,deps:[gd]},{provide:wy,useFactory:vy,deps:[gd]},{provide:c.tb,multi:!0,useExisting:wy}]]}}static forChild(t){return{ngModule:n,providers:[yy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(my,8),c.LFG(ni,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function hC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Up(n,e,t)}function Rw(n,e,t={}){return t.useHash?new xe(n,e):new et(n,e)}function Ow(n){return"guarded"}function yy(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:ol,multi:!0,useValue:n}]}let gd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new pr.x}appInitializer(){return this.injector.get(Z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get(ni),h=this.injector.get(Xs);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?Ct(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Xs),o=this.injector.get(kw),u=this.injector.get(Up),h=this.injector.get(ni),m=this.injector.get(c.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),u.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Fw(n){return n.appInitializer.bind(n)}function vy(n){return n.bootstrapListener.bind(n)}const wy=new c.OlP("Router Initializer"),fC=[];let Lw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[pd.forRoot(fC)],pd]}),n})(),pC=(()=>{class n{constructor(){this.title="workface"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"fondoNegro"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"router-outlet"),c.qZA())},directives:[rc],styles:[""]}),n})();var Qo=L(2011);const Ey_firebase={apiKey:"AIzaSyBsxM8a6HMUjcgIwB7OgHU-qHg-DUx2f-4",authDomain:"workface-f8b36.firebaseapp.com",databaseURL:"https://workface-f8b36-default-rtdb.firebaseio.com",projectId:"workface-f8b36",storageBucket:"workface-f8b36.appspot.com",messagingSenderId:"501844164896",appId:"1:501844164896:web:eb2b425616e769bf301745",measurementId:"G-DHYE7K02F2"};let Iy=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),md=(()=>{class n extends Iy{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Jo=new c.OlP("NgValueAccessor"),mC={provide:Jo,useExisting:(0,c.Gpc)(()=>jh),multi:!0},Xo=new c.OlP("CompositionEventMode");let jh=(()=>{class n extends Iy{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yC(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Xo,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([mC]),c.qOj]}),n})();function wu(n){return null==n||0===n.length}function Vw(n){return null!=n&&"number"==typeof n.length}const Mi=new c.OlP("NgValidators"),ul=new c.OlP("NgAsyncValidators"),_C=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hn{static min(e){return function Uw(n){return e=>{if(wu(e.value)||wu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Bw(n){return e=>{if(wu(e.value)||wu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function jw(n){return wu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Ut(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Ty(n){return wu(n.value)||_C.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Ay(n){return e=>wu(e.value)||!Vw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Sy(n){return e=>Vw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Hh(n){if(!n)return xs;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(wu(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return $p(e)}static composeAsync(e){return Ny(e)}}function xs(n){return null}function xy(n){return null!=n}function Hw(n){const e=(0,c.QGY)(n)?(0,Fn.D)(n):n;return(0,c.CqO)(e),e}function Hp(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ra(n,e){return e.map(t=>t(n))}function ky(n){return n.map(e=>function My(n){return!n.validate}(e)?e:t=>e.validate(t))}function $p(n){if(!n)return null;const e=n.filter(xy);return 0==e.length?null:function(t){return Hp(Ra(t,e))}}function $w(n){return null!=n?$p(ky(n)):null}function Ny(n){if(!n)return null;const e=n.filter(xy);return 0==e.length?null:function(t){return function Cy(...n){const e=(0,Ln.jO)(n),{args:t,keys:r}=Xe(n),o=new E.y(u=>{const{length:h}=t;if(!h)return void u.complete();const m=new Array(h);let b=h,A=h;for(let R=0;R<h;R++){let O=!1;(0,Ca.Xf)(t[R]).subscribe((0,sr.x)(u,z=>{O||(O=!0,A--),m[R]=z},()=>b--,void 0,()=>{(!b||!O)&&(A||u.next(r?Bo(r,m):m),u.complete())}))}});return e?o.pipe(qc(e)):o}(Ra(t,e).map(Hw)).pipe((0,pt.U)(Hp))}}function Gw(n){return null!=n?Ny(ky(n)):null}function $h(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Gh(n){return n._rawValidators}function Gp(n){return n._rawAsyncValidators}function Zh(n){return n?Array.isArray(n)?n:[n]:[]}function yd(n,e){return Array.isArray(n)?n.includes(e):n===e}function vC(n,e){const t=Zh(e);return Zh(n).forEach(o=>{yd(t,o)||t.push(o)}),t}function Zw(n,e){return Zh(e).filter(t=>!yd(n,t))}class qw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$w(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ll extends qw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class es extends qw{get formDirective(){return null}get path(){return null}}class Ry{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let zw=(()=>{class n extends Ry{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ll,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),Zp=(()=>{class n extends Ry{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(es,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function qh(n,e){return[...e.path,n]}function cc(n,e){Oa(n,e),e.valueAccessor.writeValue(n.value),function CC(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Kw(n,e)})}(n,e),function Yw(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Fy(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Kw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function EC(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Wh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _d(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Oa(n,e){const t=Gh(n);null!==e.validator?n.setValidators($h(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Gp(n);null!==e.asyncValidator?n.setAsyncValidators($h(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();_d(e._rawValidators,o),_d(e._rawAsyncValidators,o)}function Wh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Gh(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(h=>h!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=Gp(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(h=>h!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return _d(e._rawValidators,r),_d(e._rawAsyncValidators,r),t}function Kw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const bd="VALID",hc="INVALID",Ed="PENDING",Cd="DISABLED";function Jp(n){return(Xp(n)?n.validators:n)||null}function Ly(n){return Array.isArray(n)?$w(n):n||null}function Vy(n,e){return(Xp(e)?e.asyncValidators:n)||null}function Uy(n){return Array.isArray(n)?Gw(n):n||null}function Xp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const By=n=>n instanceof sn,ki=n=>n instanceof Pa,e0=n=>n instanceof bu;function t0(n){return By(n)?n.value:n.getRawValue()}function DC(n,e){const t=ki(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function TC(n,e){ki(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new c.vHH(1002,"")})}class eg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Ly(this._rawValidators),this._composedAsyncValidatorFn=Uy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bd}get invalid(){return this.status===hc}get pending(){return this.status==Ed}get disabled(){return this.status===Cd}get enabled(){return this.status!==Cd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Ly(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Uy(e)}addValidators(e){this.setValidators(vC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Zw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Zw(e,this._rawAsyncValidators))}hasValidator(e){return yd(this._rawValidators,e)}hasAsyncValidator(e){return yd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ed,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bd,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bd||this.status===Ed)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cd:bd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ed,this._hasOwnPendingAsyncValidator=!0;const t=Hw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function UA(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=ki(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:e0(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Cd:this.errors?hc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ed)?Ed:this._anyControlsHaveStatus(hc)?hc:bd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class sn extends eg{constructor(e=null,t,r){super(Jp(t),Vy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Pa extends eg{constructor(e,t,r){super(Jp(t),Vy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){TC(this,e),Object.keys(e).forEach(r=>{DC(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t0(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class bu extends eg{constructor(e,t,r){super(Jp(t),Vy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){TC(this,e),e.forEach((r,o)=>{DC(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>t0(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let r0=(()=>{class n extends es{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return qh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),Jh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),u0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Gy=new c.OlP("NgModelWithFormControlWarning"),RC={provide:es,useExisting:(0,c.Gpc)(()=>fc)};let fc=(()=>{class n extends es{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return cc(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zh(t.control||null,t,!1),Qp(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Jw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(zh(r||null,t),By(o)&&(cc(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Qw(n,e){Oa(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function IC(n,e){return Wh(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Oa(this.form,this),this._oldForm&&Wh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Mi,10),c.Y36(ul,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([RC]),c.qOj,c.TTD]}),n})();const Zy={provide:es,useExisting:(0,c.Gpc)(()=>Xh)};let Xh=(()=>{class n extends r0{constructor(t,r,o){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(o)}_checkParentType(){ig(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(es,13),c.Y36(Mi,10),c.Y36(ul,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c._Bn([Zy]),c.qOj]}),n})();const OC={provide:es,useExisting:(0,c.Gpc)(()=>rg)};let rg=(()=>{class n extends es{constructor(t,r,o){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return qh(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ig(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(es,13),c.Y36(Mi,10),c.Y36(ul,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c._Bn([OC]),c.qOj]}),n})();function ig(n){return!(n instanceof Xh||n instanceof fc||n instanceof rg)}const $A={provide:ll,useExisting:(0,c.Gpc)(()=>sg)};let sg=(()=>{class n extends ll{constructor(t,r,o,u,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Yp(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===jh?t=u:function wd(n){return Object.getPrototypeOf(n.constructor)===md}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function dc(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return qh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(es,13),c.Y36(Mi,10),c.Y36(ul,10),c.Y36(Jo,10),c.Y36(Gy,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([$A]),c.qOj,c.TTD]}),n})();const d0={provide:Jo,useExisting:(0,c.Gpc)(()=>ef),multi:!0};function qy(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ef=(()=>{class n extends md{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=qy(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function h0(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([d0]),c.qOj]}),n})(),zy=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(qy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(ef,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Eu={provide:Jo,useExisting:(0,c.Gpc)(()=>f0),multi:!0};function tf(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let f0=(()=>{class n extends md{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(u=>this._getOptionId(u));r=(u,h)=>{u._setSelected(o.indexOf(h.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],u=r.selectedOptions;if(void 0!==u){const h=u;for(let m=0;m<h.length;m++){const A=this._getOptionValue(h[m].value);o.push(A)}}else{const h=r.options;for(let m=0;m<h.length;m++){const b=h[m];if(b.selected){const A=this._getOptionValue(b.value);o.push(A)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function PC(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Eu]),c.qOj]}),n})(),og=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(tf(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(tf(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(f0,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),ag=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[u0]]}),n})(),t_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ag]}),n})(),ug=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gy,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ag]}),n})(),n_=(()=>{class n{group(t,r=null){const o=this._reduceControls(t);let m,u=null,h=null;return null!=r&&(function w0(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(u=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,m=null!=r.updateOn?r.updateOn:void 0):(u=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new Pa(o,{asyncValidators:h,updateOn:m,validators:u})}control(t,r,o){return new sn(t,r,o)}array(t,r,o){const u=t.map(h=>this._createControl(h));return new bu(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return By(t)||ki(t)||e0(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:ug}),n})(),UC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[cs,t_,ug]]}),n})();var be=L(5861),b0=L(127),E0=L(6451),r_=L(5363),C0=L(6063);class BC extends pr.x{constructor(e=1/0,t=1/0,r=C0.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:h}=this;t||(r.push(e),!o&&r.push(u.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let h=0;h<u.length&&!e.closed;h+=r?1:2)e.next(u[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const h=t.now();let m=0;for(let b=1;b<r.length&&r[b]<=h;b+=2)m=b;m&&r.splice(0,m+1)}}}var jC=L(3099);function HC(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,jC.B)({connector:()=>new BC(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function $C(n,e){return(0,cu.m)(e)?Wn(()=>n,e):Wn(()=>n)}var nf=L(9468),Ni=L(5813);L(5867);var yc=L(9681),lg=L(4859),nn=L(2090),ta=L(1877);const _c=new Map,WC={activated:!1,tokenObservers:[]},sf={initialized:!1,enabled:!1};function ri(n){return _c.get(n)||WC}function na(n,e){_c.set(n,e)}function Dd(){return sf}class s_{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new nn.BH,yield function Td(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new nn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const kr=new nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wc(n){if(!ri(n).activated)throw kr.create("use-before-activation",{appName:n.name})}function hl(n,e){return cg.apply(this,arguments)}function cg(){return(cg=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const O=yield o.getHeartbeatsHeader();O&&(r["X-Firebase-Client"]=O)}const u={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,u)}catch(O){throw kr.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==h.status)throw kr.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(O){throw kr.create("fetch-parse-error",{originalErrorMessage:O.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw kr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const A=1e3*Number(b[1]),R=Date.now();return{token:m.token,expireTimeMillis:R+A,issuedAtTimeMillis:R}})).apply(this,arguments)}function M0(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const xd="firebase-app-check-store";let lf=null;function R0(){return lf||(lf=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(kr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xd,{keyPath:"compositeKey"})}}catch(t){e(kr.create("storage-open",{originalErrorMessage:t.message}))}}),lf)}function a_(){return(a_=(0,be.Z)(function*(n,e){const r=(yield R0()).transaction(xd,"readwrite"),u=r.objectStore(xd).put({compositeKey:n,value:e});return new Promise((h,m)=>{u.onsuccess=b=>{h()},r.onerror=b=>{var A;m(kr.create("storage-set",{originalErrorMessage:null===(A=b.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const cf=new ta.Yd("@firebase/app-check");function V0(n,e){return(0,nn.hl)()?function KC(n,e){return function F0(n,e){return a_.apply(this,arguments)}(function c_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{cf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function U0(){return Dd().enabled}function JC(){return B0.apply(this,arguments)}function B0(){return(B0=(0,be.Z)(function*(){const n=Dd();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const XC={error:"UNKNOWN_ERROR"};function j0(n){return nn.US.encodeString(JSON.stringify(n),!1)}function h_(n){return f_.apply(this,arguments)}function f_(){return(f_=(0,be.Z)(function*(n,e=!1){const t=n.app;wc(t);const r=ri(t);let u,o=r.token;if(!o){const b=yield r.cachedTokenPromise;b&&bc(b)&&(o=b)}if(!e&&o&&bc(o))return{token:o.token};let m,h=!1;if(U0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=hl(M0(t,yield JC()),n.heartbeatServiceProvider).then(A=>(r.exchangeTokenPromise=void 0,A)),h=!0);const b=yield r.exchangeTokenPromise;return yield V0(t,b),na(t,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?cf.warn(b.message):cf.error(b),u=b}return o?(m={token:o.token},na(t,Object.assign(Object.assign({},r),{token:o})),yield V0(t,o)):m=tI(u),h&&m_(t,m),m})).apply(this,arguments)}function p_(n,e){const t=ri(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),na(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function g_(n){const{app:e}=n,t=ri(e);let r=t.tokenRefresher;r||(r=function eI(n){const{app:e}=n;return new s_((0,be.Z)(function*(){let r;if(r=ri(e).token?yield h_(n,!0):yield h_(n),r.error)throw r.error}),()=>!0,()=>{const t=ri(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),na(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function m_(n,e){const t=ri(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function bc(n){return n.expireTimeMillis-Date.now()>0}function tI(n){return{token:j0(XC),error:n}}class H0{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ri(this.app);for(const t of e)p_(this.app,t.next);return Promise.resolve()}}const b_="app-check-internal";!function E_(){(0,yc._registerComponent)(new lg.wA("app-check",n=>function nI(n,e){return new H0(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(b_).initialize()})),(0,yc._registerComponent)(new lg.wA(b_,n=>function rI(n){return{getToken:e=>h_(n,e),addTokenListener:e=>function fl(n,e,t,r){const{app:o}=n,u=ri(o),h={next:t,error:r,type:e};if(na(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&bc(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),g_(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>g_(n))}(n,"INTERNAL",e),removeTokenListener:e=>p_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,yc.registerVersion)("@firebase/app-check","0.5.7")}();class mf{constructor(){return(0,Ni.vb)("app-check")}}"undefined"!=typeof window&&window;const T_=new c.OlP("angularfire2.auth.use-emulator"),A_=new c.OlP("angularfire2.auth.settings"),S_=new c.OlP("angularfire2.auth.tenant-id"),yI=new c.OlP("angularfire2.auth.langugage-code"),J0=new c.OlP("angularfire2.auth.use-device-language"),X0=new c.OlP("angularfire.auth.persistence"),x_=(n,e,t,r,o,u,h,m)=>(0,Qo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,u&&b.useDeviceLanguage(),h)for(const[A,R]of Object.entries(h))b.settings[A]=R;return m&&b.setPersistence(m),b},[t,r,o,u,h,m]);let gg=(()=>{class n{constructor(t,r,o,u,h,m,b,A,R,O,z,K){const oe=new pr.x,Le=Ct(void 0).pipe((0,r_.Q)(h.outsideAngular),Wn(()=>u.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,730)))),(0,pt.U)(()=>(0,Qo.on)(t,u,r)),(0,pt.U)(ht=>x_(ht,u,m,A,R,O,b,z)),HC({bufferSize:1,refCount:!1}));if(Mn(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{Le.pipe(mo()).subscribe();const xt=Le.pipe(Wn(qt=>qt.getRedirectResult().then(an=>an,()=>null)),Ni.iC,HC({bufferSize:1,refCount:!1})),en=Le.pipe(Wn(qt=>new E.y(an=>({unsubscribe:u.runOutsideAngular(()=>qt.onAuthStateChanged(Dn=>an.next(Dn),Dn=>an.error(Dn),()=>an.complete()))})))),on=Le.pipe(Wn(qt=>new E.y(an=>({unsubscribe:u.runOutsideAngular(()=>qt.onIdTokenChanged(Dn=>an.next(Dn),Dn=>an.error(Dn),()=>an.complete()))}))));this.authState=xt.pipe($C(en),(0,nf.R)(h.outsideAngular),(0,r_.Q)(h.insideAngular)),this.user=xt.pipe($C(on),(0,nf.R)(h.outsideAngular),(0,r_.Q)(h.insideAngular)),this.idToken=this.user.pipe(Wn(qt=>qt?(0,Fn.D)(qt.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(Wn(qt=>qt?(0,Fn.D)(qt.getIdTokenResult()):Ct(null))),this.credential=(0,E0.T)(xt,oe,this.authState.pipe(Es(qt=>!qt))).pipe((0,pt.U)(qt=>(null==qt?void 0:qt.user)?qt:null),(0,nf.R)(h.outsideAngular),(0,r_.Q)(h.insideAngular))}return(0,Qo.pX)(this,Le,u,{spy:{apply:(ht,xt,en)=>{(ht.startsWith("signIn")||ht.startsWith("createUser"))&&en.then(on=>oe.next(on))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Qo.Dh),c.LFG(Qo.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ni.HU),c.LFG(T_,8),c.LFG(A_,8),c.LFG(S_,8),c.LFG(yI,8),c.LFG(J0,8),c.LFG(X0,8),c.LFG(mf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yf=(()=>{class n{constructor(t){this.auth=t}register(t,r){var o=this;return(0,be.Z)(function*(){try{return yield o.auth.createUserWithEmailAndPassword(t,r)}catch(u){return console.error(u),null}})()}login(t,r){var o=this;return(0,be.Z)(function*(){try{return yield o.auth.signInWithEmailAndPassword(t,r)}catch(u){return console.error(u),null}})()}resetPassword(t){var r=this;return(0,be.Z)(function*(){try{return yield r.auth.sendPasswordResetEmail(t)}catch(o){return o}})()}loginGoogle(t,r){var o=this;return(0,be.Z)(function*(){try{return yield o.auth.signInWithPopup(new b0.Z.auth.GoogleAuthProvider)}catch(u){return console.error(u),null}})()}loginFacebook(t,r){var o=this;return(0,be.Z)(function*(){try{return yield o.auth.signInWithPopup(new b0.Z.auth.FacebookAuthProvider)}catch(u){return console.error(u),null}})()}getUserLogged(){return this.auth.authState}loggout(){this.auth.signOut()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _I(n,e){1&n&&c._UZ(0,"img",20)}function vI(n,e){if(1&n&&(c.TgZ(0,"a",21),c._UZ(1,"img",20),c.qZA()),2&n){const t=c.oxw();c.s9C("href",t.returnHome,c.LSH)}}function eb(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"i",22),c.NdJ("click",function(){return c.CHM(t),c.oxw().abreMenu()}),c.O4$(),c.TgZ(1,"svg",23),c._UZ(2,"path",24),c.qZA()()}}function wI(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"i",22),c.NdJ("click",function(){return c.CHM(t),c.oxw().cierreMenu()}),c.O4$(),c.TgZ(1,"svg",25),c._UZ(2,"path",26),c.qZA()()}}function tb(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li"),c._UZ(1,"img",27),c.TgZ(2,"p",28)(3,"small"),c._uU(4),c.qZA()(),c.TgZ(5,"a",29),c.NdJ("click",function(){return c.CHM(t),c.oxw().logout()}),c._uU(6,"SALIR"),c.qZA()()}if(2&n){const t=e.ngIf;c.xp6(1),c.s9C("src",t.photoURL,c.LSH),c.xp6(3),c.Oqu(t.email)}}let mg=(()=>{class n{constructor(t,r,o){this.route=t,this.authService=r,this.routes=o,this.userLogged=this.authService.getUserLogged(),this.abrirMenu="",this.iconAbrir=!0,this.returnHome="",this.mostrarLogin="",this.inicializarVariables()}ngOnInit(){}inicializarVariables(){let t=this.route.snapshot.url.join("/");"login"===t&&(this.mostrarLogin="login"),this.returnHome="home"!==t?"home":""}abreMenu(){this.abrirMenu="menu-hamburger-open",this.iconAbrir=!1}cierreMenu(){this.abrirMenu="menu-hamburger-close",this.iconAbrir=!0}logout(){this.authService.loggout(),this.routes.navigate(["login"])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wo),c.Y36(yf),c.Y36(ni))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:33,vars:10,consts:[["id","head",1,"fixed-top","transparenciaDos","d-none","d-md-block"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"col-md-2","p-3"],["src","assets/img/icons/logo-workface-white.png","alt","","height","80","width","auto","class","drop",4,"ngIf"],[3,"href",4,"ngIf"],[1,"col-md-8"],[1,"col-md-2"],["class","btn-menu-catego",3,"click",4,"ngIf"],[1,"col-md-12"],[1,"text-right"],[1,"espacio"],[1,"col-md-10","text-center"],[1,"row","fs-30","fuenteTres"],[1,"w-100"],[4,"ngIf"],[1,"cp","text-light"],["href","login"],["href","assets/img/items/GALERIA.jpg","target","_blank"],["src","assets/img/icons/logo-workface-white.png","alt","","height","80","width","auto",1,"drop"],[3,"href"],[1,"btn-menu-catego",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-list"],["fill-rule","evenodd","d","M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-lg"],["d","M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"],["alt","","height","80",3,"src"],[1,"tc-blue-one"],[1,"cursor-p",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"div",2),c.TgZ(3,"div",3)(4,"div",1)(5,"div",4),c.YNc(6,_I,1,0,"img",5),c.YNc(7,vI,2,1,"a",6),c.qZA(),c._UZ(8,"div",7),c.TgZ(9,"div",8),c.YNc(10,eb,3,0,"i",9),c.qZA()()(),c._UZ(11,"div",2),c.qZA()(),c.TgZ(12,"div")(13,"div",10)(14,"div",11),c.YNc(15,wI,3,0,"i",9),c.qZA(),c._UZ(16,"div",12),c.TgZ(17,"div",1),c._UZ(18,"div",2),c.TgZ(19,"div",13)(20,"div",14)(21,"ul",15),c.YNc(22,tb,7,2,"li",16),c.ALo(23,"async"),c.TgZ(24,"li",17)(25,"a",18),c._uU(26," INGRESAR "),c.qZA()(),c.TgZ(27,"li",17)(28,"a",19),c._uU(29," NUEVAS PLANTILLAS "),c.qZA()(),c.TgZ(30,"li",17),c._uU(31,"CONT\xc1CTANOS"),c.qZA()()()(),c._UZ(32,"div",2),c.qZA()()()),2&t&&(c.xp6(6),c.Q6J("ngIf",!r.returnHome),c.xp6(1),c.Q6J("ngIf",r.returnHome),c.xp6(3),c.Q6J("ngIf",r.iconAbrir),c.xp6(2),c.Gre("row ",r.abrirMenu," sidenav"),c.xp6(3),c.Q6J("ngIf",!r.iconAbrir),c.xp6(7),c.Q6J("ngIf",c.lcZ(23,8,r.userLogged)))},directives:[Or],pipes:[za],styles:['@import"https://fonts.googleapis.com/css2?family=Shadows+Into+Light+Two&display=swap";.linkCategoria[_ngcontent-%COMP%]{cursor:pointer;transition:.3s}.sidenav[_ngcontent-%COMP%]{height:100%;width:0;position:fixed;z-index:999;top:0;left:0;background:rgba(0,0,0,.8)!important;overflow-x:hidden;transition:.5s;padding-top:0}.sidenav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.closebtn[_ngcontent-%COMP%]{padding:8px 8px 8px 32px;font-size:50px;color:#fff;display:block;transition:.3s;text-decoration:none}a[_ngcontent-%COMP%]{color:#fff;transition:.3s}a[_ngcontent-%COMP%]:hover{text-decoration:none}.box[_ngcontent-%COMP%]:hover{position:relative;float:left;-moz-animation:3s ease 0s normal none infinite swing;-moz-transform-origin:center top;-webkit-animation:swing 3s ease-in-out;-webkit-transform-origin:top}.btn-menu-catego[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:60px!important;width:60px!important;color:#fff;cursor:pointer;margin:40px}.menu-hamburger-open[_ngcontent-%COMP%]{width:100%!important;z-index:1040}.menu-hamburger-close[_ngcontent-%COMP%]{width:0%!important;cursor:pointer}.perfil-img[_ngcontent-%COMP%]{border-radius:5 5 5 5}']}),n})(),kd=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-slider-home"]],decls:20,vars:0,consts:[[1,"row"],[1,"col-md-1"],[1,"col-md-10"],["id","carouselExampleControls","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner","text-center"],[1,"carousel-item","active"],["src","assets/img/slider-home/slider (1).jpg","alt","","height","500","width","auto",1,"sombraUno","mab-5"],[1,"carousel-item"],["src","assets/img/slider-home/slider (2).jpg","alt","","height","500","width","auto",1,"sombraUno","mab-5"],["src","assets/img/slider-home/slider (3).jpg","alt","","height","500","width","auto",1,"sombraUno","mab-5"],["href","#carouselExampleControls","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#carouselExampleControls","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),c._UZ(6,"img",6),c.qZA(),c.TgZ(7,"div",7),c._UZ(8,"img",8),c.qZA(),c.TgZ(9,"div",7),c._UZ(10,"img",9),c.qZA()(),c.TgZ(11,"a",10),c._UZ(12,"span",11),c.TgZ(13,"span",12),c._uU(14,"Previous"),c.qZA()(),c.TgZ(15,"a",13),c._UZ(16,"span",14),c.TgZ(17,"span",12),c._uU(18,"Next"),c.qZA()()()(),c._UZ(19,"div",1),c.qZA())},styles:[""]}),n})(),bI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-slider-frases-home"]],decls:15,vars:0,consts:[[1,"row"],[1,"col-md-1"],[1,"col-md-10"],["id","carouselExampleFade","data-ride","carousel",1,"carousel","slide","carousel-fade"],[1,"carousel-inner","text-center"],["data-interval","15000",1,"carousel-item","active"],[1,"fuenteUno","fw-3","text-light","fs-40","typining"],["data-interval","15000",1,"carousel-item"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),c._uU(7,"En asuntos laborales es imprescindible mostrar la mejor imagen."),c.qZA()(),c.TgZ(8,"div",7)(9,"h4",6),c._uU(10,"Mejoremos la manera mon\xf3tona del proceso."),c.qZA()(),c.TgZ(11,"div",7)(12,"h4",6),c._uU(13,"La primera imagen es la m\xe1s importante."),c.qZA()()()()(),c._UZ(14,"div",1),c.qZA())},styles:[""]}),n})(),EI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"espaciado"],[1,"espacio"]],template:function(t,r){1&t&&c._UZ(0,"app-header")(1,"div",0)(2,"app-slider-home")(3,"div",1)(4,"app-slider-frases-home")(5,"div",0)},directives:[mg,kd,bI],styles:[""]}),n})();var nb=L(5226),M_=L.n(nb);function sS(n,e){1&n&&(c.TgZ(0,"h3",21),c._uU(1,"INGRESAR"),c.qZA())}function ib(n,e){1&n&&(c.TgZ(0,"h3",21),c._uU(1,"REGISTRAR"),c.qZA())}function k_(n,e){1&n&&(c.TgZ(0,"h3",21),c._uU(1,"RECORDAR CLAVE"),c.qZA())}function La(n,e){1&n&&c._UZ(0,"input",22)}function CI(n,e){1&n&&c._UZ(0,"input",23)}function II(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",24),c.NdJ("click",function(){return c.CHM(t),c.oxw().ajustesIngresar()}),c._uU(1,"INGRESAR "),c.qZA()}}function Va(n,e){1&n&&(c.TgZ(0,"span",25),c._uU(1,"/"),c.qZA())}function ra(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",26),c.NdJ("click",function(){return c.CHM(t),c.oxw().ajustesRegistrar()}),c._uU(1," REGISTRAR"),c.qZA()}}function ia(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",27),c.NdJ("click",function(){return c.CHM(t),c.oxw().ajustesRecordarClave()}),c._uU(1,"RECORDAR CONTRASE\xd1A"),c.qZA()}}function sb(n,e){1&n&&(c.TgZ(0,"button",28),c._uU(1,"REGISTRAR"),c.qZA())}function ob(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",29)(1,"a",30),c.NdJ("click",function(){return c.CHM(t),c.oxw().ingresoGoogle()}),c._UZ(2,"img",31),c.TgZ(3,"p",32),c._uU(4,"INGRESAR CON GMAIL"),c.qZA()()()}}let DI=(()=>{class n{constructor(t,r,o){this.fb=t,this.authService=r,this.route=o,this.checkPasswords=u=>{var h,m;return(null===(h=u.get("password"))||void 0===h?void 0:h.value)===(null===(m=u.get("confirmPassword"))||void 0===m?void 0:m.value)?null:{notSame:!0}},this.mostrarOcultarRecordar=!1,this.usuarioIncorrecto=!1,this.ingreso=!0,this.recordar=!1,this.registro=!1,this.separar=!1,this.form=this.fb.group({email:["",[hn.required,hn.pattern(/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/)]],password:["",[hn.required]],confirmPassword:[""]},{validators:this.checkPasswords}),this.camposRegistrar=!1}isErrorState(t,r){var o,u,h;const m=!(!(null==t?void 0:t.invalid)||!(null===(o=null==t?void 0:t.parent)||void 0===o?void 0:o.dirty)),b=!(!(null===(u=null==t?void 0:t.parent)||void 0===u?void 0:u.invalid)||!(null===(h=null==t?void 0:t.parent)||void 0===h?void 0:h.dirty));return m||b}ngOnInit(){}getEmail(){return this.form.value.email}getPass(){return this.form.value.password}getConfirmPass(){return this.form.value.confirmPassword}resetForm(){var t,r,o;null===(t=this.form.get("email"))||void 0===t||t.setValue(""),null===(r=this.form.get("password"))||void 0===r||r.setValue(""),null===(o=this.form.get("confirmPassword"))||void 0===o||o.setValue("")}toas(t,r){!function rb(n,e){M_().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:r=>{r.addEventListener("mouseenter",M_().stopTimer),r.addEventListener("mouseleave",M_().resumeTimer)}}).fire({icon:n,title:e})}(t,r)}focoEmail(){setTimeout(()=>{var t;this.resetForm(),null===(t=document.getElementById("email"))||void 0===t||t.focus()},1e3)}ingresoGoogle(){this.authService.loginGoogle(this.getEmail(),this.getPass()).then(t=>{t&&this.route.navigate(["profile"])})}ajustesIngresar(){this.registro=!1,this.recordar=!1,this.ingreso=!0,this.separar=!1}ajustesRegistrar(){this.resetForm(),this.focoEmail(),this.ingreso=!1,this.recordar=!1,this.registro=!0,this.separar=!1}ajustesRecordarClave(){this.resetForm(),this.focoEmail(),this.ingreso=!1,this.registro=!1,this.recordar=!0,this.separar=!0}ingresoUsuario(){this.getEmail()&&this.getPass()&&this.authService.login(this.getEmail(),this.getPass()).then(t=>{"signIn"===(null==t?void 0:t.operationType)?this.route.navigate(["profile"]):(this.toas("error","Email o clave errados"),this.usuarioIncorrecto=!0,setTimeout(()=>{this.usuarioIncorrecto=!1},5e3),this.focoEmail())})}registroUsuario(){this.form.valid?this.authService.register(this.getEmail(),this.getPass()).then(t=>{var r;console.log(this.getEmail().value,this.getPass().value,"EL VALOR QUE SE MANDA"),(null===(r=null==t?void 0:t.additionalUserInfo)||void 0===r?void 0:r.isNewUser)?(this.toas("success","Registro correcto"),this.resetForm()):(this.toas("error","El usuario ya esta registrado"),this.resetForm(),this.focoEmail())}):(this.toas("error","Formulario inv\xe1lido"),this.resetForm(),this.focoEmail())}recordarClave(){this.authService.resetPassword(this.getEmail()).then(t=>{console.log(t,"RESPUESTA")})}submit(){this.ingreso?this.ingresoUsuario():this.registro?this.registroUsuario():this.recordar&&this.recordarClave()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(n_),c.Y36(yf),c.Y36(ni))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:12,consts:[[1,"espaciado"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"col-md-8"],[1,"col-md-4"],[1,"p-5","text-center","sombraUno"],[1,"p-5"],["src","assets/img/icons/WORKFACE - blue.png","alt","",1,"img-fluid","drop"],["autocomplete","off",3,"formGroup"],["class","text-light f-shadow-into-l fs-30",4,"ngIf"],["autocomplete","off","id","email","type","text","placeholder","Email","formControlName","email",1,"f-open-sans-c","text-light","fw-3","w-100","mb-2","pl-2","bg-transparent"],["class","f-open-sans-c fw-3 w-100 mb-2 pl-2 text-light bg-transparent","autocomplete","off","type","password","placeholder","Clave","formControlName","password",4,"ngIf"],["class","f-open-sans-c fw-3 w-100 mb-3 pl-2 text-light bg-transparent","type","password","placeholder","Confirmar clave","formControlName","confirmPassword",4,"ngIf"],[1,"tc-yellow-one","bg-transparent","border-0","mb-4","f-open-sans-c","fw-3",3,"click"],["class","text-light f-open-sans-c fw-3 cursor-p",3,"click",4,"ngIf"],["class","text-light f-open-sans-c",4,"ngIf"],["class","tc-blue-one f-open-sans-c fw-3 cursor-p",3,"click",4,"ngIf"],["href","http://","class","fuenteUno t3 fw-3",3,"click",4,"ngIf"],["class","w-100",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"text-light","f-shadow-into-l","fs-30"],["autocomplete","off","type","password","placeholder","Clave","formControlName","password",1,"f-open-sans-c","fw-3","w-100","mb-2","pl-2","text-light","bg-transparent"],["type","password","placeholder","Confirmar clave","formControlName","confirmPassword",1,"f-open-sans-c","fw-3","w-100","mb-3","pl-2","text-light","bg-transparent"],[1,"text-light","f-open-sans-c","fw-3","cursor-p",3,"click"],[1,"text-light","f-open-sans-c"],[1,"tc-blue-one","f-open-sans-c","fw-3","cursor-p",3,"click"],["href","http://",1,"fuenteUno","t3","fw-3",3,"click"],[1,"w-100"],[1,"text-center","mt-3"],["href","http://",3,"click"],["src","assets/img/icons/google-favicon.png","alt","","height","80","width","auto",1,"mx-auto","drop","mb-2","cursor-p"],[1,"text-light","fuenteUno","fw-3"]],template:function(t,r){1&t&&(c.TgZ(0,"div"),c._UZ(1,"app-header")(2,"div",0),c.TgZ(3,"div",1),c._UZ(4,"div",2),c.TgZ(5,"div",3)(6,"div",1),c._UZ(7,"div",4),c.TgZ(8,"div",5)(9,"div",6)(10,"div",7),c._UZ(11,"img",8),c.qZA(),c.TgZ(12,"form",9),c.YNc(13,sS,2,0,"h3",10),c.YNc(14,ib,2,0,"h3",10),c.YNc(15,k_,2,0,"h3",10),c._UZ(16,"input",11),c.YNc(17,La,1,0,"input",12),c.YNc(18,CI,1,0,"input",13),c.TgZ(19,"button",14),c.NdJ("click",function(){return r.submit()}),c._uU(20,"ENVIAR"),c.qZA(),c._UZ(21,"br"),c.YNc(22,II,2,0,"a",15),c.YNc(23,Va,2,0,"span",16),c.YNc(24,ra,2,0,"a",17),c._UZ(25,"br"),c.YNc(26,ia,2,0,"a",18),c.YNc(27,sb,2,0,"button",19),c.qZA(),c.YNc(28,ob,5,0,"div",20),c.qZA()()()(),c._UZ(29,"div",2),c.qZA(),c._UZ(30,"div",0)(31,"div",0),c.qZA()),2&t&&(c.xp6(12),c.Q6J("formGroup",r.form),c.xp6(1),c.Q6J("ngIf",r.ingreso),c.xp6(1),c.Q6J("ngIf",r.registro),c.xp6(1),c.Q6J("ngIf",r.recordar),c.xp6(2),c.Q6J("ngIf",r.ingreso||r.registro),c.xp6(1),c.Q6J("ngIf",r.registro),c.xp6(4),c.Q6J("ngIf",!r.ingreso),c.xp6(1),c.Q6J("ngIf",r.separar),c.xp6(1),c.Q6J("ngIf",!r.registro),c.xp6(2),c.Q6J("ngIf",!r.recordar),c.xp6(1),c.Q6J("ngIf",r.camposRegistrar),c.xp6(1),c.Q6J("ngIf",!r.camposRegistrar))},directives:[mg,Jh,Zp,fc,Or,jh,zw,sg],styles:[""]}),n})();class ab{}class ub{}class Tu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(h):this.headers.set(u,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Tu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Tu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Tu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let h=this.headers.get(t);if(!h)return;h=h.filter(m=>-1===u.indexOf(m)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class N_{encodeKey(e){return cb(e)}encodeValue(e){return cb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const TI=/%(\d[a-f0-9])/gi,lb={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function cb(n){return encodeURIComponent(n).replace(TI,(e,t)=>{var r;return null!==(r=lb[t])&&void 0!==r?r:e})}function R_(n){return`${n}`}class Au{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new N_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _f(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[h,m]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],b=t.get(h)||[];b.push(m),t.set(h,b)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Au({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(R_(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(R_(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class AI{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function P_(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function yg(n){return"undefined"!=typeof Blob&&n instanceof Blob}function vf(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Nd{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function db(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Tu),this.context||(this.context=new AI),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+h}}else this.params=new Au,this.urlWithParams=t}serializeBody(){return null===this.body?null:P_(this.body)||yg(this.body)||vf(this.body)||function hb(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Au?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vf(this.body)?null:yg(this.body)?this.body.type||null:P_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Au?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,u=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,b=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let A=e.headers||this.headers,R=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(A=Object.keys(e.setHeaders).reduce((z,K)=>z.set(K,e.setHeaders[K]),A)),e.setParams&&(R=Object.keys(e.setParams).reduce((z,K)=>z.set(K,e.setParams[K]),R)),new Nd(r,o,h,{params:R,headers:A,context:O,reportProgress:b,responseType:u,withCredentials:m})}}var Dr=(()=>((Dr=Dr||{})[Dr.Sent=0]="Sent",Dr[Dr.UploadProgress=1]="UploadProgress",Dr[Dr.ResponseHeader=2]="ResponseHeader",Dr[Dr.DownloadProgress=3]="DownloadProgress",Dr[Dr.Response=4]="Response",Dr[Dr.User=5]="User",Dr))();class _g{constructor(e,t=200,r="OK"){this.headers=e.headers||new Tu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class vg extends _g{constructor(e={}){super(e),this.type=Dr.ResponseHeader}clone(e={}){return new vg({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wf extends _g{constructor(e={}){super(e),this.type=Dr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new wf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class F_ extends _g{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function wg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let L_=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof Nd)u=t;else{let b,A;b=o.headers instanceof Tu?o.headers:new Tu(o.headers),o.params&&(A=o.params instanceof Au?o.params:new Au({fromObject:o.params})),u=new Nd(t,r,void 0!==o.body?o.body:null,{headers:b,context:o.context,params:A,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=Ct(u).pipe(Ks(b=>this.handler.handle(b)));if(t instanceof Nd||"events"===o.observe)return h;const m=h.pipe(Es(b=>b instanceof wf));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,pt.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return m.pipe((0,pt.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return m.pipe((0,pt.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return m.pipe((0,pt.U)(b=>b.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Au).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,wg(o,r))}post(t,r,o={}){return this.request("POST",t,wg(o,r))}put(t,r,o={}){return this.request("PUT",t,wg(o,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ab))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class fb{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const pb=new c.OlP("HTTP_INTERCEPTORS");let SI=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const xI=/^\)\]\}',?\n/;let gb=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new E.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((K,oe)=>o.setRequestHeader(K,oe.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const K=t.detectContentTypeHeader();null!==K&&o.setRequestHeader("Content-Type",K)}if(t.responseType){const K=t.responseType.toLowerCase();o.responseType="json"!==K?K:"text"}const u=t.serializeBody();let h=null;const m=()=>{if(null!==h)return h;const K=o.statusText||"OK",oe=new Tu(o.getAllResponseHeaders()),Le=function MI(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return h=new vg({headers:oe,status:o.status,statusText:K,url:Le}),h},b=()=>{let{headers:K,status:oe,statusText:Le,url:ht}=m(),xt=null;204!==oe&&(xt=void 0===o.response?o.responseText:o.response),0===oe&&(oe=xt?200:0);let en=oe>=200&&oe<300;if("json"===t.responseType&&"string"==typeof xt){const on=xt;xt=xt.replace(xI,"");try{xt=""!==xt?JSON.parse(xt):null}catch(qt){xt=on,en&&(en=!1,xt={error:qt,text:xt})}}en?(r.next(new wf({body:xt,headers:K,status:oe,statusText:Le,url:ht||void 0})),r.complete()):r.error(new F_({error:xt,headers:K,status:oe,statusText:Le,url:ht||void 0}))},A=K=>{const{url:oe}=m(),Le=new F_({error:K,status:o.status||0,statusText:o.statusText||"Unknown Error",url:oe||void 0});r.error(Le)};let R=!1;const O=K=>{R||(r.next(m()),R=!0);let oe={type:Dr.DownloadProgress,loaded:K.loaded};K.lengthComputable&&(oe.total=K.total),"text"===t.responseType&&!!o.responseText&&(oe.partialText=o.responseText),r.next(oe)},z=K=>{let oe={type:Dr.UploadProgress,loaded:K.loaded};K.lengthComputable&&(oe.total=K.total),r.next(oe)};return o.addEventListener("load",b),o.addEventListener("error",A),o.addEventListener("timeout",A),o.addEventListener("abort",A),t.reportProgress&&(o.addEventListener("progress",O),null!==u&&o.upload&&o.upload.addEventListener("progress",z)),o.send(u),r.next({type:Dr.Sent}),()=>{o.removeEventListener("error",A),o.removeEventListener("abort",A),o.removeEventListener("load",b),o.removeEventListener("timeout",A),t.reportProgress&&(o.removeEventListener("progress",O),null!==u&&o.upload&&o.upload.removeEventListener("progress",z)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_n))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const V_=new c.OlP("XSRF_COOKIE_NAME"),U_=new c.OlP("XSRF_HEADER_NAME");class mb{}let yb=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Us(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(c.Lbi),c.LFG(V_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),bg=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mb),c.LFG(U_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),_b=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(pb,[]);this.chain=r.reduceRight((o,u)=>new fb(o,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ub),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),vb=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:bg,useClass:SI}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:V_,useValue:t.cookieName}:[],t.headerName?{provide:U_,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[bg,{provide:pb,useExisting:bg,multi:!0},{provide:mb,useClass:yb},{provide:V_,useValue:"XSRF-TOKEN"},{provide:U_,useValue:"X-XSRF-TOKEN"}]}),n})(),wb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[L_,{provide:ab,useClass:_b},gb,{provide:ub,useExisting:gb}],imports:[[vb.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),bb=(()=>{class n{constructor(t){this.http=t,this.recursos="https://plantillas_dev.gitlab.io/styles/assets/json/recursos.json"}consultarRecursos(){return this.http.get(this.recursos)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(L_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Eb=L(4986);function Su(){return(0,Xr.e)((n,e)=>{let t,r=!1;n.subscribe((0,sr.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function FI(n,e){return n===e}L(730);var dt,pS=L(3942),B_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pl={},Eg=Eg||{},$t=B_||self;function Dt(){}function j_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ef(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Rd="closure_uid_"+(1e9*Math.random()>>>0),VI=0;function Cg(n,e,t){return n.call.apply(n.bind,arguments)}function Ig(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function rn(n,e,t){return(rn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Cg:Ig).apply(null,arguments)}function H_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function si(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function gl(){this.s=this.s,this.o=this.o}var Cb={};gl.prototype.s=!1,gl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function LI(n){return Object.prototype.hasOwnProperty.call(n,Rd)&&n[Rd]||(n[Rd]=++VI)}(this);delete Cb[n]}},gl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},G_=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function Db(n){return Array.prototype.concat.apply([],arguments)}function Z_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Dg(n){return/^[\s\xa0]*$/.test(n)}var ns,Od=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ts(n,e){return-1!=n.indexOf(e)}function q_(n,e){return n<e?-1:n>e?1:0}e:{var Cf=$t.navigator;if(Cf){var z_=Cf.userAgent;if(z_){ns=z_;break e}}ns=""}function Tg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function W_(n){const e={};for(const t in n)e[t]=n[t];return e}var Tb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pd(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Tb.length;u++)t=Tb[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ec(n){return Ec[" "](n),n}Ec[" "]=Dt;var Sg,n,jI=ts(ns,"Opera"),Fd=ts(ns,"Trident")||ts(ns,"MSIE"),K_=ts(ns,"Edge"),Ag=K_||Fd,Y_=ts(ns,"Gecko")&&!(ts(ns.toLowerCase(),"webkit")&&!ts(ns,"Edge"))&&!(ts(ns,"Trident")||ts(ns,"MSIE"))&&!ts(ns,"Edge"),HI=ts(ns.toLowerCase(),"webkit")&&!ts(ns,"Edge");function Q_(){var n=$t.document;return n?n.documentMode:void 0}e:{var J_="",Ab=(n=ns,Y_?/rv:([^\);]+)(\)|;)/.exec(n):K_?/Edge\/([\d\.]+)/.exec(n):Fd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):HI?/WebKit\/(\S+)/.exec(n):jI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ab&&(J_=Ab?Ab[1]:""),Fd){var Sb=Q_();if(null!=Sb&&Sb>parseFloat(J_)){Sg=String(Sb);break e}}Sg=J_}var gS={};var $I=$t.document&&Fd&&(Q_()||parseInt(Sg,10))||void 0,GI=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",Dt,e),$t.removeEventListener("test",Dt,e)}catch(t){}return n}();function _i(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function xu(n,e){if(_i.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Y_){e:{try{Ec(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ZI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xu.Z.h.call(this)}}_i.prototype.h=function(){this.defaultPrevented=!0},si(xu,_i);var ZI={2:"touch",3:"pen",4:"mouse"};xu.prototype.h=function(){xu.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Df="closure_listenable_"+(1e6*Math.random()|0),qI=0;function zI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++qI,this.ca=this.fa=!1}function Mg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Tf(n){this.src=n,this.g={},this.h=0}function X_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=$_(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Mg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ev(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}Tf.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=ev(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new zI(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var ml="closure_lm_"+(1e6*Math.random()|0),tv={};function nv(n,e,t,r,o){if(r&&r.once)return kb(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)nv(n,e[u],t,r,o);return null}return t=sv(t),n&&n[Df]?n.N(e,t,Ef(r)?!!r.capture:!!r,o):xb(n,e,t,!1,r,o)}function xb(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var h=Ef(o)?!!o.capture:!!o,m=Ng(n);if(m||(n[ml]=m=new Tf(n)),(t=m.add(e,t,r,h,u)).proxy)return t;if(r=function Mb(){var e=WI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)GI||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(kg(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function kb(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)kb(n,e[u],t,r,o);return null}return t=sv(t),n&&n[Df]?n.O(e,t,Ef(r)?!!r.capture:!!r,o):xb(n,e,t,!0,r,o)}function rv(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)rv(n,e[u],t,r,o);else r=Ef(r)?!!r.capture:!!r,t=sv(t),n&&n[Df]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ev(u=n.g[e],t,r,o))&&(Mg(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Ng(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ev(e,t,r,o)),(t=-1<n?e[n]:null)&&iv(t))}function iv(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Df])X_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(kg(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ng(e))?(X_(t,n),0==t.h&&(t.src=null,e[ml]=null)):Mg(n)}}}function kg(n){return n in tv?tv[n]:tv[n]="on"+n}function WI(n,e){if(n.ca)n=!0;else{e=new xu(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&iv(n),n=t.call(r,e)}return n}function Ng(n){return(n=n[ml])instanceof Tf?n:null}var Rg="__closure_events_fn_"+(1e9*Math.random()>>>0);function sv(n){return"function"==typeof n?n:(n[Rg]||(n[Rg]=function(e){return n.handleEvent(e)}),n[Rg])}function oi(){gl.call(this),this.i=new Tf(this),this.P=this,this.I=null}function vi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new _i(e,n);else if(e instanceof _i)e.target=e.target||n;else{var o=e;Pd(e=new _i(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];o=Ld(h,r,!0,e)&&o}if(o=Ld(h=e.g=n,r,!0,e)&&o,o=Ld(h,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Ld(h=e.g=t[u],r,!1,e)&&o}function Ld(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ca&&h.capture==t){var m=h.listener,b=h.ia||h.src;h.fa&&X_(n.i,h),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}si(oi,gl),oi.prototype[Df]=!0,oi.prototype.removeEventListener=function(n,e,t,r){rv(this,n,e,t,r)},oi.prototype.M=function(){if(oi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Mg(t[r]);delete n.g[e],n.h--}}this.I=null},oi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},oi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ov=$t.JSON.stringify;function Nb(){var n=cv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var uv,Rb=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new YI,n=>n.reset());class YI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function QI(n){$t.setTimeout(()=>{throw n},0)}function av(n,e){uv||function JI(){var n=$t.Promise.resolve(void 0);uv=function(){n.then(Ob)}}(),lv||(uv(),lv=!0),cv.add(n,e)}var lv=!1,cv=new class KI{constructor(){this.h=this.g=null}add(e,t){const r=Rb.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Ob(){for(var n;n=Nb();){try{n.h.call(n.g)}catch(t){QI(t)}var e=Rb;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}lv=!1}function Og(n,e){oi.call(this),this.h=n||1,this.g=e||$t,this.j=rn(this.kb,this),this.l=Date.now()}function dv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Pg(n,e,t){if("function"==typeof n)t&&(n=rn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rn(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function Pb(n){n.g=Pg(()=>{n.g=null,n.i&&(n.i=!1,Pb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}si(Og,oi),(dt=Og.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vi(this,"tick"),this.da&&(dv(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){Og.Z.M.call(this),dv(this),delete this.g};class XI extends gl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pb(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Af(n){gl.call(this),this.h=n,this.g={}}si(Af,gl);var Fg=[];function Lg(n,e,t,r){Array.isArray(t)||(t&&(Fg[0]=t.toString()),t=Fg);for(var o=0;o<t.length;o++){var u=nv(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function hv(n){Tg(n.g,function(e,t){this.g.hasOwnProperty(t)&&iv(e)},n),n.g={}}function Vd(){this.g=!0}function yl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Fb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<o.length;h++)o[h]=""}}}return ov(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Af.prototype.M=function(){Af.Z.M.call(this),hv(this)},Af.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vd.prototype.Aa=function(){this.g=!1},Vd.prototype.info=function(){};var Cc={},fv=null;function Vg(){return fv=fv||new oi}function pv(n){_i.call(this,Cc.Ma,n)}function Ug(n){const e=Vg();vi(e,new pv(e,n))}function Lb(n,e){_i.call(this,Cc.STAT_EVENT,n),this.stat=e}function ai(n){const e=Vg();vi(e,new Lb(e,n))}function Vb(n,e){_i.call(this,Cc.Na,n),this.size=e}function Ua(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}Cc.Ma="serverreachability",si(pv,_i),Cc.STAT_EVENT="statevent",si(Lb,_i),Cc.Na="timingevent",si(Vb,_i);var _l={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ub={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Bb(){}function jb(){}Bb.prototype.h=null;var Bg,Sf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mv(){_i.call(this,"d")}function yv(){_i.call(this,"c")}function xf(){}function Ic(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Af(this),this.P=kf,this.W=new Og(n=Ag?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Mf}function Mf(){this.i=null,this.g="",this.h=!1}si(mv,_i),si(yv,_i),si(xf,Bb),xf.prototype.g=function(){return new XMLHttpRequest},xf.prototype.i=function(){return{}},Bg=new xf;var kf=45e3,_v={},Nf={};function jg(n,e,t){n.K=1,n.v=Kg(ku(e)),n.s=t,n.U=!0,Hb(n,null)}function Hb(n,e){n.F=Date.now(),$g(n),n.A=ku(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),tE(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Mf,n.g=im(n.l,t?e:null,!n.s),0<n.O&&(n.L=new XI(rn(n.Ia,n,n.g),n.O)),Lg(n.V,n.g,"readystatechange",n.gb),e=n.H?W_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ug(1),function eD(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var h="",m=u.split("&"),b=0;b<m.length;b++){var A=m[b].split("=");if(1<A.length){var R=A[0];A=A[1];var O=R.split("_");h=2<=O.length&&"type"==O[1]?h+(R+"=")+A+"&":h+(R+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function $b(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Hg(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=rD(n,t),o==Nf){4==e&&(n.o=4,ai(14),r=!1),yl(n.j,n.m,null,"[Incomplete Response]");break}if(o==_v){n.o=4,ai(15),yl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}yl(n.j,n.m,o,null),wl(n,o)}$b(n)&&o!=Nf&&o!=_v&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ai(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),kv(e),e.L=!0,ai(11))):(yl(n.j,n.m,t,"[Invalid Chunked Response]"),vl(n),Ba(n))}function rD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Nf:(t=Number(e.substring(t,r)),isNaN(t)?_v:(r+=1)+t>e.length?Nf:(e=e.substr(r,t),n.C=r+t,e))}function $g(n){n.Y=Date.now()+n.P,Gb(n,n.P)}function Gb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ua(rn(n.eb,n),e)}function Gg(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function Ba(n){0==n.l.G||n.I||hE(n.l,n)}function vl(n){Gg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,dv(n.W),hv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function wl(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Dc(t.i,n)))if(t.I=n.N,!n.J&&Dc(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(A){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ua(rn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;nm(t),Vf(t)}Uf(t),ai(18)}if(1>=Qg(t.i)&&t.ka){try{t.ka()}catch(A){}t.ka=void 0}}else El(t,11)}else if((n.J||t.g==n)&&nm(t),!Dg(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let A=o[e];if(t.U=A[0],A=A[1],2==t.G)if("c"==A[0]){t.J=A[1],t.la=A[2];const R=A[3];null!=R&&(t.ma=R,t.h.info("VER="+t.ma));const O=A[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const z=A[5];null!=z&&"number"==typeof z&&0<z&&(t.K=r=1.5*z,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const oe=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var u=r.i;!u.g&&(ts(oe,"spdy")||ts(oe,"quic")||ts(oe,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(wv(u,u.h),u.h=null))}if(r.D){const Le=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;Le&&(r.sa=Le,Kn(r.F,r.D,Le))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=Bf(r,r.H?r.la:null,r.W),h.J){rE(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(Gg(m),$g(m)),r.g=h}else dE(r);0<t.l.length&&Pu(t)}else"stop"!=A[0]&&"close"!=A[0]||El(t,7);else 3==t.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?El(t,7):Mv(t):"noop"!=A[0]&&t.j&&t.j.wa(A),t.A=0)}Ug(4)}catch(A){}}function Zg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(j_(n)||"string"==typeof n)G_(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(j_(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function yS(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(j_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function Ud(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Ud)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Zb(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];bl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)bl(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function bl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(dt=Ic.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const e=this.L;e&&3==Ou(n)?e.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const R=Ou(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>R)&&(3!=R||Ag||this.g&&(this.h.h||this.g.ga()||Av(this.g)))){this.I||4!=R||7==e||Ug(8==e||0>=O?3:2),Gg(this);var t=this.g.ba();this.N=t;t:if($b(this)){var r=Av(this.g);n="";var o=r.length,u=4==Ou(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vl(this),Ba(this);var h="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function tD(n,e,t,r,o,u,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.X,R,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dg(m)){var A=m;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,ai(12),vl(this),Ba(this);break e}yl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wl(this,t)}this.U?(Hg(this,R,h),Ag&&this.i&&3==R&&(Lg(this.V,this.W,"tick",this.fb),this.W.start())):(yl(this.j,this.m,h,null),wl(this,h)),4==R&&vl(this),this.i&&!this.I&&(4==R?hE(this.l,this):(this.i=!1,$g(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,ai(12)):(this.o=0,ai(13)),vl(this),Ba(this)}}}catch(R){}},dt.fb=function(){if(this.g){var n=Ou(this.g),e=this.g.ga();this.C<e.length&&(Gg(this),Hg(this,n,e),this.i&&4!=n&&$g(this))}},dt.cancel=function(){this.I=!0,vl(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function nD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ug(3),ai(17)),vl(this),this.o=2,Ba(this)):Gb(this,this.Y-n)},(dt=Ud.prototype).R=function(){Zb(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},dt.T=function(){return Zb(this),this.g.concat()},dt.get=function(n,e){return bl(this.h,n)?this.h[n]:e},dt.set=function(n,e){bl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},dt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var iD=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Mu){this.g=void 0!==e?e:n.g,qg(this,n.j),this.s=n.s,zg(this,n.i),Wg(this,n.m),this.l=n.l,e=n.h;var t=new Of;t.i=e.i,e.g&&(t.g=new Ud(e.g),t.h=e.h),zb(this,t),this.o=n.o}else n&&(t=String(n).match(iD))?(this.g=!!e,qg(this,t[1]||"",!0),this.s=Rf(t[2]||""),zg(this,t[3]||"",!0),Wg(this,t[4]),this.l=Rf(t[5]||"",!0),zb(this,t[6]||"",!0),this.o=Rf(t[7]||"")):(this.g=!!e,this.h=new Of(null,this.g))}function ku(n){return new Mu(n)}function qg(n,e,t){n.j=t?Rf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function zg(n,e,t){n.i=t?Rf(e,!0):e}function Wg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zb(n,e,t){e instanceof Of?(n.h=e,function Pf(n,e){e&&!n.j&&(Ru(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Xb(this,r),tE(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Nu(e,Qb)),n.h=new Of(e,n.g))}function Kn(n,e,t){n.h.set(e,t)}function Kg(n){return Kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Rf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Nu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Wb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Wb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Mu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Nu(e,vv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Nu(e,vv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Nu(t,"/"==t.charAt(0)?Yb:Kb,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Nu(t,Jb)),n.join("")};var vv=/[#\/\?@]/g,Kb=/[#\?:]/g,Yb=/[#\?]/g,Qb=/[#\?@]/g,Jb=/#/g;function Of(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ru(n){n.g||(n.g=new Ud,n.h=0,n.i&&function qb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Xb(n,e){Ru(n),e=Bd(n,e),bl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,bl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Zb(n)))}function eE(n,e){return Ru(n),e=Bd(n,e),bl(n.g.h,e)}function tE(n,e,t){Xb(n,e),0<t.length&&(n.i=null,n.g.set(Bd(n,e),Z_(t)),n.h+=t.length)}function Bd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Yg(n){this.l=n||ja,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ea&&$t.g.Ea()&&$t.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Of.prototype).add=function(n,e){Ru(this),this.i=null,n=Bd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){Ru(this),this.g.forEach(function(t,r){G_(t,function(o){n.call(e,o,r,this)},this)},this)},dt.T=function(){Ru(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},dt.R=function(n){Ru(this);var e=[];if("string"==typeof n)eE(this,n)&&(e=Db(e,this.g.get(Bd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Db(e,n[t])}return e},dt.set=function(n,e){return Ru(this),this.i=null,eE(this,n=Bd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var h=o;""!==r[u]&&(h+="="+encodeURIComponent(String(r[u]))),n.push(h)}}return this.i=n.join("&")};var ja=10;function nE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Qg(n){return n.h?1:n.g?n.g.size:0}function Dc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wv(n,e){n.g?n.g.add(e):n.h=e}function rE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function iE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Z_(n.i)}function jd(){}function Jg(){this.g=new jd}function uD(n,e,t){const r=t||"";try{Zg(n,function(o,u){let h=o;Ef(o)&&(h=ov(o)),e.push(r+u+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Ff(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function Hd(n){this.l=n.$b||null,this.j=n.ib||!1}function $d(n,e){oi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Xg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yg.prototype.cancel=function(){if(this.i=iE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},jd.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},jd.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},si(Hd,Bb),Hd.prototype.g=function(){return new $d(this.l,this.j)},Hd.prototype.i=function(n){return function(){return n}}({}),si($d,oi);var Xg=0;function sE(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Lf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,em(n)}function em(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=$d.prototype).open=function(n,e){if(this.readyState!=Xg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,em(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lf(this)),this.readyState=Xg},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,em(this)),this.g&&(this.readyState=3,em(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$t.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sE(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Lf(this):em(this),3==this.readyState&&sE(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,Lf(this))},dt.Ta=function(n){this.g&&(this.response=n,Lf(this))},dt.ha=function(){this.g&&Lf(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($d.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var bv=$t.JSON.parse;function _r(n){oi.call(this),this.headers=new Ud,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ev,this.K=this.L=!1}si(_r,oi);var Ev="",Cv=/^https?$/i,Iv=["POST","PUT"];function dD(n){return"content-type"==n.toLowerCase()}function oE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,aE(n),Gd(n)}function aE(n){n.D||(n.D=!0,vi(n,"complete"),vi(n,"error"))}function Dv(n){if(n.h&&void 0!==Eg&&(!n.C[1]||4!=Ou(n)||2!=n.ba()))if(n.v&&4==Ou(n))Pg(n.Fa,0,n);else if(vi(n,"readystatechange"),4==Ou(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(iD)[1]||null;if(!o&&$t.self&&$t.self.location){var u=$t.self.location.protocol;o=u.substr(0,u.length-1)}r=!Cv.test(o?o.toLowerCase():"")}t=r}if(t)vi(n,"complete"),vi(n,"success");else{n.m=6;try{var h=2<Ou(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",aE(n)}}finally{Gd(n)}}}function Gd(n,e){if(n.g){Tv(n);const t=n.g,r=n.C[0]?Dt:null;n.g=null,n.C=null,e||vi(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function Tv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Ou(n){return n.g?n.g.readyState:0}function Av(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ev:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Sv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function uE(n){let e="";return Tg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Kn(n,e,t))}function Zd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xv(n){this.za=0,this.l=[],this.h=new Vd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zd("baseRetryDelayMs",5e3,n),this.$a=Zd("retryDelaySeedMs",1e4,n),this.Ya=Zd("forwardChannelMaxRetries",2,n),this.ra=Zd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Yg(n&&n.concurrentRequestLimit),this.Ca=new Jg,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Mv(n){if(lE(n),3==n.G){var e=n.V++,t=ku(n.F);Kn(t,"SID",n.J),Kn(t,"RID",e),Kn(t,"TYPE","terminate"),tm(n,t),(e=new Ic(n,n.h,e,void 0)).K=2,e.v=Kg(ku(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=im(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$g(e)}Rv(n)}function Vf(n){n.g&&(kv(n),n.g.cancel(),n.g=null)}function lE(n){Vf(n),n.u&&($t.clearTimeout(n.u),n.u=null),nm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function wi(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Pu(n)}function Pu(n){nE(n.i)||n.m||(n.m=!0,av(n.Ha,n),n.C=0)}function cE(n,e){var t;t=e?e.m:n.V++;const r=ku(n.F);Kn(r,"SID",n.J),Kn(r,"RID",t),Kn(r,"AID",n.U),tm(n,r),n.o&&n.s&&Sv(r,n.o,n.s),t=new Ic(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=qd(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),wv(n.i,t),jg(t,r,e)}function tm(n,e){n.j&&Zg({},function(t,r){Kn(e,r,t)})}function qd(n,e,t){t=Math.min(n.l.length,t);var r=n.j?rn(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=o[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let m=!0;for(let b=0;b<t;b++){let A=o[b].h;const R=o[b].g;if(A-=u,0>A)u=Math.max(0,o[b].h-100),m=!1;else try{uD(R,h,"req"+A+"_")}catch(O){r&&r(R)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function dE(n){n.g||n.u||(n.Y=1,av(n.Ga,n),n.A=0)}function Uf(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ua(rn(n.Ga,n),rm(n,n.A)),n.A++,0))}function kv(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function Nv(n){n.g=new Ic(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ku(n.oa);Kn(e,"RID","rpc"),Kn(e,"SID",n.J),Kn(e,"CI",n.N?"0":"1"),Kn(e,"AID",n.U),tm(n,e),Kn(e,"TYPE","xmlhttp"),n.o&&n.s&&Sv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Kg(ku(e)),t.s=null,t.U=!0,Hb(t,n)}function nm(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function hE(n,e){var t=null;if(n.g==e){nm(n),kv(n),n.g=null;var r=2}else{if(!Dc(n.i,e))return;t=e.D,rE(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;vi(r=Vg(),new Vb(r,t,e,o)),Pu(n)}else dE(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function hD(n,e){return!(Qg(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ua(rn(n.Ha,n,e),rm(n,n.C)),n.C++,0)))}(n,e)||2==r&&Uf(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:El(n,5);break;case 4:El(n,10);break;case 3:El(n,6);break;default:El(n,2)}}function rm(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function El(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=rn(n.jb,n);t||(t=new Mu("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||qg(t,"https"),Kg(t)),function lD(n,e){const t=new Vd;if($t.Image){const r=new Image;r.onload=H_(Ff,t,r,"TestLoadImage: loaded",!0,e),r.onerror=H_(Ff,t,r,"TestLoadImage: error",!1,e),r.onabort=H_(Ff,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=H_(Ff,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ai(2);n.G=0,n.j&&n.j.va(e),Rv(n),lE(n)}function Rv(n){n.G=0,n.I=-1,n.j&&((0!=iE(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Z_(n.l),n.l.length=0),n.j.ua())}function Bf(n,e,t){let r=function sD(n){return n instanceof Mu?ku(n):new Mu(n,void 0)}(t);if(""!=r.i)e&&zg(r,e+"."+r.i),Wg(r,r.m);else{const o=$t.location;r=function oD(n,e,t,r){var o=new Mu(null,void 0);return n&&qg(o,n),e&&zg(o,e),t&&Wg(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Tg(n.aa,function(o,u){Kn(r,u,o)}),t=n.sa,(e=n.D)&&t&&Kn(r,e,t),Kn(r,"VER",n.ma),tm(n,r),r}function im(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _r(t&&n.Ba&&!n.qa?new Hd({ib:!0}):n.qa)).L=n.H,e}function fD(){}function jf(){if(Fd&&!(10<=Number($I)))throw Error("Environmental error: no available transport.")}function eo(n,e){oi.call(this),this.g=new xv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Dg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Tc(this)}function Ov(n){mv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Hf(){yv.call(this),this.status=1}function Tc(n){this.g=n}(dt=_r.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bg.g(),this.C=function gv(n){return n.h||(n.h=n.i())}(this.u?this.u:Bg),this.g.onreadystatechange=rn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void oE(this,u)}n=t||"";const o=new Ud(this.headers);r&&Zg(r,function(u,h){o.set(h,u)}),r=function Ib(n){e:{var e=dD;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=$t.FormData&&n instanceof $t.FormData,!(0<=$_(Iv,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,h){this.g.setRequestHeader(h,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Tv(this),0<this.B&&((this.K=function cD(n){return Fd&&function mS(){return function BI(n){var e=gS;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Od(String(Sg)).split("."),t=Od("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",u=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=q_(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||q_(0==o[2].length,0==u[2].length)||q_(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.pa,this)):this.A=Pg(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){oE(this,u)}},dt.pa=function(){void 0!==Eg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vi(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vi(this,"complete"),vi(this,"abort"),Gd(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gd(this,!0)),_r.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?Dv(this):this.cb())},dt.cb=function(){Dv(this)},dt.ba=function(){try{return 2<Ou(this)?this.g.status:-1}catch(n){return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),bv(e)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=xv.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Ic(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=W_(u),Pd(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qd(this,o,e),Kn(t=ku(this.F),"RID",n),Kn(t,"CVER",22),this.D&&Kn(t,"X-HTTP-Session-Id",this.D),tm(this,t),this.o&&u&&Sv(t,this.o,u),wv(this.i,o),this.Ra&&Kn(t,"TYPE","init"),this.ja?(Kn(t,"$req",e),Kn(t,"SID","null"),o.$=!0,jg(o,t,null)):jg(o,t,e),this.G=2}}else 3==this.G&&(n?cE(this,n):0==this.l.length||nE(this.i)||cE(this))},dt.Ga=function(){if(this.u=null,Nv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ua(rn(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ai(10),Vf(this),Nv(this))},dt.ab=function(){null!=this.v&&(this.v=null,Vf(this),Uf(this),ai(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ai(2)):(this.h.info("Failed to ping google.com"),ai(1))},(dt=fD.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},jf.prototype.g=function(n,e){return new eo(n,e)},si(eo,oi),eo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),av(rn(n.hb,n,e))),ai(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Bf(n,null,n.W),Pu(n)},eo.prototype.close=function(){Mv(this.g)},eo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,wi(this.g,e)}else this.v?((e={}).__data__=ov(n),wi(this.g,e)):wi(this.g,n)},eo.prototype.M=function(){this.g.j=null,delete this.j,Mv(this.g),delete this.g,eo.Z.M.call(this)},si(Ov,mv),si(Hf,yv),si(Tc,fD),Tc.prototype.xa=function(){vi(this.g,"a")},Tc.prototype.wa=function(n){vi(this.g,new Ov(n))},Tc.prototype.va=function(n){vi(this.g,new Hf(n))},Tc.prototype.ua=function(){vi(this.g,"b")},jf.prototype.createWebChannel=jf.prototype.g,eo.prototype.send=eo.prototype.u,eo.prototype.open=eo.prototype.m,eo.prototype.close=eo.prototype.close,_l.NO_ERROR=0,_l.TIMEOUT=8,_l.HTTP_ERROR=6,Ub.COMPLETE="complete",jb.EventType=Sf,Sf.OPEN="a",Sf.CLOSE="b",Sf.ERROR="c",Sf.MESSAGE="d",oi.prototype.listen=oi.prototype.N,_r.prototype.listenOnce=_r.prototype.O,_r.prototype.getLastError=_r.prototype.La,_r.prototype.getLastErrorCode=_r.prototype.Da,_r.prototype.getStatus=_r.prototype.ba,_r.prototype.getResponseJson=_r.prototype.Qa,_r.prototype.getResponseText=_r.prototype.ga,_r.prototype.send=_r.prototype.ea;var pD=pl.createWebChannelTransport=function(){return new jf},Pv=pl.getStatEventTarget=function(){return Vg()},$f=pl.ErrorCode=_l,_S=pl.EventType=Ub,gD=pl.Event=Cc,fE=pl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pE=pl.FetchXmlHttpFactory=Hd,Gf=pl.WebChannel=jb,mD=pl.XhrIo=_r;const Fv="@firebase/firestore";class ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let zd="9.6.11";const Cl=new ta.Yd("@firebase/firestore");function sm(){return Cl.logLevel}function Ue(n,...e){if(Cl.logLevel<=ta.in.DEBUG){const t=e.map(om);Cl.debug(`Firestore (${zd}): ${n}`,...t)}}function Tr(n,...e){if(Cl.logLevel<=ta.in.ERROR){const t=e.map(om);Cl.error(`Firestore (${zd}): ${n}`,...t)}}function Wd(n,...e){if(Cl.logLevel<=ta.in.WARN){const t=e.map(om);Cl.warn(`Firestore (${zd}): ${n}`,...t)}}function om(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${zd}) INTERNAL ASSERTION FAILED: `+n;throw Tr(e),new Error(e)}function Pt(n,e){n||ft()}function Je(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends nn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _D{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class bS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ES{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=A=>this.i!==o?(o=this.i,t(A)):Promise.resolve();let h=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new bi,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const A=h;e.enqueueRetryable((0,be.Z)(function*(){yield A.promise,yield u(r.currentUser)}))},b=A=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(A=>b(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?b(A):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new bi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt("string"==typeof r.accessToken),new _D(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pt(null===e||"string"==typeof e),new ui(e)}}class CS{constructor(e,t,r){this.type="FirstParty",this.user=ui.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class am{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new CS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gE{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.p;return this.p=u.token,Ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pt("string"==typeof t.token),this.p=t.token,new vD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ms{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function yE(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ms.A=-1;class wD{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=yE(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Gt(n,e){return n<e?-1:n>e?1:0}function Ac(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function _E(n){return n+"\0"}class vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new vr(0,0))}static max(){return new Nt(new vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function vE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function um(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Zf{constructor(e,t,r){void 0===t?t=0:t>e.length&&ft(),void 0===r?r=e.length-t:r>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Zf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pn extends Zf{construct(e,t,r){return new pn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const IS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ei extends Zf{construct(e,t,r){return new Ei(e,t,r)}static isValidIdentifier(e){return IS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ei.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ei(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ei(t)}static emptyPath(){return new Ei([])}}class Kd{constructor(e){this.fields=e,e.sort(Ei.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ac(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Gr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gr.EMPTY_BYTE_STRING=new Gr("");const DS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Il(n){if(Pt(!!n),"string"==typeof n){let e=0;const t=DS.exec(n);if(Pt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xc(n){return"string"==typeof n?Gr.fromBase64String(n):Gr.fromUint8Array(n)}function to(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function wE(n){const e=n.mapValue.fields.__previous_value__;return to(e)?wE(e):e}function Mc(n){const e=Il(n.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}class ED{constructor(e,t,r,o,u,h,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class Fu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}function Lu(n){return null==n}function Yd(n){return 0===n&&1/n==-1/0}function Lv(n){return"number"==typeof n&&Number.isInteger(n)&&!Yd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(pn.fromString(e))}static fromName(e){return new Qe(pn.fromString(e).popFirst(5))}static empty(){return new Qe(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new pn(e.slice()))}}const Vv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bE={nullValue:"NULL_VALUE"};function kc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?to(n)?4:CD(n)?9:10:ft()}function Ha(n,e){if(n===e)return!0;const t=kc(n);if(t!==kc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mc(n).isEqual(Mc(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Il(r.timestampValue),h=Il(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,xc(n.bytesValue).isEqual(xc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Yn(r.geoPointValue.latitude)===Yn(o.geoPointValue.latitude)&&Yn(r.geoPointValue.longitude)===Yn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Yn(r.integerValue)===Yn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Yn(r.doubleValue),h=Yn(o.doubleValue);return u===h?Yd(u)===Yd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Ac(n.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(vE(u)!==vE(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===h[m]||!Ha(u[m],h[m])))return!1;return!0}(n,e);default:return ft()}var o}function Nc(n,e){return void 0!==(n.values||[]).find(t=>Ha(t,e))}function ks(n,e){if(n===e)return 0;const t=kc(n),r=kc(e);if(t!==r)return Gt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Yn(o.integerValue||o.doubleValue),m=Yn(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return Uv(n.timestampValue,e.timestampValue);case 4:return Uv(Mc(n),Mc(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(o,u){const h=xc(o),m=xc(u);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),m=u.split("/");for(let b=0;b<h.length&&b<m.length;b++){const A=Gt(h[b],m[b]);if(0!==A)return A}return Gt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Gt(Yn(o.latitude),Yn(u.latitude));return 0!==h?h:Gt(Yn(o.longitude),Yn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const h=o.values||[],m=u.values||[];for(let b=0;b<h.length&&b<m.length;++b){const A=ks(h[b],m[b]);if(A)return A}return Gt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){const h=o.fields||{},m=Object.keys(h),b=u.fields||{},A=Object.keys(b);m.sort(),A.sort();for(let R=0;R<m.length&&R<A.length;++R){const O=Gt(m[R],A[R]);if(0!==O)return O;const z=ks(h[m[R]],b[A[R]]);if(0!==z)return z}return Gt(m.length,A.length)}(n.mapValue,e.mapValue);default:throw ft()}}function Uv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=Il(n),r=Il(e),o=Gt(t.seconds,r.seconds);return 0!==o?o:Gt(t.nanos,r.nanos)}function Rc(n){return Bv(n)}function Bv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Il(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xc(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const h of r.values||[])u?u=!1:o+=",",o+=Bv(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const m of o)h?h=!1:u+=",",u+=`${m}:${Bv(r.fields[m])}`;return u+"}"}(n.mapValue):ft();var e}function Qd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jv(n){return!!n&&"integerValue"in n}function qf(n){return!!n&&"arrayValue"in n}function EE(n){return!!n&&"nullValue"in n}function Hv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lm(n){return!!n&&"mapValue"in n}function zf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=zf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function $v(n){return"nullValue"in n?bE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qd(Fu.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function CE(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qd(Fu.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Vv:ft()}function IE(n,e){return void 0===n?e:void 0===e||ks(n,e)>0?n:e}function DE(n,e){return void 0===n?e:void 0===e||ks(n,e)<0?n:e}class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zf(t)}setAll(e){let t=Ei.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=zf(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());lm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];lm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Sc(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Ci(zf(this.value))}}function cm(n){const e=[];return Sc(n.fields,(t,r)=>{const o=new Ei([t]);if(lm(r)){const u=cm(r.mapValue).fields;if(0===u.length)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Kd(e)}class On{constructor(e,t,r,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new On(e,0,Nt.min(),Nt.min(),Ci.empty(),0)}static newFoundDocument(e,t,r){return new On(e,1,t,Nt.min(),r,0)}static newNoDocument(e,t){return new On(e,2,t,Nt.min(),Ci.empty(),0)}static newUnknownDocument(e,t){return new On(e,3,t,Nt.min(),Ci.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wf{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Gv(n){return n.fields.find(e=>2===e.kind)}function Dl(n){return n.fields.filter(e=>2!==e.kind)}Wf.UNKNOWN_ID=-1;class Kf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yf(0,Tl.min())}}function TE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Nt.fromTimestamp(1e9===r?new vr(t+1,0):new vr(t,r));return new Tl(o,Qe.empty(),e)}function TS(n){return new Tl(n.readTime,n.key,-1)}class Tl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Tl(Nt.min(),Qe.empty(),-1)}static max(){return new Tl(Nt.max(),Qe.empty(),-1)}}function AE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}class ID{constructor(e,t=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.P=null}}function SE(n,e=null,t=[],r=[],o=null,u=null,h=null){return new ID(n,e,t,r,o,u,h)}function Oc(n){const e=Je(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Rc(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Lu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rc(r)).join(",")),e.P=t}return e.P}function dm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!hm(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Ha(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MD(n.startAt,e.startAt)&&MD(n.endAt,e.endAt)}function Zv(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function qv(n,e){return n.filters.filter(t=>t instanceof Nr&&t.field.isEqual(e))}function DD(n,e,t){let r,o=!0;for(const u of qv(n,e)){let h,m=!0;switch(u.op){case"<":case"<=":h=$v(u.value);break;case"==":case"in":case">=":h=u.value;break;case">":h=u.value,m=!1;break;case"!=":case"not-in":h=bE}IE(r,h)===h&&(r=h,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];IE(r,h)===h&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}function xE(n,e,t){let r,o=!0;for(const u of qv(n,e)){let h,m=!0;switch(u.op){case">=":case">":h=CE(u.value),m=!1;break;case"==":case"in":case"<=":h=u.value;break;case"<":h=u.value,m=!1;break;case"!=":case"not-in":h=Vv}DE(r,h)===h&&(r=h,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];DE(r,h)===h&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}class Nr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new TD(e,t,r):"array-contains"===t?new kE(e,r):"in"===t?new zv(e,r):"not-in"===t?new Wv(e,r):"array-contains-any"===t?new SD(e,r):new Nr(e,t,r)}static V(e,t,r){return"in"===t?new AD(e,r):new ME(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ks(t,this.value)):null!==t&&kc(this.value)===kc(t)&&this.v(ks(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class TD extends Nr{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.v(t)}}class AD extends Nr{constructor(e,t){super(e,"in",t),this.keys=Al(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ME extends Nr{constructor(e,t){super(e,"not-in",t),this.keys=Al(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Al(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class kE extends Nr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qf(t)&&Nc(t.arrayValue,this.value)}}class zv extends Nr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nc(this.value.arrayValue,t)}}class Wv extends Nr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nc(this.value.arrayValue,t)}}class SD extends Nr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Nc(this.value.arrayValue,r))}}class $a{constructor(e,t){this.position=e,this.inclusive=t}}class Sl{constructor(e,t="asc"){this.field=e,this.dir=t}}function hm(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function xD(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(r=u.field.isKeyField()?Qe.comparator(Qe.fromName(h.referenceValue),t.key):ks(h,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function MD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ha(n.position[t],e.position[t]))return!1;return!0}class xl{constructor(e,t=null,r=[],o=[],u=null,h="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=b,this.D=null,this.C=null}}function kD(n,e,t,r,o,u,h,m){return new xl(n,e,t,r,o,u,h,m)}function Pc(n){return new xl(n)}function fm(n){return!Lu(n.limit)&&"F"===n.limitType}function pm(n){return!Lu(n.limit)&&"L"===n.limitType}function Kv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Yv(n){for(const e of n.filters)if(e.S())return e.field;return null}function gm(n){return null!==n.collectionGroup}function Fc(n){const e=Je(n);if(null===e.D){e.D=[];const t=Yv(e),r=Kv(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Sl(t)),e.D.push(new Sl(Ei.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Sl(Ei.keyField(),u))}}}return e.D}function no(n){const e=Je(n);if(!e.C)if("F"===e.limitType)e.C=SE(e.path,e.collectionGroup,Fc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Fc(e))t.push(new Sl(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new $a(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new $a(e.startAt.position,!e.startAt.inclusive):null;e.C=SE(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function NE(n,e,t){return new xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qf(n,e){return dm(no(n),no(e))&&n.limitType===e.limitType}function Qv(n){return`${Oc(no(n))}|lt:${n.limitType}`}function Jf(n){return`Query(target=${function AS(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Rc(r.value)}`;var r}).join(", ")}]`),Lu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Rc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Rc(t)).join(",")),`Target(${e})`}(no(n))}; limitType=${n.limitType})`}function RE(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Qe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,h){const m=xD(o,u,h);return o.inclusive?m<=0:m<0}(t.startAt,Fc(t),r)||t.endAt&&!function(o,u,h){const m=xD(o,u,h);return o.inclusive?m>=0:m>0}(t.endAt,Fc(t),r)));var t,r}function Jv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mm(n){return(e,t)=>{let r=!1;for(const o of Fc(n)){const u=ND(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function ND(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(o,u,h){const m=u.data.field(o),b=h.data.field(o);return null!==m&&null!==b?ks(m,b):ft()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}function OE(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function RD(n){return{integerValue:""+n}}function OD(n,e){return Lv(e)?RD(e):OE(n,e)}class ym{constructor(){this._=void 0}}function PD(n,e,t){return n instanceof Xf?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Jd?LD(n,e):n instanceof Lc?VD(n,e):function(r,o){const u=FD(r,o),h=UD(u)+UD(r.k);return jv(u)&&jv(r.k)?RD(h):OE(r.M,h)}(n,e)}function SS(n,e,t){return n instanceof Jd?LD(n,e):n instanceof Lc?VD(n,e):t}function FD(n,e){return n instanceof ep?jv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Xf extends ym{}class Jd extends ym{constructor(e){super(),this.elements=e}}function LD(n,e){const t=BD(e);for(const r of n.elements)t.some(o=>Ha(o,r))||t.push(r);return{arrayValue:{values:t}}}class Lc extends ym{constructor(e){super(),this.elements=e}}function VD(n,e){let t=BD(e);for(const r of n.elements)t=t.filter(o=>!Ha(o,r));return{arrayValue:{values:t}}}class ep extends ym{constructor(e,t){super(),this.M=e,this.k=t}}function UD(n){return Yn(n.integerValue||n.doubleValue)}function BD(n){return qf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class i{constructor(e,t){this.field=e,this.transform=t}}class a{constructor(e,t){this.version=e,this.transformResults=t}}class l{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new l}static exists(e){return new l(void 0,e)}static updateTime(e){return new l(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function d(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class p{}function _(n,e,t){n instanceof V?function(r,o,u){const h=r.value.clone(),m=Ee(r.fieldTransforms,o,u.transformResults);h.setAll(m),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof G?function(r,o,u){if(!d(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Ee(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(ee(r)),m.setAll(h),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function w(n,e,t){var o;n instanceof V?function(r,o,u){if(!d(r.precondition,o))return;const h=r.value.clone(),m=Be(r.fieldTransforms,u,o);h.setAll(m),o.convertToFoundDocument(k(o),h).setHasLocalMutations()}(n,e,t):n instanceof G?function(r,o,u){if(!d(r.precondition,o))return;const h=Be(r.fieldTransforms,u,o),m=o.data;m.setAll(ee(r)),m.setAll(h),o.convertToFoundDocument(k(o),m).setHasLocalMutations()}(n,e,t):d(n.precondition,o=e)&&o.convertToNoDocument(Nt.min())}function I(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=FD(r.transform,o||null);null!=u&&(null==t&&(t=Ci.empty()),t.set(r.field,u))}return t||null}function x(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ac(t,r,(o,u)=>function s(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Jd&&r instanceof Jd||t instanceof Lc&&r instanceof Lc?Ac(t.elements,r.elements,Ha):t instanceof ep&&r instanceof ep?Ha(t.k,r.k):t instanceof Xf&&r instanceof Xf);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function k(n){return n.isFoundDocument()?n.version:Nt.min()}class V extends p{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class G extends p{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function ee(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Ee(n,e,t){const r=new Map;Pt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,SS(h,m,t[o]))}return r}function Be(n,e,t){const r=new Map;for(const o of n){const u=o.transform,h=t.data.field(o.field);r.set(o.field,PD(u,h,e))}return r}class $e extends p{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class ct extends p{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Me{constructor(e){this.count=e}}var tt,ot;function bn(n){switch(n){default:return ft();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function Ns(n){if(void 0===n)return Tr("GRPC error has no .code"),me.UNKNOWN;switch(n){case tt.OK:return me.OK;case tt.CANCELLED:return me.CANCELLED;case tt.UNKNOWN:return me.UNKNOWN;case tt.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case tt.INTERNAL:return me.INTERNAL;case tt.UNAVAILABLE:return me.UNAVAILABLE;case tt.UNAUTHENTICATED:return me.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case tt.NOT_FOUND:return me.NOT_FOUND;case tt.ALREADY_EXISTS:return me.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return me.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case tt.ABORTED:return me.ABORTED;case tt.OUT_OF_RANGE:return me.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return me.UNIMPLEMENTED;case tt.DATA_LOSS:return me.DATA_LOSS;default:return ft()}}(ot=tt||(tt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";class Rs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Sc(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return um(this.inner)}size(){return this.innerSize}}class ar{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:Zr.RED,this.left=null!=o?o:Zr.EMPTY,this.right=null!=u?u:Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Zr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Zr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1,Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Zr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _m(this.data.getIterator())}getIteratorFrom(e){return new _m(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pn(this.comparator);return t.data=e,t}}class _m{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ml(n){return n.hasNext()?n.getNext():void 0}const Xv=new ar(Qe.comparator);function Os(){return Xv}const ew=new ar(Qe.comparator);function jD(){return ew}function tw(){return new Rs(n=>n.toString(),(n,e)=>n.isEqual(e))}const uM=new ar(Qe.comparator),lM=new Pn(Qe.comparator);function Tn(...n){let e=lM;for(const t of n)e=e.add(t);return e}const cM=new Pn(Gt);function PE(){return cM}class nw{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,rw.createSynthesizedTargetChangeForCurrentChange(e,t)),new nw(Nt.min(),r,PE(),Os(),Tn())}}class rw{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new rw(Gr.EMPTY_BYTE_STRING,t,Tn(),Tn(),Tn())}}class FE{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class xS{constructor(e,t){this.targetId=e,this.$=t}}class MS{constructor(e,t,r=Gr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class kS{constructor(){this.B=0,this.L=RS(),this.U=Gr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Tn(),t=Tn(),r=Tn();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ft()}}),new rw(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=RS()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class dM{constructor(e){this.nt=e,this.st=new Map,this.it=Os(),this.rt=NS(),this.ot=new Pn(Gt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const u=o.target;if(Zv(u))if(0===r){const h=new Qe(u.path);this.ct(t,h,On.newNoDocument(h,Nt.min()))}else Pt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,h)=>{const m=this.wt(h);if(m){if(u.current&&Zv(m.target)){const b=new Qe(m.target.path);null!==this.it.get(b)||this.It(h,b)||this.ct(h,b,On.newNoDocument(b,e))}u.j&&(t.set(h,u.H()),u.J())}});let r=Tn();this.rt.forEach((u,h)=>{let m=!0;h.forEachWhile(b=>{const A=this.wt(b);return!A||2===A.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.it.forEach((u,h)=>h.setReadTime(e));const o=new nw(e,t,this.ot,this.it,r);return this.it=Os(),this.rt=NS(),this.ot=new Pn(Gt),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new kS,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Pn(Gt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new kS),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function NS(){return new ar(Qe.comparator)}function RS(){return new ar(Qe.comparator)}const hM={asc:"ASCENDING",desc:"DESCENDING"},fM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pM{constructor(e,t){this.databaseId=e,this.N=t}}function iw(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OS(n,e){return n.N?e.toBase64():e.toUint8Array()}function gM(n,e){return iw(n,e.toTimestamp())}function Oi(n){return Pt(!!n),Nt.fromTimestamp(function(e){const t=Il(e);return new vr(t.seconds,t.nanos)}(n))}function HD(n,e){return(t=n,new pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function PS(n){const e=pn.fromString(n);return Pt(GS(e)),e}function sw(n,e){return HD(n.databaseId,e.path)}function kl(n,e){const t=PS(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(LS(t))}function $D(n,e){return HD(n.databaseId,e)}function FS(n){const e=PS(n);return 4===e.length?pn.emptyPath():LS(e)}function ow(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LS(n){return Pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VS(n,e,t){return{name:sw(n,e),fields:t.value.mapValue.fields}}function US(n,e,t){const r=kl(n,e.name),o=Oi(e.updateTime),u=new Ci({mapValue:{fields:e.fields}}),h=On.newFoundDocument(r,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function aw(n,e){let t;if(e instanceof V)t={update:VS(n,e.key,e.value)};else if(e instanceof $e)t={delete:sw(n,e.key)};else if(e instanceof G)t={update:VS(n,e.key,e.data),updateMask:IM(e.fieldMask)};else{if(!(e instanceof ct))return ft();t={verify:sw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof Xf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Jd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Lc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ep)return{fieldPath:u.field.canonicalString(),increment:h.k};throw ft()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:gM(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ft()),t;var o}function GD(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?l.updateTime(Oi(o.updateTime)):void 0!==o.exists?l.exists(o.exists):l.none():l.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,h){let m=null;"setToServerValue"in h?(Pt("REQUEST_TIME"===h.setToServerValue),m=new Xf):"appendMissingElements"in h?m=new Jd(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new Lc(h.removeAllFromArray.values||[]):"increment"in h?m=new ep(u,h.increment):ft();const b=Ei.fromServerFormat(h.fieldPath);return new i(b,m)}(n,o)):[];var o;if(e.update){const o=kl(n,e.update.name),u=new Ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Kd((e.updateMask.fieldPaths||[]).map(A=>Ei.fromServerFormat(A)));return new G(o,u,h,t,r)}return new V(o,u,t,r)}if(e.delete){const o=kl(n,e.delete);return new $e(o,t)}if(e.verify){const o=kl(n,e.verify);return new ct(o,t)}return ft()}function BS(n,e){return{documents:[$D(n,e.path)]}}function jS(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=$D(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=$D(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(b){if(0===b.length)return;const A=b.map(R=>function(O){if("=="===O.op){if(Hv(O.value))return{unaryFilter:{field:vm(O.field),op:"IS_NAN"}};if(EE(O.value))return{unaryFilter:{field:vm(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(Hv(O.value))return{unaryFilter:{field:vm(O.field),op:"IS_NOT_NAN"}};if(EE(O.value))return{unaryFilter:{field:vm(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vm(O.field),op:bM(O.op),value:O.value}}}(R));return 1===A.length?A[0]:{compositeFilter:{op:"AND",filters:A}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(b){if(0!==b.length)return b.map(A=>{return{field:vm((R=A).field),direction:wM(R.dir)};var R})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(A=e.limit,n.N||Lu(A)?A:{value:A});var A,m,b;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(b=e.endAt).inclusive,values:b.position}),t}function HS(n){let e=FS(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Pt(1===r);const R=t.from[0];R.allDescendants?o=R.collectionId:e=e.child(R.collectionId)}let u=[];t.where&&(u=$S(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(R=>{return new Sl(wm((O=R).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(R){let O;return O="object"==typeof R?R.value:R,Lu(O)?null:O}(t.limit));let b=null;var R;t.startAt&&(b=new $a((R=t.startAt).values||[],!!R.before));let A=null;return t.endAt&&(A=function(R){return new $a(R.values||[],!R.before)}(t.endAt)),kD(e,o,h,u,m,"F",b,A)}function $S(n){return n?void 0!==n.unaryFilter?[CM(n)]:void 0!==n.fieldFilter?[EM(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>$S(e)).reduce((e,t)=>e.concat(t)):ft():[]}function wM(n){return hM[n]}function bM(n){return fM[n]}function vm(n){return{fieldPath:n.canonicalString()}}function wm(n){return Ei.fromServerFormat(n.fieldPath)}function EM(n){return Nr.create(wm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function CM(n){switch(n.unaryFilter.op){case"IS_NAN":const e=wm(n.unaryFilter.field);return Nr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=wm(n.unaryFilter.field);return Nr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=wm(n.unaryFilter.field);return Nr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wm(n.unaryFilter.field);return Nr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function IM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GS(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ro(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZS(e)),e=DM(n.get(t),e);return ZS(e)}function DM(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function ZS(n){return n+"\x01\x01"}function Nl(n){const e=n.length;if(Pt(e>=2),2===e)return Pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&ft(),n.charAt(h+1)){case"\x01":const m=n.substring(u,h);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(u,h),o+="\0";break;case"\x11":o+=n.substring(u,h+1);break;default:ft()}u=h+2}return new pn(r)}const qS=["userId","batchId"];function LE(n,e){return[n,ro(e)]}function zS(n,e,t){return[n,ro(e),t]}const TM={},AM=["prefixPath","collectionGroup","readTime","documentId"],SM=["prefixPath","collectionGroup","documentId"],xM=["collectionGroup","readTime","prefixPath","documentId"],MM=["canonicalId","targetId"],kM=["targetId","path"],NM=["path","targetId"],RM=["collectionId","parent"],OM=["indexId","uid"],PM=["uid","sequenceNumber"],FM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LM=["indexId","uid","orderedDocumentKey"],VM=["userId","collectionPath","documentId"],UM=["userId","collectionPath","largestBatchId"],BM=["userId","collectionGroup","largestBatchId"],WS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jM=[...WS,"documentOverlays"],KS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],HM=[...KS,"indexConfiguration","indexState","indexEntries"],YS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):we.reject(t)}static resolve(e){return new we((t,r)=>{t(e)})}static reject(e){return new we((t,r)=>{r(e)})}static waitFor(e){return new we((t,r)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},b=>r(b))}),h=!0,u===o&&t()})}static or(e){let t=we.resolve(!1);for(const r of e)t=t.next(o=>o?we.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class VE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new bi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new uw(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=ZD(r.target.error);this.At.reject(new uw(e,o))}}static open(e,t,r,o){try{return new VE(t,e.transaction(o,r))}catch(u){throw new uw(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new GM(t)}}class Vu{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===Vu.Vt((0,nn.z$)())&&Tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),np(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,nn.hl)())return!1;if(Vu.St())return!0;const e=(0,nn.z$)(),t=Vu.Vt(e),r=0<t&&t<10,o=Vu.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,be.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{r(h.target.result)},u.onblocked=()=>{o(new uw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Oe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Oe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new uw(e,m))},u.onupgradeneeded=h=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.bt.kt(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,be.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.Nt(e);const b=VE.open(u.db,e,h?"readonly":"readwrite",r),A=o(b).next(R=>(b.Pt(),R)).catch(R=>(b.abort(R),we.reject(R))).toPromise();return A.catch(()=>{}),yield b.Rt,A}catch(b){const A="FirebaseError"!==b.name&&m<3;if(Ue("SimpleDb","Transaction failed with error:",b.message,"Retrying:",A),u.close(),!A)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $M{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return np(this.Ft.delete())}}class uw extends Oe{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function tp(n){return"IndexedDbTransactionError"===n.name}class GM{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),np(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),np(this.store.add(e))}get(e){return np(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),np(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),np(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Kt(o,(h,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new we((u,h)=>{o.onerror=m=>{h(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new we((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}Qt(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Kt(o,(u,h,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Kt(o,t)}zt(e){const t=this.cursor({});return new we((r,o)=>{t.onerror=u=>{const h=ZD(u.target.error);o(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Kt(e,t){const r=[];return new we((o,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const b=new $M(m),A=t(m.primaryKey,m.value,b);if(A instanceof we){const R=A.catch(O=>(b.done(),we.reject(O)));r.push(R)}b.isDone?o():null===b.Lt?m.continue():m.continue(b.Lt)}}).next(()=>we.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function np(n){return new we((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=ZD(r.target.error);t(o)}})}let JS=!1;function ZD(n){const e=Vu.Vt((0,nn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JS||(JS=!0,setTimeout(()=>{throw r},0)),r}}return n}class XS extends QS{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Pi(n,e){const t=Je(n);return Vu.xt(t.Ht,e)}class qD{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&_(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&w(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&w(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Nt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tn())}isEqual(e){return this.batchId===e.batchId&&Ac(this.mutations,e.mutations,(t,r)=>x(t,r))&&Ac(this.baseMutations,e.baseMutations,(t,r)=>x(t,r))}}class zD{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Pt(e.mutations.length===r.length);let o=uM;const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new zD(e,t,r,o)}}class WD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class eh{constructor(e,t,r,o,u=Nt.min(),h=Nt.min(),m=Gr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new eh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new eh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new eh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class e1{constructor(e){this.Jt=e}}function t1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:UE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:sw(o=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:iw(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:rp(e.version)};else{if(!e.isUnknownDocument())return ft();r.unknownDocument={path:t.path.toArray(),version:rp(e.version)}}var o,u;return r}function UE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function rp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ip(n){const e=new vr(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function bm(n,e){const t=(e.baseMutations||[]).map(u=>GD(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>GD(n.Jt,u)),o=vr.fromMillis(e.localWriteTimeMs);return new qD(e.batchId,o,t,r)}function lw(n){const e=ip(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ip(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var o;return void 0!==n.query.documents?(Pt(1===(o=n.query).documents.length),r=no(Pc(FS(o.documents[0])))):r=no(HS(n.query)),new eh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Gr.fromBase64String(n.resumeToken))}function n1(n,e){const t=rp(e.snapshotVersion),r=rp(e.lastLimboFreeSnapshotVersion);let o;o=Zv(e.target)?BS(n.Jt,e.target):jS(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function KD(n){const e=HS({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?NE(e,e.limit,"L"):e}function YD(n,e){return new WD(e.largestBatchId,GD(n.Jt,e.overlayMutation))}function r1(n,e){const t=e.path.lastSegment();return[n,ro(e.path.popLast()),t]}class qM{getBundleMetadata(e,t){return i1(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:ip(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return i1(e).put({bundleId:(r=t).id,createTime:rp(Oi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return s1(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:KD(o.bundledQuery),readTime:ip(o.readTime)};var o})}saveNamedQuery(e,t){return s1(e).put({name:(r=t).name,readTime:rp(Oi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function i1(n){return Pi(n,"bundles")}function s1(n){return Pi(n,"namedQueries")}class QD{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new QD(e,t.uid||"")}getOverlay(e,t){return cw(e).get(r1(this.userId,t)).next(r=>r?YD(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((u,h)=>{const m=new WD(t,h);o.push(this.Xt(e,m))}),we.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(ro(h.getCollectionPath())));const u=[];return o.forEach(h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);u.push(cw(e).Qt("collectionPathOverlayIndex",m))}),we.waitFor(u)}getOverlaysForCollection(e,t,r){const o=tw(),u=ro(t),h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return cw(e).qt("collectionPathOverlayIndex",h).next(m=>{for(const b of m){const A=YD(this.M,b);o.set(A.getKey(),A)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=tw();let h;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return cw(e).Wt({index:"collectionGroupOverlayIndex",range:m},(b,A,R)=>{const O=YD(this.M,A);u.size()<o||O.largestBatchId===h?(u.set(O.getKey(),O),h=O.largestBatchId):R.done()}).next(()=>u)}Xt(e,t){return cw(e).put(function(r,o,u){const[h,m,b]=r1(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:b,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:aw(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function cw(n){return Pi(n,"documentOverlays")}class sp{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Yn(e.integerValue));else if("doubleValue"in e){const r=Yn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Yd(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(xc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?CD(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ft()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),Qe.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function zM(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function o1(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=zM(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}sp.fe=new sp;class WM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=o1(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=o1(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class KM{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class YM{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class dw{constructor(){this.De=new WM,this.Ce=new KM(this.De),this.xe=new YM(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class th{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new th(this.indexId,this.documentKey,this.arrayValue,r)}}function op(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=a1(n.arrayValue,e.arrayValue),0!==t?t:(t=a1(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function a1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class QM{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Gv(e);if(void 0!==t&&!this.Be(t))return!1;const r=Dl(e);let o=0,u=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const h=r[o];if(!this.Le(this.Fe,h)||!this.Ue(this.Me[u++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(u>=this.Me.length||!this.Ue(this.Me[u++],h))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class JM{constructor(){this.qe=new JD}addToCollectionParentIndex(e,t){return this.qe.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getFieldIndex(e,t){return we.resolve(null)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}updateCollectionGroup(e,t,r){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class JD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Pn(pn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pn(pn.comparator)).toArray()}}const Em=new Uint8Array(0);class XM{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new JD,this.Ge=new Rs(r=>Oc(r),(r,o)=>dm(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:ro(o)};return u1(e).put(u)}return we.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[_E(t),""],!1,!0);return u1(e).qt(o).next(u=>{for(const h of u){if(h.collectionId!==t)break;r.push(Nl(h.parent))}return r})}addFieldIndex(e,t){const r=BE(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=BE(e),o=jE(e),u=hw(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=hw(e);let o=!0;const u=new Map;return we.forEach(this.Qe(t),h=>this.getFieldIndex(e,h).next(m=>{o&&(o=!!m),u.set(h,m)})).next(()=>{if(o){let h=Tn();const m=[];return we.forEach(u,(b,A)=>{var R;Ue("IndexedDbIndexManager",`Using index ${R=b,`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map(on=>`${on.fieldPath}:${on.kind}`).join(",")}`} to execute ${Oc(t)}`);const O=function(on,qt){const an=Gv(qt);if(void 0===an)return null;for(const Dn of qv(on,an.fieldPath))switch(Dn.op){case"array-contains-any":return Dn.value.arrayValue.values||[];case"array-contains":return[Dn.value]}return null}(A,b),z=function(on,qt){const an=new Map;for(const Dn of Dl(qt))for(const Fs of qv(on,Dn.fieldPath))switch(Fs.op){case"==":case"in":an.set(Dn.fieldPath.canonicalString(),Fs.value);break;case"not-in":case"!=":return an.set(Dn.fieldPath.canonicalString(),Fs.value),Array.from(an.values())}return null}(A,b),K=function(on,qt){const an=[];let Dn=!0;for(const Fs of Dl(qt)){const _p=0===Fs.kind?DD(on,Fs.fieldPath,on.startAt):xE(on,Fs.fieldPath,on.startAt);if(!_p.value)return null;an.push(_p.value),Dn&&(Dn=_p.inclusive)}return new $a(an,Dn)}(A,b),oe=function(on,qt){const an=[];let Dn=!0;for(const Fs of Dl(qt)){const _p=0===Fs.kind?xE(on,Fs.fieldPath,on.endAt):DD(on,Fs.fieldPath,on.endAt);if(!_p.value)return null;an.push(_p.value),Dn&&(Dn=_p.inclusive)}return new $a(an,Dn)}(A,b),Le=this.je(b,A,K),ht=this.je(b,A,oe),xt=this.We(b,A,z),en=this.ze(b.indexId,O,Le,!!K&&K.inclusive,ht,!!oe&&oe.inclusive,xt);return we.forEach(en,on=>r.Gt(on,t.limit).next(qt=>{qt.forEach(an=>{const Dn=Qe.fromSegments(an.documentKey);h.has(Dn)||(h=h.add(Dn),m.push(Dn))})}))}).next(()=>m)}return we.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,o,u,h,m){const b=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),A=b/(null!=t?t.length:1),R=[];for(let O=0;O<b;++O){const z=t?this.He(t[O/A]):Em,K=r?this.Je(e,z,r[O%A],o):this.Ye(e),oe=u?this.Xe(e,z,u[O%A],h):this.Ye(e+1);R.push(...this.createRange(K,oe,m.map(Le=>this.Je(e,z,Le,!0))))}return R}Je(e,t,r,o){const u=new th(e,Qe.empty(),t,r);return o?u:u.ke()}Xe(e,t,r,o){const u=new th(e,Qe.empty(),t,r);return o?u.ke():u}Ye(e){return new th(e,Qe.empty(),Em,Em)}getFieldIndex(e,t){const r=new QM(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{const h=u.filter(m=>r.$e(m));return h.sort((m,b)=>b.fields.length-m.fields.length),h.length>0?h[0]:null})}Ze(e,t){const r=new dw;for(const o of Dl(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const h=r.Ne(o.kind);sp.fe.Zt(u,h)}return r.Se()}He(e){const t=new dw;return sp.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new dw;return sp.fe.Zt(Qd(this.databaseId,t),r.Ne(function(o){const u=Dl(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new dw);let u=0;for(const h of Dl(e)){const m=r[u++];for(const b of o)if(this.en(t,h.fieldPath)&&qf(m))o=this.nn(o,h,m);else{const A=b.Ne(h.kind);sp.fe.Zt(m,A)}}return this.sn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const o=[...e],u=[];for(const h of r.arrayValue.values||[])for(const m of o){const b=new dw;b.seed(m.Se()),sp.fe.Zt(h,b.Ne(t.kind)),u.push(b)}return u}en(e,t){return!!e.filters.find(r=>r instanceof Nr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=BE(e),o=jE(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const h=[];return we.forEach(u,m=>o.get([m.indexId,this.uid]).next(b=>{h.push(function(A,R){const O=R?new Yf(R.sequenceNumber,new Tl(ip(R.readTime),new Qe(Nl(R.documentKey)),R.largestBatchId)):Yf.empty(),z=A.fields.map(([K,oe])=>new Kf(Ei.fromServerFormat(K),oe));return new Wf(A.indexId,A.collectionGroup,z,O)}(m,b))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Gt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=BE(e),u=jE(e);return this.rn(e).next(h=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>we.forEach(m,b=>{return u.put({indexId:b.indexId,uid:this.user.uid||"",sequenceNumber:h,readTime:rp((z=r).readTime),documentKey:ro(z.documentKey.path),largestBatchId:z.largestBatchId});var z})))}updateIndexEntries(e,t){const r=new Map;return we.forEach(t,(o,u)=>{const h=r.get(o.collectionGroup);return(h?we.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),we.forEach(m,b=>this.on(e,o,b).next(A=>{const R=this.un(u,b);return A.isEqual(R)?we.resolve():this.an(e,u,b,A,R)}))))})}cn(e,t,r,o){return hw(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,o){return hw(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const o=hw(e);let u=new Pn(op);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(h,m)=>{u=u.add(new th(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}un(e,t){let r=new Pn(op);const o=this.Ze(t,e);if(null==o)return r;const u=Gv(t);if(null!=u){const h=e.data.field(u.fieldPath);if(qf(h))for(const m of h.arrayValue.values||[])r=r.add(new th(t.indexId,e.key,this.He(m),o))}else r=r.add(new th(t.indexId,e.key,Em,o));return r}an(e,t,r,o,u){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(m,b,A,R,O){const z=m.getIterator(),K=b.getIterator();let oe=Ml(z),Le=Ml(K);for(;oe||Le;){let ht=!1,xt=!1;if(oe&&Le){const en=A(oe,Le);en<0?xt=!0:en>0&&(ht=!0)}else null!=oe?xt=!0:ht=!0;ht?(R(Le),Le=Ml(K)):xt?(O(oe),oe=Ml(z)):(oe=Ml(z),Le=Ml(K))}}(o,u,op,m=>{h.push(this.cn(e,t,r,m))},m=>{h.push(this.hn(e,t,r,m))}),we.waitFor(h)}rn(e){let t=1;return jE(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,m)=>op(h,m)).filter((h,m,b)=>!m||0!==op(h,b[m-1]));const o=[];o.push(e);for(const h of r){const m=op(h,e),b=op(h,t);if(0===m)o[0]=e.ke();else if(m>0&&b<0)o.push(h),o.push(h.ke());else if(b>0)break}o.push(t);const u=[];for(let h=0;h<o.length;h+=2)u.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,Em,[]],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,Em,[]]));return u}}function u1(n){return Pi(n,"collectionParents")}function hw(n){return Pi(n,"indexEntries")}function BE(n){return Pi(n,"indexConfiguration")}function jE(n){return Pi(n,"indexState")}const l1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Co{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Co(e,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function c1(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],h=IDBKeyRange.only(t.batchId);let m=0;const b=r.Wt({range:h},(R,O,z)=>(m++,z.delete()));u.push(b.next(()=>{Pt(1===m)}));const A=[];for(const R of t.mutations){const O=zS(e,R.key.path,t.batchId);u.push(o.delete(O)),A.push(R.key)}return we.waitFor(u).next(()=>A)}function HE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}Co.DEFAULT_COLLECTION_PERCENTILE=10,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Co.DEFAULT=new Co(41943040,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Co.DISABLED=new Co(-1,0,0);class XD{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.ln={}}static Yt(e,t,r,o){Pt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new XD(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nh(e).Wt({index:"userMutationsIndex",range:r},(o,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Cm(e),h=nh(e);return h.add({}).next(m=>{Pt("number"==typeof m);const b=new qD(m,t,r,o),A=function(z,K,oe){const Le=oe.baseMutations.map(xt=>aw(z.Jt,xt)),ht=oe.mutations.map(xt=>aw(z.Jt,xt));return{userId:K,batchId:oe.batchId,localWriteTimeMs:oe.localWriteTime.toMillis(),baseMutations:Le,mutations:ht}}(this.M,this.userId,b),R=[];let O=new Pn((z,K)=>Gt(z.canonicalString(),K.canonicalString()));for(const z of o){const K=zS(this.userId,z.key.path,m);O=O.add(z.key.path.popLast()),R.push(h.put(A)),R.push(u.put(K,TM))}return O.forEach(z=>{R.push(this.indexManager.addToCollectionParentIndex(e,z))}),e.addOnCommittedListener(()=>{this.ln[m]=b.keys()}),we.waitFor(R).next(()=>b)})}lookupMutationBatch(e,t){return nh(e).get(t).next(r=>r?(Pt(r.userId===this.userId),bm(this.M,r)):null)}fn(e,t){return this.ln[t]?we.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.ln[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return nh(e).Wt({index:"userMutationsIndex",range:o},(h,m,b)=>{m.userId===this.userId&&(Pt(m.batchId>=r),u=bm(this.M,m)),b.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return nh(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,u,h)=>{r=u.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nh(e).qt("userMutationsIndex",t).next(r=>r.map(o=>bm(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=LE(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Cm(e).Wt({range:o},(h,m,b)=>{const[A,R,O]=h,z=Nl(R);if(A===this.userId&&t.path.isEqual(z))return nh(e).get(O).next(K=>{if(!K)throw ft();Pt(K.userId===this.userId),u.push(bm(this.M,K))});b.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pn(Gt);const o=[];return t.forEach(u=>{const h=LE(this.userId,u.path),m=IDBKeyRange.lowerBound(h),b=Cm(e).Wt({range:m},(A,R,O)=>{const[z,K,oe]=A,Le=Nl(K);z===this.userId&&u.path.isEqual(Le)?r=r.add(oe):O.done()});o.push(b)}),we.waitFor(o).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=LE(this.userId,r),h=IDBKeyRange.lowerBound(u);let m=new Pn(Gt);return Cm(e).Wt({range:h},(b,A,R)=>{const[O,z,K]=b,oe=Nl(z);O===this.userId&&r.isPrefixOf(oe)?oe.length===o&&(m=m.add(K)):R.done()}).next(()=>this.dn(e,m))}dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(nh(e).get(u).next(h=>{if(null===h)throw ft();Pt(h.userId===this.userId),r.push(bm(this.M,h))}))}),we.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return c1(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),we.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return we.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Cm(e).Wt({range:r},(u,h,m)=>{if(u[0]===this.userId){const b=Nl(u[1]);o.push(b)}else m.done()}).next(()=>{Pt(0===o.length)})})}containsKey(e,t){return d1(e,this.userId,t)}wn(e){return h1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function d1(n,e,t){const r=LE(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return Cm(n).Wt({range:u,jt:!0},(m,b,A)=>{const[R,O,z]=m;R===e&&O===o&&(h=!0),A.done()}).next(()=>h)}function nh(n){return Pi(n,"mutations")}function Cm(n){return Pi(n,"documentMutations")}function h1(n){return Pi(n,"mutationQueues")}class ap{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new ap(0)}static yn(){return new ap(-1)}}class ek{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new ap(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Nt.fromTimestamp(new vr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.In(e,o)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Im(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Pt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Im(e).Wt((h,m)=>{const b=lw(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,u.push(this.removeTargetData(e,b)))}).next(()=>we.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Im(e).Wt((r,o)=>{const u=lw(o);t(u)})}pn(e){return f1(e).get("targetGlobalKey").next(t=>(Pt(null!==t),t))}In(e,t){return f1(e).put("targetGlobalKey",t)}Tn(e,t){return Im(e).put(n1(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Oc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Im(e).Wt({range:o,index:"queryTargetsIndex"},(h,m,b)=>{const A=lw(m);dm(t,A.target)&&(u=A,b.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=rh(e);return t.forEach(h=>{const m=ro(h.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,h))}),we.waitFor(o)}removeMatchingKeys(e,t,r){const o=rh(e);return we.forEach(t,u=>{const h=ro(u.path);return we.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=rh(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=rh(e);let u=Tn();return o.Wt({range:r,jt:!0},(h,m,b)=>{const A=Nl(h[1]),R=new Qe(A);u=u.add(R)}).next(()=>u)}containsKey(e,t){const r=ro(t.path),o=IDBKeyRange.bound([r],[_E(r)],!1,!0);let u=0;return rh(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([h,m],b,A)=>{0!==h&&(u++,A.done())}).next(()=>u>0)}Et(e,t){return Im(e).get(t).next(r=>r?lw(r):null)}}function Im(n){return Pi(n,"targets")}function f1(n){return Pi(n,"targetGlobal")}function rh(n){return Pi(n,"targetDocuments")}function up(n){return eT.apply(this,arguments)}function eT(){return eT=(0,be.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==YS)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),eT.apply(this,arguments)}function p1([n,e],[t,r]){const o=Gt(n,t);return 0===o?Gt(e,r):o}class tk{constructor(e){this.An=e,this.buffer=new Pn(p1),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();p1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nk{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Ue("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,be.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){tp(o)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield up(o)}yield t.Sn(e)}))}}class rk{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return we.resolve(Ms.A);const r=new tk(t);return this.Dn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Dn.xn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(l1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l1):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,o,u,h,m,b,A;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,h=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(u=O,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(A=Date.now(),sm()<=ta.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-R}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${u} targets in `+(b-m)+`ms\n\tRemoved ${O} documents in `+(A-b)+`ms\nTotal Duration: ${A-R}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:O})))}}class ik{constructor(e,t){this.db=e,this.garbageCollector=new rk(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,o)=>t(o))}addReference(e,t,r){return $E(e,r)}removeReference(e,t,r){return $E(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return $E(e,t)}On(e,t){return function(r,o){let u=!1;return h1(r).zt(h=>d1(r,h,o).next(m=>(m&&(u=!0),we.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Mn(e,(h,m)=>{if(m<=t){const b=this.On(e,h).next(A=>{if(!A)return u++,r.getEntry(e,h).next(()=>(r.removeEntry(h,Nt.min()),rh(e).delete([0,ro(h.path)])))});o.push(b)}}).next(()=>we.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return $E(e,t)}Mn(e,t){const r=rh(e);let o,u=Ms.A;return r.Wt({index:"documentTargetsIndex"},([h,m],{path:b,sequenceNumber:A})=>{0===h?(u!==Ms.A&&t(new Qe(Nl(o)),u),u=A,o=b):u=Ms.A}).next(()=>{u!==Ms.A&&t(new Qe(Nl(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $E(n,e){return rh(n).put((r=n.currentSequenceNumber,{targetId:0,path:ro(e.path),sequenceNumber:r}));var r}class g1{constructor(){this.changes=new Rs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?we.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sk{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return lp(e).put(r)}removeEntry(e,t,r){return lp(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],UE(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=On.newInvalidDocument(t);return lp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(fw(t))},(o,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:On.newInvalidDocument(t)};return lp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(fw(t))},(o,u)=>{r={document:this.$n(t,u),size:HE(u)}}).next(()=>r)}getEntries(e,t){let r=Os();return this.Ln(e,t,(o,u)=>{const h=this.$n(o,u);r=r.insert(o,h)}).next(()=>r)}Un(e,t){let r=Os(),o=new ar(Qe.comparator);return this.Ln(e,t,(u,h)=>{const m=this.$n(u,h);r=r.insert(u,m),o=o.insert(u,HE(h))}).next(()=>({documents:r,qn:o}))}Ln(e,t,r){if(t.isEmpty())return we.resolve();let o=new Pn(_1);t.forEach(b=>o=o.add(b));const u=IDBKeyRange.bound(fw(o.first()),fw(o.last())),h=o.getIterator();let m=h.getNext();return lp(e).Wt({index:"documentKeyIndex",range:u},(b,A,R)=>{const O=Qe.fromSegments([...A.prefixPath,A.collectionGroup,A.documentId]);for(;m&&_1(m,O)<0;)r(m,null),m=h.getNext();m&&m.isEqual(O)&&(r(m,A),m=h.hasNext()?h.getNext():null),m?R.Ut(fw(m)):R.done()}).next(()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),UE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lp(e).qt(IDBKeyRange.bound(o,u,!0)).next(h=>{let m=Os();for(const b of h){const A=this.$n(Qe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);m=m.insert(A.key,A)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=Os();const h=y1(t,r),m=y1(t,Tl.max());return lp(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,m,!0)},(b,A,R)=>{const O=this.$n(Qe.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);u=u.insert(O.key,O),u.size===o&&R.done()}).next(()=>u)}newChangeBuffer(e){return new ok(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return m1(e).get("remoteDocumentGlobalKey").next(t=>(Pt(!!t),t))}Fn(e,t){return m1(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function ZM(n,e){let t;if(e.document)t=US(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Qe.fromSegments(e.noDocument.path),o=ip(e.noDocument.readTime);t=On.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const r=Qe.fromSegments(e.unknownDocument.path),o=ip(e.unknownDocument.version);t=On.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new vr(r[0],r[1]);return Nt.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return On.newInvalidDocument(e)}}class ok extends g1{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Rs(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Pn((u,h)=>Gt(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const m=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,m.readTime)),h.isValidDocument()){const b=t1(this.Kn.M,h);o=o.add(u.path.popLast()),r+=HE(b)-m.size,t.push(this.Kn.addEntry(e,u,b))}else if(r-=m.size,this.trackRemovals){const b=t1(this.Kn.M,h.convertToNoDocument(Nt.min()));t.push(this.Kn.addEntry(e,u,b))}}),o.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),we.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:o})=>(o.forEach((u,h)=>{this.Gn.set(u,{size:h,readTime:r.get(u).readTime})}),r))}}function m1(n){return Pi(n,"remoteDocumentGlobal")}function lp(n){return Pi(n,"remoteDocumentsV14")}function fw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function y1(n,e){const t=e.documentKey.path.toArray();return[n,UE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function _1(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Gt(t[u],r[u]),o)return o;return o=Gt(t.length,r.length),o||(o=Gt(t[t.length-2],r[r.length-2]),o||Gt(t[t.length-1],r[r.length-1]))}class ak{constructor(e){this.M=e}kt(e,t,r,o){const u=new VE("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qS,{unique:!0}),m.createObjectStore("documentMutations"),v1(e),function(m){m.createObjectStore("remoteDocuments")}(e));let h=we.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),v1(e)),h=h.next(()=>function(m){const b=m.store("targetGlobal"),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return b.put("targetGlobalKey",A)}(u))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store("mutations").qt().next(A=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qS,{unique:!0});const R=b.store("mutations"),O=A.map(z=>R.put(z));return we.waitFor(O)})}(e,u))),h=h.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Qn(u))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&o>=7&&(h=h.next(()=>this.Wn(u))),r<8&&o>=8&&(h=h.next(()=>this.zn(e,u))),r<9&&o>=9&&(h=h.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.Hn(u))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(m){const b=m.createObjectStore("documentOverlays",{keyPath:VM});b.createIndex("collectionPathOverlayIndex",UM,{unique:!1}),b.createIndex("collectionGroupOverlayIndex",BM,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(m){const b=m.createObjectStore("remoteDocumentsV14",{keyPath:AM});b.createIndex("documentKeyIndex",SM),b.createIndex("collectionGroupIndex",xM)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:OM}).createIndex("sequenceNumberIndex",PM,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:FM}).createIndex("documentKeyIndex",LM,{unique:!1})}(e)})),h}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=HE(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>we.forEach(o,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",h).next(m=>we.forEach(m,b=>{Pt(b.userId===u.userId);const A=bm(this.M,b);return c1(e,u.userId,A).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Wt((h,m)=>{const b=new pn(h),A=[0,ro(b)];u.push(t.get(A).next(R=>R?we.resolve():t.put({targetId:0,path:ro(b),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>we.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:RM});const r=t.store("collectionParents"),o=new JD,u=h=>{if(o.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:ro(b)})}};return t.store("remoteDocuments").Wt({jt:!0},(h,m)=>{const b=new pn(h);return u(b.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([h,m,b],A)=>{const R=Nl(m);return u(R.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,o)=>{const u=lw(o),h=n1(this.M,u);return t.put(h)})}Jn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((u,h)=>{const m=t.store("remoteDocumentsV14"),b=(A=h,A.document?new Qe(pn.fromString(A.document.name).popFirst(5)):A.noDocument?Qe.fromSegments(A.noDocument.path):A.unknownDocument?Qe.fromSegments(A.unknownDocument.path):ft()).path.toArray();var A;const R={prefixPath:b.slice(0,b.length-2),collectionGroup:b[b.length-2],documentId:b[b.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(m.put(R))}).next(()=>we.waitFor(o))}}function v1(n){n.createObjectStore("targetDocuments",{keyPath:kM}).createIndex("documentTargetsIndex",NM,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",MM,{unique:!0}),n.createObjectStore("targetGlobal")}const tT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nT{constructor(e,t,r,o,u,h,m,b,A,R,O=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=h,this.document=m,this.Xn=A,this.Zn=R,this.ts=O,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=z=>Promise.resolve(),!nT.vt())throw new Oe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ik(this,o),this.hs=t+"main",this.M=new e1(b),this.ls=new Vu(this.hs,this.ts,new ak(this.M)),this.fs=new ek(this.referenceDelegate,this.M),this.ds=new sk(this.M),this._s=new qM,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===R&&Tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,tT);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ms(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,be.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>GE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(tp(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return pw(e).get("owner").next(t=>we.resolve(this.bs(t)))}Vs(e){return GE(e).delete(this.clientId)}vs(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Pi(r,"clientMetadata");return o.qt().next(u=>{const h=e.Ds(u,18e5),m=u.filter(b=>-1===h.indexOf(b));return we.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?we.resolve(!0):pw(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,tT);return!1}}return!(!this.networkEnabled||!this.inForeground)||GE(e).qt().next(r=>void 0===this.Ds(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new XS(t,Ms.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>GE(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return XD.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new XM(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return QD.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=14===(h=this.ts)?HM:13===h?KS:12===h?jM:11===h?WS:void ft();var h;let m;return this.ls.runTransaction(e,o,u,b=>(m=new XS(b,this.es?this.es.next():Ms.A),"readwrite-primary"===t?this.Es(m).next(A=>!!A||this.As(m)).next(A=>{if(!A)throw Tr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Oe(me.FAILED_PRECONDITION,YS);return r(m)}).next(A=>this.Ps(m).next(()=>A)):this.$s(m).next(()=>r(m)))).then(b=>(m.raiseOnCommittedEvent(),b))}$s(e){return pw(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(me.FAILED_PRECONDITION,tT)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pw(e).put("owner",t)}static vt(){return Vu.vt()}Rs(e){const t=pw(e);return t.get("owner").next(r=>this.bs(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):we.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Tr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,nn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Tr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Tr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pw(n){return Pi(n,"owner")}function GE(n){return Pi(n,"clientMetadata")}function rT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uk{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}qs(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Qe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.js(e,t.path):gm(t)?this.Ws(e,t,r):this.zs(e,t,r);var o}js(e,t){return this.Ls(e,new Qe(t)).next(r=>{let o=jD();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Ws(e,t,r){const o=t.collectionGroup;let u=jD();return this.indexManager.getCollectionParents(e,o).next(h=>we.forEach(h,m=>{const b=(A=t,R=m.child(o),new xl(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,R;return this.zs(e,b,r).next(A=>{A.forEach((R,O)=>{u=u.insert(R,O)})})}).next(()=>u))}zs(e,t,r){let o;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const h of u)for(const m of h.mutations){const b=m.key;let A=o.get(b);null==A&&(A=On.newInvalidDocument(b),o=o.insert(b,A)),w(m,A,h.localWriteTime),A.isFoundDocument()||(o=o.remove(b))}}).next(()=>(o.forEach((u,h)=>{RE(t,h)||(o=o.remove(u))}),o))}}class iT{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=o}static Ys(e,t){let r=Tn(),o=Tn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new iT(e,t.fromCache,r,o)}}class w1{Xs(e){this.Zs=e}Qs(e,t,r,o){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Nt.min())?this.ti(e,t):this.Zs.Ks(e,o).next(u=>{const h=this.ei(t,u);return(fm(t)||pm(t))&&this.ni(t.limitType,h,o,r)?this.ti(e,t):(sm()<=ta.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jf(t)),this.Zs.Qs(e,t,TE(r,-1)).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var u}ei(e,t){let r=new Pn(mm(e));return t.forEach((o,u)=>{RE(e,u)&&(r=r.add(u))}),r}ni(e,t,r,o){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ti(e,t){return sm()<=ta.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",Jf(t)),this.Zs.Qs(e,t,Tl.min())}}class lk{constructor(e,t,r,o){this.persistence=e,this.si=t,this.M=o,this.ii=new ar(Gt),this.ri=new Rs(u=>Oc(u),dm),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new uk(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function b1(n,e,t,r){return new lk(n,e,t,r)}function E1(n,e){return sT.apply(this,arguments)}function sT(){return sT=(0,be.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.Bs.getAllMutationBatches(r).next(u=>(o=u,t.ai(e),t.Bs.getAllMutationBatches(r))).next(u=>{const h=[],m=[];let b=Tn();for(const A of o){h.push(A.batchId);for(const R of A.mutations)b=b.add(R.key)}for(const A of u){m.push(A.batchId);for(const R of A.mutations)b=b.add(R.key)}return t.ci.Ks(r,b).next(A=>({hi:A,removedBatchIds:h,addedBatchIds:m}))})})}),sT.apply(this,arguments)}function ck(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.ui.newChangeBuffer({trackRemovals:!0});return function(h,m,b,A){const R=b.batch,O=R.keys();let z=we.resolve();return O.forEach(K=>{z=z.next(()=>A.getEntry(m,K)).next(oe=>{const Le=b.docVersions.get(K);Pt(null!==Le),oe.version.compareTo(Le)<0&&(R.applyToRemoteDocument(oe,b),oe.isValidDocument()&&(oe.setReadTime(b.commitVersion),A.addEntry(oe)))})}),z.next(()=>h.Bs.removeMutationBatch(m,R))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,o))})}function C1(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function dk(n,e){const t=Je(n),r=e.snapshotVersion;let o=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ui.newChangeBuffer({trackRemovals:!0});o=t.ii;const m=[];e.targetChanges.forEach((A,R)=>{const O=o.get(R);if(!O)return;m.push(t.fs.removeMatchingKeys(u,A.removedDocuments,R).next(()=>t.fs.addMatchingKeys(u,A.addedDocuments,R)));let z=O.withSequenceNumber(u.currentSequenceNumber);var K,oe,Le;e.targetMismatches.has(R)?z=z.withResumeToken(Gr.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):A.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(A.resumeToken,r)),o=o.insert(R,z),oe=z,Le=A,(0===(K=O).resumeToken.approximateByteSize()||oe.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0)&&m.push(t.fs.updateTargetData(u,z))});let b=Os();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),m.push(I1(u,h,e.documentUpdates).next(A=>{b=A})),!r.isEqual(Nt.min())){const A=t.fs.getLastRemoteSnapshotVersion(u).next(R=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(A)}return we.waitFor(m).next(()=>h.apply(u)).next(()=>t.ci.Gs(u,b)).next(()=>b)}).then(u=>(t.ii=o,u))}function I1(n,e,t){let r=Tn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Os();return t.forEach((h,m)=>{const b=o.get(h);m.isNoDocument()&&m.version.isEqual(Nt.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!b.isValidDocument()||m.version.compareTo(b.version)>0||0===m.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):Ue("LocalStore","Ignoring outdated watch update for ",h,". Current version:",b.version," Watch version:",m.version)}),u})}function hk(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Dm(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.fs.getTargetData(r,e).next(u=>u?(o=u,we.resolve(o)):t.fs.allocateTargetId(r).next(h=>(o=new eh(e,h,0,r.currentSequenceNumber),t.fs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.ii.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function Tm(n,e,t){return oT.apply(this,arguments)}function oT(){return oT=(0,be.Z)(function*(n,e,t){const r=Je(n),o=r.ii.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!tp(h))throw h;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.ii=r.ii.remove(e),r.ri.delete(o.target)}),oT.apply(this,arguments)}function ZE(n,e,t){const r=Je(n);let o=Nt.min(),u=Tn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,A){const R=Je(m),O=R.ri.get(A);return void 0!==O?we.resolve(R.ii.get(O)):R.fs.getTargetData(b,A)}(r,h,no(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(h,m.targetId).next(b=>{u=b})}).next(()=>r.si.Qs(h,e,t?o:Nt.min(),t?u:Tn())).next(m=>(A1(r,Jv(e),m),{documents:m,li:u})))}function D1(n,e){const t=Je(n),r=Je(t.fs),o=t.ii.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(h=>h?h.target:null))}function T1(n,e){const t=Je(n),r=t.oi.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.ui.getAllFromCollectionGroup(o,e,TE(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(A1(t,e,o),o))}function A1(n,e,t){let r=Nt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.oi.set(e,r)}function aT(){return aT=(0,be.Z)(function*(n,e,t,r){const o=Je(n);let u=Tn(),h=Os();for(const A of t){const R=e.fi(A.metadata.name);A.document&&(u=u.add(R));const O=e.di(A);O.setReadTime(e._i(A.metadata.readTime)),h=h.insert(R,O)}const m=o.ui.newChangeBuffer({trackRemovals:!0}),b=yield Dm(o,(A=r,no(Pc(pn.fromString(`__bundle__/docs/${A}`)))));var A;return o.persistence.runTransaction("Apply bundle documents","readwrite",A=>I1(A,m,h).next(R=>(m.apply(A),R)).next(R=>o.fs.removeMatchingKeysForTargetId(A,b.targetId).next(()=>o.fs.addMatchingKeys(A,u,b.targetId)).next(()=>o.ci.Gs(A,R)).next(()=>R)))}),aT.apply(this,arguments)}function pk(n,e){return uT.apply(this,arguments)}function uT(){return uT=(0,be.Z)(function*(n,e,t=Tn()){const r=yield Dm(n,no(KD(e.bundledQuery))),o=Je(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const h=Oi(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o._s.saveNamedQuery(u,e);const m=r.withResumeToken(Gr.EMPTY_BYTE_STRING,h);return o.ii=o.ii.insert(m.targetId,m),o.fs.updateTargetData(u,m).next(()=>o.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.fs.addMatchingKeys(u,t,r.targetId)).next(()=>o._s.saveNamedQuery(u,e))})}),uT.apply(this,arguments)}class gk{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return we.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:Oi(r.createTime)}),we.resolve()}getNamedQuery(e,t){return we.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:KD(r.bundledQuery),readTime:Oi(r.readTime)}),we.resolve();var r}}class mk{constructor(){this.overlays=new ar(Qe.comparator),this.gi=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.Xt(e,t,u)}),we.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.gi.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.gi.delete(r)),we.resolve()}getOverlaysForCollection(e,t,r){const o=tw(),u=t.length+1,h=new Qe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const b=m.getNext().value,A=b.getKey();if(!t.isPrefixOf(A.path))break;A.path.length===u&&b.largestBatchId>r&&o.set(b.getKey(),b)}return we.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new ar((A,R)=>A-R);const h=this.overlays.getIterator();for(;h.hasNext();){const A=h.getNext().value;if(A.getKey().getCollectionGroup()===t&&A.largestBatchId>r){let R=u.get(A.largestBatchId);null===R&&(R=tw(),u=u.insert(A.largestBatchId,R)),R.set(A.getKey(),A)}}const m=tw(),b=u.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((A,R)=>m.set(A,R)),!(m.size()>=o)););return we.resolve(m)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const h=this.gi.get(o.largestBatchId).delete(r.key);this.gi.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new WD(t,r));let u=this.gi.get(t);void 0===u&&(u=Tn(),this.gi.set(t,u)),this.gi.set(t,u.add(r.key))}}class lT{constructor(){this.yi=new Pn(Fi.pi),this.Ii=new Pn(Fi.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new Fi(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new Fi(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new Qe(new pn([])),r=new Fi(t,e),o=new Fi(t,e+1),u=[];return this.Ii.forEachInRange([r,o],h=>{this.Ai(h),u.push(h.key)}),u}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Qe(new pn([])),r=new Fi(t,e),o=new Fi(t,e+1);let u=Tn();return this.Ii.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Fi(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Fi{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Qe.comparator(e.key,t.key)||Gt(e.vi,t.vi)}static Ti(e,t){return Gt(e.vi,t.vi)||Qe.comparator(e.key,t.key)}}class yk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Pn(Fi.pi)}checkEmpty(e){return we.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,o){const u=this.Si;this.Si++;const h=new qD(u,t,r,o);this.Bs.push(h);for(const m of o)this.Di=this.Di.add(new Fi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return we.resolve(h)}lookupMutationBatch(e,t){return we.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.xi(t+1),u=o<0?0:o;return we.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return we.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Fi(t,0),o=new Fi(t,Number.POSITIVE_INFINITY),u=[];return this.Di.forEachInRange([r,o],h=>{const m=this.Ci(h.vi);u.push(m)}),we.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pn(Gt);return t.forEach(o=>{const u=new Fi(o,0),h=new Fi(o,Number.POSITIVE_INFINITY);this.Di.forEachInRange([u,h],m=>{r=r.add(m.vi)})}),we.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Qe.isDocumentKey(u)||(u=u.child(""));const h=new Fi(new Qe(u),0);let m=new Pn(Gt);return this.Di.forEachWhile(b=>{const A=b.key.path;return!!r.isPrefixOf(A)&&(A.length===o&&(m=m.add(b.vi)),!0)},h),we.resolve(this.Ni(m))}Ni(e){const t=[];return e.forEach(r=>{const o=this.Ci(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Pt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return we.forEach(t.mutations,o=>{const u=new Fi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new Fi(t,0),o=this.Di.firstAfterOrEqual(r);return we.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return we.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class _k{constructor(e){this.Mi=e,this.docs=new ar(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,h=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return we.resolve(r?r.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let r=Os();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():On.newInvalidDocument(o))}),we.resolve(r)}getAllFromCollection(e,t,r){let o=Os();const u=new Qe(t.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:b}}=h.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||AE(TS(b),r)<=0||(o=o.insert(b.key,b.mutableCopy()))}return we.resolve(o)}getAllFromCollectionGroup(e,t,r,o){ft()}Oi(e,t){return we.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vk(this)}getSize(e){return we.resolve(this.size)}}class vk extends g1{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Kn.addEntry(e,o)):this.Kn.removeEntry(r)}),we.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class wk{constructor(e){this.persistence=e,this.Fi=new Rs(t=>Oc(t),dm),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new lT,this.targetCount=0,this.Li=ap.gn()}forEachTarget(e,t){return this.Fi.forEach((r,o)=>t(o)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),we.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new ap(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.Tn(t),we.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Fi.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Fi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),we.waitFor(u).next(()=>o)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return we.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),we.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),we.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),we.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return we.resolve(r)}containsKey(e,t){return we.resolve(this.Bi.containsKey(t))}}class bk{constructor(e,t){this.Ui={},this.overlays={},this.es=new Ms(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new wk(this),this.indexManager=new JM,this.ds=new _k(r=>this.referenceDelegate.qi(r)),this.M=new e1(t),this._s=new gk(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new yk(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const o=new Ek(this.es.next());return this.referenceDelegate.Ki(),r(o).next(u=>this.referenceDelegate.Gi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Qi(e,t){return we.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class Ek extends QS{constructor(e){super(),this.currentSequenceNumber=e}}class cT{constructor(e){this.persistence=e,this.ji=new lT,this.Wi=null}static zi(e){return new cT(e)}get Hi(){if(this.Wi)return this.Wi;throw ft()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),we.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),we.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(o=>this.Hi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Hi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Hi,r=>{const o=Qe.fromPath(r);return this.Ji(e,o).next(u=>{u||t.removeEntry(o,Nt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return we.or([()=>we.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function S1(n,e){return`firestore_clients_${n}_${e}`}function x1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function dT(n,e){return`firestore_targets_${n}_${e}`}class qE{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Yi(e,t,r){const o=JSON.parse(r);let u,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new Oe(o.error.code,o.error.message))),h?new qE(e,t,o.state,u):(Tr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Oe(r.error.code,r.error.message))),u?new gw(e,r.state,o):(Tr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=PE();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=Lv(r.activeTargetIds[h]),u=u.add(r.activeTargetIds[h]);return o?new zE(e,u):(Tr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hT{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hT(t.clientId,t.onlineState):(Tr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fT{constructor(){this.activeTargetIds=PE()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pT{constructor(e,t,r,o,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new ar(Gt),this.started=!1,this.rr=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ur=S1(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new fT),this.cr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Fs();for(const o of t){if(o===e.er)continue;const u=e.getItem(S1(e.persistenceKey,o));if(u){const h=zE.Yi(o,u);h&&(e.ir=e.ir.insert(h.clientId,h))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const o=e.mr(r);o&&e.gr(o)}for(const o of e.rr)e.sr(o);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(dT(this.persistenceKey,e));if(r){const o=gw.Yi(e,r);o&&(t=o.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dT(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Ir(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void Tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Pr(r.key);return t.br(o,null)}{const o=t.Vr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Sr(o)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(r.key===t.dr){if(null!==r.newValue){const o=t.mr(r.newValue);if(o)return t.gr(o)}}else if(r.key===t.ar){const o=function(u){let h=Ms.A;if(null!=u)try{const m=JSON.parse(u);Pt("number"==typeof m),h=m}catch(m){Tr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==Ms.A&&t.sequenceNumberHandler(o)}else if(r.key===t._r){const o=t.Nr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.kr(u)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const o=new qE(this.currentUser,e,t,r),u=x1(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Xi())}Ir(e){const t=x1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const o=dT(this.persistenceKey,e),u=new gw(e,t,r);this.setItem(o,u.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return zE.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return qE.Yi(new ui(void 0!==r[2]?r[2]:null),o,t)}Dr(e,t){const r=this.lr.exec(e),o=Number(r[1]);return gw.Yi(o,t)}mr(e){return hT.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),o=this.yr(this.ir),u=this.yr(r),h=[],m=[];return u.forEach(b=>{o.has(b)||h.push(b)}),o.forEach(b=>{u.has(b)||m.push(b)}),this.syncEngine.Fr(h,m).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=PE();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class M1{constructor(){this.$r=new fT,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new fT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ck{Lr(e){}shutdown(){}}class k1{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ik={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Dk{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Tk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,o,u){const h=this.uo(e,t);Ue("RestConnection","Sending: ",h,r);const m={};return this.ao(m,o,u),this.co(e,h,m,r).then(b=>(Ue("RestConnection","Received: ",b),b),b=>{throw Wd("RestConnection",`${e} failed with error: `,b,"url: ",h,"request:",r),b})}ho(e,t,r,o,u){return this.oo(e,t,r,o,u)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}uo(e,t){return`${this.io}/v1/${t}:${Ik[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((u,h)=>{const m=new mD;m.listenOnce(_S.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case $f.NO_ERROR:const A=m.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(A)),u(A);break;case $f.TIMEOUT:Ue("Connection",'RPC "'+e+'" timed out'),h(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const R=m.getStatus();if(Ue("Connection",'RPC "'+e+'" failed with status:',R,"response text:",m.getResponseText()),R>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const z=function(K){const oe=K.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(oe)>=0?oe:me.UNKNOWN}(O.status);h(new Oe(z,O.message))}else h(new Oe(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ue("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);m.send(t,"POST",b,r,15)})}lo(e,t,r){const o=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=pD(),h=Pv(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new pE({})),this.ao(m.initMessageHeaders,t,r),(0,nn.uI)()||(0,nn.b$)()||(0,nn.d)()||(0,nn.w1)()||(0,nn.Mn)()||(0,nn.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=o.join("");Ue("Connection","Creating WebChannel: "+b,m);const A=u.createWebChannel(b,m);let R=!1,O=!1;const z=new Dk({Wr:oe=>{O?Ue("Connection","Not sending because WebChannel is closed:",oe):(R||(Ue("Connection","Opening WebChannel transport."),A.open(),R=!0),Ue("Connection","WebChannel sending:",oe),A.send(oe))},zr:()=>A.close()}),K=(oe,Le,ht)=>{oe.listen(Le,xt=>{try{ht(xt)}catch(en){setTimeout(()=>{throw en},0)}})};return K(A,Gf.EventType.OPEN,()=>{O||Ue("Connection","WebChannel transport opened.")}),K(A,Gf.EventType.CLOSE,()=>{O||(O=!0,Ue("Connection","WebChannel transport closed"),z.no())}),K(A,Gf.EventType.ERROR,oe=>{O||(O=!0,Wd("Connection","WebChannel transport errored:",oe),z.no(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),K(A,Gf.EventType.MESSAGE,oe=>{var Le;if(!O){const ht=oe.data[0];Pt(!!ht);const xt=ht,en=xt.error||(null===(Le=xt[0])||void 0===Le?void 0:Le.error);if(en){Ue("Connection","WebChannel received error:",en);const on=en.status;let qt=function(Dn){const Fs=tt[Dn];if(void 0!==Fs)return Ns(Fs)}(on),an=en.message;void 0===qt&&(qt=me.INTERNAL,an="Unknown error status: "+on+" with message "+en.message),O=!0,z.no(new Oe(qt,an)),A.close()}else Ue("Connection","WebChannel received:",ht),z.so(ht)}}),K(h,gD.STAT_EVENT,oe=>{oe.stat===fE.PROXY?Ue("Connection","Detected buffering proxy"):oe.stat===fE.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{z.eo()},0),z}}function N1(){return"undefined"!=typeof window?window:null}function WE(){return"undefined"!=typeof document?document:null}function mw(n){return new pM(n,!0)}class gT{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=o,this.wo=u,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),o=Math.max(0,t-r);o>0&&Ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,o,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class R1{constructor(e,t,r,o,u,h,m,b){this.Yn=e,this.Ro=r,this.Po=o,this.bo=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new gT(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,be.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,be.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Vo===t&&this.qo(r,o)},r=>{e(()=>{const o=new Oe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(o)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(o=>{r(()=>this.Ko(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}No(){var e=this;this.state=5,this.Do.To((0,be.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ak extends R1{constructor(e,t,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.M=u}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function yM(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:ft(),o=e.targetChange.targetIds||[],u=function(b,A){return b.N?(Pt(void 0===A||"string"==typeof A),Gr.fromBase64String(A||"")):(Pt(void 0===A||A instanceof Uint8Array),Gr.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(b){const A=void 0===b.code?me.UNKNOWN:Ns(b.code);return new Oe(A,b.message||"")}(h);t=new MS(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=kl(n,r.document.name),u=Oi(r.document.updateTime),h=new Ci({mapValue:{fields:r.document.fields}}),m=On.newFoundDocument(o,u,h);t=new FE(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=kl(n,r.document),u=r.readTime?Oi(r.readTime):Nt.min(),h=On.newNoDocument(o,u);t=new FE([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=kl(n,r.document);t=new FE([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ft();{const r=e.filter,u=new Me(r.count||0);t=new xS(r.targetId,u)}}var b;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return Nt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Nt.min():u.readTime?Oi(u.readTime):Nt.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=ow(this.M),t.addTarget=function(o,u){let h;const m=u.target;return h=Zv(m)?{documents:BS(o,m)}:{query:jS(o,m)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=OS(o,u.resumeToken):u.snapshotVersion.compareTo(Nt.min())>0&&(h.readTime=iw(o,u.snapshotVersion.toTimestamp())),h}(this.M,e);const r=function vM(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=ow(this.M),t.removeTarget=e,this.Fo(t)}}class Sk extends R1{constructor(e,t,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.M=u,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function _M(n,e){return n&&n.length>0?(Pt(void 0!==e),n.map(t=>function(r,o){let u=Oi(r.updateTime?r.updateTime:o);return u.isEqual(Nt.min())&&(u=Oi(o)),new a(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.Yo(r,t)}return Pt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=ow(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>aw(this.M,r))};this.Fo(t)}}class xk extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.tu=!1}eu(){if(this.tu)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.oo(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(me.UNKNOWN,o.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ho(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(me.UNKNOWN,o.toString())})}terminate(){this.tu=!0}}class Mk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Tr(t),this.iu=!1):Ue("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class kk{constructor(e,t,r,o,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=u,this._u.Lr(m=>{r.enqueueAndForget((0,be.Z)(function*(){var b;ih(h)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,be.Z)(function*(A){const R=Je(A);R.fu.add(4),yield Am(R),R.wu.set("Unknown"),R.fu.delete(4),yield yw(R)}),function(A){return b.apply(this,arguments)})(h))}))}),this.wu=new Mk(r,o)}}function yw(n){return mT.apply(this,arguments)}function mT(){return mT=(0,be.Z)(function*(n){if(ih(n))for(const e of n.du)yield e(!0)}),mT.apply(this,arguments)}function Am(n){return yT.apply(this,arguments)}function yT(){return yT=(0,be.Z)(function*(n){for(const e of n.du)yield e(!1)}),yT.apply(this,arguments)}function KE(n,e){const t=Je(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),wT(t)?vT(t):xm(t).xo()&&_T(t,e))}function _w(n,e){const t=Je(n),r=xm(t);t.lu.delete(e),r.xo()&&O1(t,e),0===t.lu.size&&(r.xo()?r.Mo():ih(t)&&t.wu.set("Unknown"))}function _T(n,e){n.mu.Z(e.targetId),xm(n).jo(e)}function O1(n,e){n.mu.Z(e),xm(n).Wo(e)}function vT(n){n.mu=new dM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),xm(n).start(),n.wu.ru()}function wT(n){return ih(n)&&!xm(n).Co()&&n.lu.size>0}function ih(n){return 0===Je(n).fu.size}function P1(n){n.mu=void 0}function Nk(n){return bT.apply(this,arguments)}function bT(){return bT=(0,be.Z)(function*(n){n.lu.forEach((e,t)=>{_T(n,e)})}),bT.apply(this,arguments)}function Rk(n,e){return ET.apply(this,arguments)}function ET(){return ET=(0,be.Z)(function*(n,e){P1(n),wT(n)?(n.wu.au(e),vT(n)):n.wu.set("Unknown")}),ET.apply(this,arguments)}function Ok(n,e,t){return CT.apply(this,arguments)}function CT(){return CT=(0,be.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof MS&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(o,u){const h=u.cause;for(const m of u.targetIds)o.lu.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.lu.delete(m),o.mu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield YE(n,r)}else if(e instanceof FE?n.mu.ut(e):e instanceof xS?n.mu._t(e):n.mu.ht(e),!t.isEqual(Nt.min()))try{const r=yield C1(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const h=o.mu.yt(u);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const A=o.lu.get(b);A&&o.lu.set(b,A.withResumeToken(m.resumeToken,u))}}),h.targetMismatches.forEach(m=>{const b=o.lu.get(m);if(!b)return;o.lu.set(m,b.withResumeToken(Gr.EMPTY_BYTE_STRING,b.snapshotVersion)),O1(o,m);const A=new eh(b.target,m,1,b.sequenceNumber);_T(o,A)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield YE(n,r)}var r}),CT.apply(this,arguments)}function YE(n,e,t){return IT.apply(this,arguments)}function IT(){return IT=(0,be.Z)(function*(n,e,t){if(!tp(e))throw e;n.fu.add(1),yield Am(n),n.wu.set("Offline"),t||(t=()=>C1(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield yw(n)}))}),IT.apply(this,arguments)}function F1(n,e){return e().catch(t=>YE(n,t,e))}function Sm(n){return DT.apply(this,arguments)}function DT(){return DT=(0,be.Z)(function*(n){const e=Je(n),t=sh(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Pk(e);)try{const o=yield hk(e.localStore,r);if(null===o){0===e.hu.length&&t.Mo();break}r=o.batchId,Fk(e,o)}catch(o){yield YE(e,o)}L1(e)&&V1(e)}),DT.apply(this,arguments)}function Pk(n){return ih(n)&&n.hu.length<10}function Fk(n,e){n.hu.push(e);const t=sh(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function L1(n){return ih(n)&&!sh(n).Co()&&n.hu.length>0}function V1(n){sh(n).start()}function Lk(n){return TT.apply(this,arguments)}function TT(){return TT=(0,be.Z)(function*(n){sh(n).Zo()}),TT.apply(this,arguments)}function Vk(n){return AT.apply(this,arguments)}function AT(){return AT=(0,be.Z)(function*(n){const e=sh(n);for(const t of n.hu)e.Jo(t.mutations)}),AT.apply(this,arguments)}function Uk(n,e,t){return ST.apply(this,arguments)}function ST(){return ST=(0,be.Z)(function*(n,e,t){const r=n.hu.shift(),o=zD.from(r,e,t);yield F1(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Sm(n)}),ST.apply(this,arguments)}function Bk(n,e){return xT.apply(this,arguments)}function xT(){return xT=(0,be.Z)(function*(n,e){var t;e&&sh(n).Ho&&(yield(t=(0,be.Z)(function*(r,o){if(bn(u=o.code)&&u!==me.ABORTED){const h=r.hu.shift();sh(r).ko(),yield F1(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Sm(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),L1(n)&&V1(n)}),xT.apply(this,arguments)}function U1(n,e){return MT.apply(this,arguments)}function MT(){return MT=(0,be.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=ih(t);t.fu.add(3),yield Am(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield yw(t)}),MT.apply(this,arguments)}function kT(n,e){return NT.apply(this,arguments)}function NT(){return NT=(0,be.Z)(function*(n,e){const t=Je(n);e?(t.fu.delete(2),yield yw(t)):e||(t.fu.add(2),yield Am(t),t.wu.set("Unknown"))}),NT.apply(this,arguments)}function xm(n){return n.gu||(n.gu=function(e,t,r){const o=Je(e);return o.eu(),new Ak(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Hr:Nk.bind(null,n),Yr:Rk.bind(null,n),Qo:Ok.bind(null,n)}),n.du.push(function(){var e=(0,be.Z)(function*(t){t?(n.gu.ko(),wT(n)?vT(n):n.wu.set("Unknown")):(yield n.gu.stop(),P1(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function sh(n){return n.yu||(n.yu=function(e,t,r){const o=Je(e);return o.eu(),new Sk(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Hr:Lk.bind(null,n),Yr:Bk.bind(null,n),Xo:Vk.bind(null,n),Yo:Uk.bind(null,n)}),n.du.push(function(){var e=(0,be.Z)(function*(t){t?(n.yu.ko(),yield Sm(n)):(yield n.yu.stop(),n.hu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class RT{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,u){const h=Date.now()+r,m=new RT(e,t,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(n,e){if(Tr("AsyncQueue",`${e}: ${n}`),tp(n))return new Oe(me.UNAVAILABLE,`${e}: ${n}`);throw n}class km{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=jD(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new km(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof km)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new km;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class B1{constructor(){this.pu=new ar(Qe.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):ft():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Nm{constructor(e,t,r,o,u,h,m,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Nm(e,t,km.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class jk{constructor(){this.Tu=void 0,this.listeners=[]}}class Hk{constructor(){this.queries=new Rs(e=>Qv(e),Qf),this.onlineState="Unknown",this.Eu=new Set}}function OT(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,be.Z)(function*(n,e){const t=Je(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new jk),o)try{u.Tu=yield t.onListen(r)}catch(h){const m=Mm(h,`Initialization of query '${Jf(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Au(t.onlineState),u.Tu&&e.Ru(u.Tu)&&VT(t)}),PT.apply(this,arguments)}function FT(n,e){return LT.apply(this,arguments)}function LT(){return LT=(0,be.Z)(function*(n,e){const t=Je(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),LT.apply(this,arguments)}function $k(n,e){const t=Je(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.Ru(o)&&(r=!0);h.Tu=o}}r&&VT(t)}function Gk(n,e,t){const r=Je(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function VT(n){n.Eu.forEach(e=>{e.next()})}class UT{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Nm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=Nm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class Zk{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class j1{constructor(e){this.M=e}fi(e){return kl(this.M,e)}di(e){return e.metadata.exists?US(this.M,e.document,!1):On.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Oi(e)}}class qk{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=H1(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=pn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new j1(this.M);for(const o of e)if(o.metadata.queries){const u=r.fi(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||Tn()).add(u);t.set(h,m)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function fk(n,e,t,r){return aT.apply(this,arguments)}(e.localStore,new j1(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const o of e.queries)yield pk(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function H1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $1{constructor(e){this.key=e}}class G1{constructor(e){this.key=e}}class Z1{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Tn(),this.mutatedKeys=Tn(),this.Uu=mm(e),this.qu=new km(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new B1,o=t?t.qu:this.qu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const b=fm(this.query)&&o.size===this.query.limit?o.last():null,A=pm(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((R,O)=>{const z=o.get(R),K=RE(this.query,O)?O:null,oe=!!z&&this.mutatedKeys.has(z.key),Le=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let ht=!1;z&&K?z.data.isEqual(K.data)?oe!==Le&&(r.track({type:3,doc:K}),ht=!0):this.ju(z,K)||(r.track({type:2,doc:K}),ht=!0,(b&&this.Uu(K,b)>0||A&&this.Uu(K,A)<0)&&(m=!0)):!z&&K?(r.track({type:0,doc:K}),ht=!0):z&&!K&&(r.track({type:1,doc:z}),ht=!0,(b||A)&&(m=!0)),ht&&(K?(h=h.add(K),u=Le?u.add(R):u.delete(R)):(h=h.delete(R),u=u.delete(R)))}),fm(this.query)||pm(this.query))for(;h.size>this.query.limit;){const R=fm(this.query)?h.last():h.first();h=h.delete(R.key),u=u.delete(R.key),r.track({type:1,doc:R})}return{qu:h,Qu:r,ni:m,mutatedKeys:u}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const u=e.Qu.Iu();u.sort((A,R)=>function(O,z){const K=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return K(O)-K(z)}(A.type,R.type)||this.Uu(A.doc,R.doc)),this.Wu(r);const h=t?this.zu():[],m=0===this.Lu.size&&this.current?1:0,b=m!==this.Bu;return this.Bu=m,0!==u.length||b?{snapshot:new Nm(this.query,e.qu,o,u,e.mutatedKeys,0===m,b,!1),Hu:h}:{Hu:h}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new B1,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Tn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new G1(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new $1(r))}),t}Yu(e){this.$u=e.li,this.Lu=Tn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return Nm.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class zk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Wk{constructor(e){this.key=e,this.Zu=!1}}class Kk{constructor(e,t,r,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.ta={},this.ea=new Rs(m=>Qv(m),Qf),this.na=new Map,this.sa=new Set,this.ia=new ar(Qe.comparator),this.ra=new Map,this.oa=new lT,this.ua={},this.aa=new Map,this.ca=ap.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function Yk(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,be.Z)(function*(n,e){const t=lA(n);let r,o;const u=t.ea.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Xu();else{const h=yield Dm(t.localStore,no(e));t.isPrimaryClient&&KE(t.remoteStore,h);const m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield jT(t,e,r,"current"===m)}return o}),BT.apply(this,arguments)}function jT(n,e,t,r){return HT.apply(this,arguments)}function HT(){return HT=(0,be.Z)(function*(n,e,t,r){n.la=(R,O,z)=>{return(K=(0,be.Z)(function*(oe,Le,ht,xt){let en=Le.view.Gu(ht);en.ni&&(en=yield ZE(oe.localStore,Le.query,!1).then(({documents:an})=>Le.view.Gu(an,en)));const on=xt&&xt.targetChanges.get(Le.targetId),qt=Le.view.applyChanges(en,oe.isPrimaryClient,on);return JT(oe,Le.targetId,qt.Hu),qt.snapshot}),function(oe,Le,ht,xt){return K.apply(this,arguments)})(n,R,O,z);var K};const o=yield ZE(n.localStore,e,!0),u=new Z1(e,o.li),h=u.Gu(o.documents),m=rw.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=u.applyChanges(h,n.isPrimaryClient,m);JT(n,t,b.Hu);const A=new zk(e,t,u);return n.ea.set(e,A),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),b.snapshot}),HT.apply(this,arguments)}function Qk(n,e){return $T.apply(this,arguments)}function $T(){return $T=(0,be.Z)(function*(n,e){const t=Je(n),r=t.ea.get(e),o=t.na.get(r.targetId);if(o.length>1)return t.na.set(r.targetId,o.filter(u=>!Qf(u,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Tm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_w(t.remoteStore,r.targetId),Rm(t,r.targetId)}).catch(up))):(Rm(t,r.targetId),yield Tm(t.localStore,r.targetId,!0))}),$T.apply(this,arguments)}function GT(){return GT=(0,be.Z)(function*(n,e,t){const r=cA(n);try{const o=yield function(u,h){const m=Je(u),b=vr.now(),A=h.reduce((O,z)=>O.add(z.key),Tn());let R;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.ci.Ks(O,A).next(z=>{R=z;const K=[];for(const oe of h){const Le=I(oe,R.get(oe.key));null!=Le&&K.push(new G(oe.key,Le,cm(Le.value.mapValue),l.exists(!0)))}return m.Bs.addMutationBatch(O,b,K,h)})).then(O=>(O.applyToLocalDocumentSet(R),{batchId:O.batchId,changes:R}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,m){let b=u.ua[u.currentUser.toKey()];b||(b=new ar(Gt)),b=b.insert(h,m),u.ua[u.currentUser.toKey()]=b}(r,o.batchId,t),yield Vc(r,o.changes),yield Sm(r.remoteStore)}catch(o){const u=Mm(o,"Failed to persist write");t.reject(u)}}),GT.apply(this,arguments)}function q1(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,be.Z)(function*(n,e){const t=Je(n);try{const r=yield dk(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.ra.get(u);h&&(Pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Zu=!0:o.modifiedDocuments.size>0?Pt(h.Zu):o.removedDocuments.size>0&&(Pt(h.Zu),h.Zu=!1))}),yield Vc(t,r,e)}catch(r){yield up(r)}}),ZT.apply(this,arguments)}function z1(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ea.forEach((u,h)=>{const m=h.view.Au(e);m.snapshot&&o.push(m.snapshot)}),function(u,h){const m=Je(u);m.onlineState=h;let b=!1;m.queries.forEach((A,R)=>{for(const O of R.listeners)O.Au(h)&&(b=!0)}),b&&VT(m)}(r.eventManager,e),o.length&&r.ta.Qo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Xk(n,e,t){return qT.apply(this,arguments)}function qT(){return qT=(0,be.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ra.get(e),u=o&&o.key;if(u){let h=new ar(Qe.comparator);h=h.insert(u,On.newNoDocument(u,Nt.min()));const m=Tn().add(u),b=new nw(Nt.min(),new Map,new Pn(Gt),h,m);yield q1(r,b),r.ia=r.ia.remove(u),r.ra.delete(e),XT(r)}else yield Tm(r.localStore,e,!1).then(()=>Rm(r,e,t)).catch(up)}),qT.apply(this,arguments)}function eN(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,be.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const o=yield ck(t.localStore,e);QT(t,r,null),YT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vc(t,o)}catch(o){yield up(o)}}),zT.apply(this,arguments)}function tN(n,e,t){return WT.apply(this,arguments)}function WT(){return WT=(0,be.Z)(function*(n,e,t){const r=Je(n);try{const o=yield function(u,h){const m=Je(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let A;return m.Bs.lookupMutationBatch(b,h).next(R=>(Pt(null!==R),A=R.keys(),m.Bs.removeMutationBatch(b,R))).next(()=>m.Bs.performConsistencyCheck(b)).next(()=>m.ci.Ks(b,A))})}(r.localStore,e);QT(r,e,t),YT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vc(r,o)}catch(o){yield up(o)}}),WT.apply(this,arguments)}function KT(){return KT=(0,be.Z)(function*(n,e){const t=Je(n);ih(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const h=Je(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.Bs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.aa.get(r)||[];o.push(e),t.aa.set(r,o)}catch(r){const o=Mm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),KT.apply(this,arguments)}function YT(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function QT(n,e,t){const r=Je(n);let o=r.ua[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ua[r.currentUser.toKey()]=o}}function Rm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||W1(n,r)})}function W1(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(_w(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),XT(n))}function JT(n,e,t){for(const r of t)r instanceof $1?(n.oa.addReference(r.key,e),rN(n,r)):r instanceof G1?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||W1(n,r.key)):ft()}function rN(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.sa.add(r),XT(n))}function XT(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Qe(pn.fromString(e)),r=n.ca.next();n.ra.set(r,new Wk(t)),n.ia=n.ia.insert(t,r),KE(n.remoteStore,new eh(no(Pc(t.path)),r,2,Ms.A))}}function Vc(n,e,t){return eA.apply(this,arguments)}function eA(){return eA=(0,be.Z)(function*(n,e,t){const r=Je(n),o=[],u=[],h=[];var m;r.ea.isEmpty()||(r.ea.forEach((m,b)=>{h.push(r.la(b,e,t).then(A=>{if(A){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,A.fromCache?"not-current":"current"),o.push(A);const R=iT.Ys(b.targetId,A);u.push(R)}}))}),yield Promise.all(h),r.ta.Qo(o),yield(m=(0,be.Z)(function*(b,A){const R=Je(b);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>we.forEach(A,z=>we.forEach(z.Hs,K=>R.persistence.referenceDelegate.addReference(O,z.targetId,K)).next(()=>we.forEach(z.Js,K=>R.persistence.referenceDelegate.removeReference(O,z.targetId,K)))))}catch(O){if(!tp(O))throw O;Ue("LocalStore","Failed to update sequence numbers: "+O)}for(const O of A){const z=O.targetId;if(!O.fromCache){const K=R.ii.get(z),Le=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);R.ii=R.ii.insert(z,Le)}}}),function(b,A){return m.apply(this,arguments)})(r.localStore,u))}),eA.apply(this,arguments)}function iN(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,be.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield E1(t.localStore,e);t.currentUser=e,(o=t).aa.forEach(h=>{h.forEach(m=>{m.reject(new Oe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vc(t,r.hi)}var o}),tA.apply(this,arguments)}function sN(n,e){const t=Je(n),r=t.ra.get(e);if(r&&r.Zu)return Tn().add(r.key);{let o=Tn();const u=t.na.get(e);if(!u)return o;for(const h of u){const m=t.ea.get(h);o=o.unionWith(m.view.Ku)}return o}}function oN(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,be.Z)(function*(n,e){const t=Je(n),r=yield ZE(t.localStore,e.query,!0),o=e.view.Yu(r);return t.isPrimaryClient&&JT(t,e.targetId,o.Hu),o}),nA.apply(this,arguments)}function aN(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,be.Z)(function*(n,e){const t=Je(n);return T1(t.localStore,e).then(r=>Vc(t,r))}),rA.apply(this,arguments)}function uN(n,e,t,r){return iA.apply(this,arguments)}function iA(){return iA=(0,be.Z)(function*(n,e,t,r){const o=Je(n),u=yield function(h,m){const b=Je(h),A=Je(b.Bs);return b.persistence.runTransaction("Lookup mutation documents","readonly",R=>A.fn(R,m).next(O=>O?b.ci.Ks(R,O):we.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield Sm(o.remoteStore):"acknowledged"===t||"rejected"===t?(QT(o,e,r||null),YT(o,e),m=e,Je(Je(o.localStore).Bs)._n(m)):ft(),yield Vc(o,u)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),iA.apply(this,arguments)}function sA(){return sA=(0,be.Z)(function*(n,e){const t=Je(n);if(lA(t),cA(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield K1(t,r.toArray());t.ha=!0,yield kT(t.remoteStore,!0);for(const u of o)KE(t.remoteStore,u)}else if(!1===e&&!1!==t.ha){const r=[];let o=Promise.resolve();t.na.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Rm(t,h),Tm(t.localStore,h,!0))),_w(t.remoteStore,h)}),yield o,yield K1(t,r),function(u){const h=Je(u);h.ra.forEach((m,b)=>{_w(h.remoteStore,b)}),h.oa.bi(),h.ra=new Map,h.ia=new ar(Qe.comparator)}(t),t.ha=!1,yield kT(t.remoteStore,!1)}}),sA.apply(this,arguments)}function K1(n,e,t){return oA.apply(this,arguments)}function oA(){return oA=(0,be.Z)(function*(n,e,t){const r=Je(n),o=[],u=[];for(const h of e){let m;const b=r.na.get(h);if(b&&0!==b.length){m=yield Dm(r.localStore,no(b[0]));for(const A of b){const R=r.ea.get(A),O=yield oN(r,R);O.snapshot&&u.push(O.snapshot)}}else{const A=yield D1(r.localStore,h);m=yield Dm(r.localStore,A),yield jT(r,Y1(A),h,!1)}o.push(m)}return r.ta.Qo(u),o}),oA.apply(this,arguments)}function Y1(n){return kD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function cN(n){const e=Je(n);return Je(Je(e.localStore).persistence).Fs()}function dN(n,e,t,r){return aA.apply(this,arguments)}function aA(){return aA=(0,be.Z)(function*(n,e,t,r){const o=Je(n);if(o.ha)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const u=o.na.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const h=yield T1(o.localStore,Jv(u[0])),m=nw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Vc(o,h,m);break}case"rejected":yield Tm(o.localStore,e,!0),Rm(o,e,r);break;default:ft()}}),aA.apply(this,arguments)}function hN(n,e,t){return uA.apply(this,arguments)}function uA(){return uA=(0,be.Z)(function*(n,e,t){const r=lA(n);if(r.ha){for(const o of e){if(r.na.has(o)){Ue("SyncEngine","Adding an already active target "+o);continue}const u=yield D1(r.localStore,o),h=yield Dm(r.localStore,u);yield jT(r,Y1(u),h.targetId,!1),KE(r.remoteStore,h)}for(const o of t)r.na.has(o)&&(yield Tm(r.localStore,o,!1).then(()=>{_w(r.remoteStore,o),Rm(r,o)}).catch(up))}}),uA.apply(this,arguments)}function lA(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=q1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xk.bind(null,e),e.ta.Qo=$k.bind(null,e.eventManager),e.ta.fa=Gk.bind(null,e.eventManager),e}function cA(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tN.bind(null,e),e}class Q1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.M=mw(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return b1(this.persistence,new w1,e.initialUser,this.M)}wa(e){return new bk(cT.zi,this.M)}_a(e){return new M1}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class J1 extends Q1{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield cA(r.ya.syncEngine),yield Sm(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return b1(this.persistence,new w1,e.initialUser,this.M)}ma(e){return new nk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=rT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Co.withCacheSize(this.cacheSizeBytes):Co.DEFAULT;return new nT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,N1(),WE(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new M1}}class pN extends J1{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const o=r.ya.syncEngine;r.sharedClientState instanceof pT&&(r.sharedClientState.syncEngine={Mr:uN.bind(null,o),Or:dN.bind(null,o),Fr:hN.bind(null,o),Fs:cN.bind(null,o),kr:aN.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,be.Z)(function*(h){yield function lN(n,e){return sA.apply(this,arguments)}(r.ya.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}_a(e){const t=N1();if(!pT.vt(t))throw new Oe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=rT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class dA{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>z1(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=iN.bind(null,r.syncEngine),yield kT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hk}createDatastore(e){const t=mw(e.databaseInfo.databaseId),r=new Tk(e.databaseInfo);return new xk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>z1(this.syncEngine,m,0),h=k1.vt()?new k1:new Ck,new kk(t,r,o,u,h);var t,r,o,u,h}createSyncEngine(e,t){return function(r,o,u,h,m,b,A){const R=new Kk(r,o,u,h,m,b);return A&&(R.ha=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=Je(t);Ue("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield Am(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function X1(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class QE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gN{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new bi,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),o=Number(r);isNaN(o)&&e.Pa(`length string (${r}) is not valid number`);const u=yield e.ba(o);return new Zk(JSON.parse(u),t.length+o)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,be.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class mN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,be.Z)(function*(u,h){const m=Je(u),b=ow(m.M)+"/documents",A={documents:h.map(K=>sw(m.M,K))},R=yield m.ho("BatchGetDocuments",b,A),O=new Map;R.forEach(K=>{const oe=function mM(n,e){return"found"in e?function(t,r){Pt(!!r.found);const o=kl(t,r.found.name),u=Oi(r.found.updateTime),h=new Ci({mapValue:{fields:r.found.fields}});return On.newFoundDocument(o,u,h)}(n,e):"missing"in e?function(t,r){Pt(!!r.missing),Pt(!!r.readTime);const o=kl(t,r.missing),u=Oi(r.readTime);return On.newNoDocument(o,u)}(n,e):ft()}(m.M,K);O.set(oe.key.toString(),oe)});const z=[];return h.forEach(K=>{const oe=O.get(K.toString());Pt(!!oe),z.push(oe)}),z}),function(u,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $e(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Qe.fromPath(o);e.mutations.push(new ct(u,e.precondition(u)))}),yield(r=(0,be.Z)(function*(o,u){const h=Je(o),m=ow(h.M)+"/documents",b={writes:u.map(A=>aw(h.M,A))};yield h.oo("Commit",m,b)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?l.updateTime(t):l.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Oe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return l.updateTime(t)}return l.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class yN{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.Sa=5,this.Do=new gT(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,be.Z)(function*(){const t=new mN(e.datastore),r=e.Ca(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.xa(u)}))}).catch(o=>{e.xa(o)})}))}Ca(e){try{const t=this.updateFunction(e);return!Lu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!bn(t)}return!1}}class _N{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ui.UNAUTHENTICATED,this.clientId=wD.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,be.Z)(function*(m){Ue("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Ue("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Mm(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function ex(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,be.Z)(function*(u){r.isEqual(u)||(yield E1(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),hA.apply(this,arguments)}function tx(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield pA(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>U1(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>U1(e.remoteStore,u)),n.onlineComponents=e}),fA.apply(this,arguments)}function pA(n){return gA.apply(this,arguments)}function gA(){return gA=(0,be.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield ex(n,new Q1)),n.offlineComponents}),gA.apply(this,arguments)}function JE(n){return mA.apply(this,arguments)}function mA(){return mA=(0,be.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield tx(n,new dA)),n.onlineComponents}),mA.apply(this,arguments)}function nx(n){return pA(n).then(e=>e.persistence)}function yA(n){return pA(n).then(e=>e.localStore)}function rx(n){return JE(n).then(e=>e.remoteStore)}function _A(n){return JE(n).then(e=>e.syncEngine)}function Om(n){return vA.apply(this,arguments)}function vA(){return vA=(0,be.Z)(function*(n){const e=yield JE(n),t=e.eventManager;return t.onListen=Yk.bind(null,e.syncEngine),t.onUnlisten=Qk.bind(null,e.syncEngine),t}),vA.apply(this,arguments)}function ix(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(o,u,h,m,b){const A=new QE({next:O=>{u.enqueueAndForget(()=>FT(o,R));const z=O.docs.has(h);!z&&O.fromCache?b.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&O.fromCache&&m&&"server"===m.source?b.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(O)},error:O=>b.reject(O)}),R=new UT(Pc(h.path),A,{includeMetadataChanges:!0,Cu:!0});return OT(o,R)}(yield Om(n),n.asyncQueue,e,t,r)})),r.promise}function sx(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(o,u,h,m,b){const A=new QE({next:O=>{u.enqueueAndForget(()=>FT(o,R)),O.fromCache&&"server"===m.source?b.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(O)},error:O=>b.reject(O)}),R=new UT(h,A,{includeMetadataChanges:!0,Cu:!0});return OT(o,R)}(yield Om(n),n.asyncQueue,e,t,r)})),r.promise}const ox=new Map;function wA(n,e,t){if(!t)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ax(n,e,t,r){if(!0===e&&!0===r)throw new Oe(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ux(n){if(!Qe.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lx(n){if(Qe.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=XE(n);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cx(n,e){if(e<=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class dx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ax("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vw{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dx({}),this._settingsFrozen=!1,e instanceof Fu?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(o.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wS;switch(t.type){case"gapi":const r=t.client;return Pt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new am(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ox.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),ox.delete(e),t.terminate())}(this),Promise.resolve()}}class ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}}class Ps{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class Rl extends Ps{constructor(e,t,r){super(e,t,Pc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new Qe(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function hx(n,e,...t){if(n=(0,nn.m9)(n),wA("collection","path",e),n instanceof vw){const r=pn.fromString(e,...t);return lx(r),new Rl(n,null,r)}{if(!(n instanceof ur||n instanceof Rl))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return lx(r),new Rl(n.firestore,null,r)}}function eC(n,e,...t){if(n=(0,nn.m9)(n),1===arguments.length&&(e=wD.R()),wA("doc","path",e),n instanceof vw){const r=pn.fromString(e,...t);return ux(r),new ur(n,null,new Qe(r))}{if(!(n instanceof ur||n instanceof Rl))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return ux(r),new ur(n.firestore,n instanceof Rl?n.converter:null,new Qe(r))}}function fx(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),(n instanceof ur||n instanceof Rl)&&(e instanceof ur||e instanceof Rl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function px(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),n instanceof Ps&&e instanceof Ps&&n.firestore===e.firestore&&Qf(n._query,e._query)&&n.converter===e.converter}class xN{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new gT(this,"async_queue_retry"),this.qa=()=>{const t=WE();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=WE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=WE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new bi;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,be.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!tp(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,Tr("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const o=RT.createAndSchedule(this,e,t,r,u=>this.ja(u));return this.Fa.push(o),o}Ka(){this.$a&&ft()}verifyOperationInProgress(){}Wa(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function bA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class MN{constructor(){this._progressObserver={},this._taskCompletionResolver=new bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wr extends vw{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new xN,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||gx(this),this._firestoreClient.terminate()}}function li(n){return n._firestoreClient||gx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function gx(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ED(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new _N(n._authCredentials,n._appCheckCredentials,n._queue,r)}function mx(n,e,t){const r=new bi;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield ex(n,t),yield tx(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===me.FAILED_PRECONDITION||u.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function yx(n){if(n._initialized||n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Uc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(Gr.fromBase64String(e))}catch(t){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ol(Gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cp{constructor(e){this._methodName=e}}class tC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const BN=/^__.*__$/;class jN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new G(e,this.data,this.fieldMask,t,this.fieldTransforms):new V(e,this.data,t,this.fieldTransforms)}}class _x{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new G(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class nC{constructor(e,t,r,o,u,h){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Ya(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new nC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Za({path:r,ec:!1});return o.nc(e),o}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Za({path:r,ec:!1});return o.Ya(),o}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return sC(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(vx(this.Xa)&&BN.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class HN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||mw(e)}ac(e,t,r,o=!1){return new nC({Xa:e,methodName:t,uc:r,path:Ei.emptyPath(),ec:!1,oc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function dp(n){const e=n._freezeSettings(),t=mw(n._databaseId);return new HN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rC(n,e,t,r,o,u={}){const h=n.ac(u.merge||u.mergeFields?2:0,e,t,o);DA("Data must be an object, but it was:",h,r);const m=Ex(r,h);let b,A;if(u.merge)b=new Kd(h.fieldMask),A=h.fieldTransforms;else if(u.mergeFields){const R=[];for(const O of u.mergeFields){const z=TA(e,O,t);if(!h.contains(z))throw new Oe(me.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);Ix(R,z)||R.push(z)}b=new Kd(R),A=h.fieldTransforms.filter(O=>b.covers(O.field))}else b=null,A=h.fieldTransforms;return new jN(new Ci(m),b,A)}class ww extends cp{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ww}}function wx(n,e,t){return new nC({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class EA extends cp{_toFieldTransform(e){return new i(e.path,new Xf)}isEqual(e){return e instanceof EA}}class $N extends cp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=wx(this,e,!0),r=this.cc.map(u=>hp(u,t)),o=new Jd(r);return new i(e.path,o)}isEqual(e){return this===e}}class GN extends cp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=wx(this,e,!0),r=this.cc.map(u=>hp(u,t)),o=new Lc(r);return new i(e.path,o)}isEqual(e){return this===e}}class ZN extends cp{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new ep(e.M,OD(e.M,this.hc));return new i(e.path,t)}isEqual(e){return this===e}}function CA(n,e,t,r){const o=n.ac(1,e,t);DA("Data must be an object, but it was:",o,r);const u=[],h=Ci.empty();Sc(r,(b,A)=>{const R=iC(e,b,t);A=(0,nn.m9)(A);const O=o.sc(R);if(A instanceof ww)u.push(R);else{const z=hp(A,O);null!=z&&(u.push(R),h.set(R,z))}});const m=new Kd(u);return new _x(h,m,o.fieldTransforms)}function IA(n,e,t,r,o,u){const h=n.ac(1,e,t),m=[TA(e,r,t)],b=[o];if(u.length%2!=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<u.length;z+=2)m.push(TA(e,u[z])),b.push(u[z+1]);const A=[],R=Ci.empty();for(let z=m.length-1;z>=0;--z)if(!Ix(A,m[z])){const K=m[z];let oe=b[z];oe=(0,nn.m9)(oe);const Le=h.sc(K);if(oe instanceof ww)A.push(K);else{const ht=hp(oe,Le);null!=ht&&(A.push(K),R.set(K,ht))}}const O=new Kd(A);return new _x(R,O,h.fieldTransforms)}function bx(n,e,t,r=!1){return hp(t,n.ac(r?4:3,e))}function hp(n,e){if(Cx(n=(0,nn.m9)(n)))return DA("Unsupported field value:",e,n),Ex(n,e);if(n instanceof cp)return function(t,r){if(!vx(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const h of t){let m=hp(h,r.ic(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,nn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return OD(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=vr.fromDate(t);return{timestampValue:iw(r.M,o)}}if(t instanceof vr){const o=new vr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:iw(r.M,o)}}if(t instanceof tC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ol)return{bytesValue:OS(r.M,t._byteString)};if(t instanceof ur){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.rc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:HD(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${XE(t)}`)}(n,e)}function Ex(n,e){const t={};return um(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sc(n,(r,o)=>{const u=hp(o,e.tc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Cx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vr||n instanceof tC||n instanceof Ol||n instanceof ur||n instanceof cp)}function DA(n,e,t){if(!Cx(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=XE(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function TA(n,e,t){if((e=(0,nn.m9)(e))instanceof Uc)return e._internalPath;if("string"==typeof e)return iC(n,e);throw sC("Field path arguments must be of type string or ",n,!1,void 0,t)}const qN=new RegExp("[~\\*/\\[\\]]");function iC(n,e,t){if(e.search(qN)>=0)throw sC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Uc(...e.split("."))._internalPath}catch(r){throw sC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sC(n,e,t,r,o){const u=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(u||h)&&(b+=" (found",u&&(b+=` in field ${r}`),h&&(b+=` in document ${o}`),b+=")"),new Oe(me.INVALID_ARGUMENT,m+n+b)}function Ix(n,e){return n.some(t=>t.isEqual(e))}class bw{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zN extends bw{data(){return super.data()}}function oC(n,e){return"string"==typeof e?iC(n,e):e instanceof Uc?e._internalPath:e._delegate._internalPath}class fp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bc extends bw{constructor(e,t,r,o,u,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ew(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(oC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ew extends Bc{data(e={}){return super.data(e)}}class oh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new fp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ew(this._firestore,this._userDataWriter,r.key,r,new fp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Ew(r._firestore,r._userDataWriter,h.doc.key,h.doc,new fp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new Ew(r._firestore,r._userDataWriter,h.doc.key,h.doc,new fp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,A=-1;return 0!==h.type&&(b=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),A=u.indexOf(h.doc.key)),{type:WN(h.type),doc:m,oldIndex:b,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function Dx(n,e){return n instanceof Bc&&e instanceof Bc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof oh&&e instanceof oh&&n._firestore===e._firestore&&px(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Tx(n){if(pm(n)&&0===n.explicitOrderBy.length)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cw{}function ah(n,...e){for(const t of e)n=t._apply(n);return n}class KN extends Cw{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=dp(e.firestore),r=function(o,u,h,m,b,A,R){let O;if(b.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){Nx(R,A);const K=[];for(const oe of R)K.push(kx(m,o,oe));O={arrayValue:{values:K}}}else O=kx(m,o,R)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||Nx(R,A),O=bx(h,"where",R,"in"===A||"not-in"===A);const z=Nr.create(b,A,O);return function(K,oe){if(oe.S()){const ht=Yv(K);if(null!==ht&&!ht.isEqual(oe.field))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ht.toString()}' and '${oe.field.toString()}'`);const xt=Kv(K);null!==xt&&Rx(0,oe.field,xt)}const Le=function(ht,xt){for(const en of ht.filters)if(xt.indexOf(en.op)>=0)return en.op;return null}(K,function(ht){switch(ht){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(oe.op));if(null!==Le)throw new Oe(me.INVALID_ARGUMENT,Le===oe.op?`Invalid query. You cannot use more than one '${oe.op.toString()}' filter.`:`Invalid query. You cannot use '${oe.op.toString()}' filters with '${Le.toString()}' filters.`)}(o,z),z}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Ps(e.firestore,e.converter,function(o,u){const h=o.filters.concat([u]);return new xl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class QN extends Cw{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Sl(o,u);return function(m,b){if(null===Kv(m)){const A=Yv(m);null!==A&&Rx(0,A,b.field)}}(r,h),h}(e._query,this.lc,this._c);return new Ps(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new xl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Ax extends Cw{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new Ps(e.firestore,e.converter,NE(e._query,this.wc,this.mc))}}class Sx extends Cw{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=Mx(e,this.type,this.gc,this.yc);return new Ps(e.firestore,e.converter,(o=t,new xl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class xx extends Cw{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=Mx(e,this.type,this.gc,this.yc);return new Ps(e.firestore,e.converter,(o=t,new xl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function Mx(n,e,t,r){if(t[0]=(0,nn.m9)(t[0]),t[0]instanceof bw)return function(o,u,h,m,b){if(!m)throw new Oe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const A=[];for(const R of Fc(o))if(R.field.isKeyField())A.push(Qd(u,m.key));else{const O=m.data.field(R.field);if(to(O))throw new Oe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const z=R.field.canonicalString();throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}A.push(O)}return new $a(A,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=dp(n.firestore);return function(u,h,m,b,A,R){const O=u.explicitOrderBy;if(A.length>O.length)throw new Oe(me.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let K=0;K<A.length;K++){const oe=A[K];if(O[K].field.isKeyField()){if("string"!=typeof oe)throw new Oe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof oe}`);if(!gm(u)&&-1!==oe.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${b}() must be a plain document ID, but '${oe}' contains a slash.`);const Le=u.path.child(pn.fromString(oe));if(!Qe.isDocumentKey(Le))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${b}() must result in a valid document path, but '${Le}' is not because it contains an odd number of segments.`);const ht=new Qe(Le);z.push(Qd(h,ht))}else{const Le=bx(m,b,oe);z.push(Le)}}return new $a(z,R)}(n._query,n.firestore._databaseId,o,e,t,r)}}function kx(n,e,t){if("string"==typeof(t=(0,nn.m9)(t))){if(""===t)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gm(e)&&-1!==t.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pn.fromString(t));if(!Qe.isDocumentKey(r))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qd(n,new Qe(r))}if(t instanceof ur)return Qd(n,t._key);throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XE(t)}.`)}function Nx(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Rx(n,e,t){if(!t.isEqual(e))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class AA{convertValue(e,t="none"){switch(kc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){const r={};return Sc(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new tC(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=wE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const t=Il(e);return new vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pn.fromString(e);Pt(GS(r));const o=new Fu(r.get(1),r.get(3)),u=new Qe(r.popFirst(5));return o.isEqual(t)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function aC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class sR extends AA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}class Ox{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dp(e)}set(e,t,r){this._verifyNotCommitted();const o=uh(e,this._firestore),u=aC(o.converter,t,r),h=rC(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,l.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=uh(e,this._firestore);let h;return h="string"==typeof(t=(0,nn.m9)(t))||t instanceof Uc?IA(this._dataReader,"WriteBatch.update",u._key,t,r,o):CA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,l.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=uh(e,this._firestore);return this._mutations=this._mutations.concat(new $e(t._key,l.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uh(n,e){if((n=(0,nn.m9)(n)).firestore!==e)throw new Oe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class pp extends AA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}function Px(n,e,t){n=gn(n,ur);const r=gn(n.firestore,wr),o=aC(n.converter,e,t);return Pm(r,[rC(dp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,l.none())])}function Fx(n,e,t,...r){n=gn(n,ur);const o=gn(n.firestore,wr),u=dp(o);let h;return h="string"==typeof(e=(0,nn.m9)(e))||e instanceof Uc?IA(u,"updateDoc",n._key,e,t,r):CA(u,"updateDoc",n._key,e),Pm(o,[h.toMutation(n._key,l.exists(!0))])}function Lx(n,...e){var t,r,o;n=(0,nn.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||bA(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges};if(bA(e[h])){const O=e[h];e[h]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[h+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[h+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let b,A,R;if(n instanceof ur)A=gn(n.firestore,wr),R=Pc(n._key.path),b={next:O=>{e[h]&&e[h](SA(A,n,O))},error:e[h+1],complete:e[h+2]};else{const O=gn(n,Ps);A=gn(O.firestore,wr),R=O._query;const z=new pp(A);b={next:K=>{e[h]&&e[h](new oh(A,z,O,K))},error:e[h+1],complete:e[h+2]},Tx(n._query)}return function(O,z,K,oe){const Le=new QE(oe),ht=new UT(z,Le,K);return O.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return OT(yield Om(O),ht)})),()=>{Le.Ia(),O.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return FT(yield Om(O),ht)}))}}(li(A),R,m,b)}function Pm(n,e){return function(t,r){const o=new bi;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Jk(n,e,t){return GT.apply(this,arguments)}(yield _A(t),r,o)})),o.promise}(li(n),e)}function SA(n,e,t){const r=t.docs.get(e._key),o=new pp(n);return new Bc(n,o,e._key,r,new fp(t.hasPendingWrites,t.fromCache),e.converter)}class gR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=dp(e)}get(e){const t=uh(e,this._firestore),r=new sR(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ft();const u=o[0];if(u.isFoundDocument())return new bw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new bw(this._firestore,r,t._key,null,t.converter);throw ft()})}set(e,t,r){const o=uh(e,this._firestore),u=aC(o.converter,t,r),h=rC(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const u=uh(e,this._firestore);let h;return h="string"==typeof(t=(0,nn.m9)(t))||t instanceof Uc?IA(this._dataReader,"Transaction.update",u._key,t,r,o):CA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=uh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=uh(e,this._firestore),r=new pp(this._firestore);return super.get(e).then(o=>new Bc(this._firestore,r,t._key,o._document,new fp(!1,!1),t.converter))}}function xA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ux(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function Bx(){if(!function bD(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){zd=yc.SDK_VERSION,(0,yc._registerComponent)(new lg.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new wr(o,new ES(t.getProvider("auth-internal")),new gE(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,yc.registerVersion)(Fv,"3.4.8",n),(0,yc.registerVersion)(Fv,"3.4.8","esm2017")}();class Iw{constructor(e){this._delegate=e}static fromBase64String(e){return Bx(),new Iw(Ol.fromBase64String(e))}static fromUint8Array(e){return Ux(),new Iw(Ol.fromUint8Array(e))}toBase64(){return Bx(),this._delegate.toBase64()}toUint8Array(){return Ux(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function MA(n){return function IR(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class DR{enableIndexedDbPersistence(e,t){return function NN(n,e){yx(n=gn(n,wr));const t=li(n),r=n._freezeSettings(),o=new dA;return mx(t,o,new J1(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function RN(n){yx(n=gn(n,wr));const e=li(n),t=n._freezeSettings(),r=new dA;return mx(e,r,new pN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ON(n){if(n._initialized&&!n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!Vu.vt())return Promise.resolve();const o=r+"main";yield Vu.delete(o)}),function(r){return t.apply(this,arguments)})(rT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class jx{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Wd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function AN(n,e,t,r={}){var o;const u=(n=gn(n,vw))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Wd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=ui.MOCK_USER;else{h=(0,nn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ui(b)}n._authCredentials=new bS(new _D(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function FN(n){return function vN(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield nx(n),t=yield rx(n);return e.setNetworkEnabled(!0),function(r){const o=Je(r);return o.fu.delete(0),yw(o)}(t)}))}(li(n=gn(n,wr)))}(this._delegate)}disableNetwork(){return function LN(n){return function wN(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield nx(n),t=yield rx(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(o){const u=Je(o);u.fu.add(0),yield Am(u),u.wu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(li(n=gn(n,wr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ax("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function PN(n){return function(e){const t=new bi;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function nN(n,e){return KT.apply(this,arguments)}(yield _A(e),t)})),t.promise}(li(n=gn(n,wr)))}(this._delegate)}onSnapshotsInSync(e){return function pR(n,e){return function CN(n,e){const t=new QE(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Om(n),o=t,Je(r).Eu.add(o),void o.next();var r,o})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Om(n),o=t,void Je(r).Eu.delete(o);var r,o}))}}(li(n=gn(n,wr)),bA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fm(this,hx(this._delegate,e))}catch(t){throw io(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ga(this,eC(this._delegate,e))}catch(t){throw io(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new so(this,function SN(n,e){if(n=gn(n,vw),wA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ps(n,null,(t=e,new xl(pn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw io(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mR(n,e){return function IN(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const r=yield(o=n,JE(o).then(u=>u.datastore));var o;new yN(n.asyncQueue,r,e,t).run()})),t.promise}(li(n=gn(n,wr)),t=>e(new gR(n,t)))}(this._delegate,t=>e(new Hx(this,t)))}batch(){return li(this._delegate),new $x(new Ox(this._delegate,e=>Pm(this._delegate,e)))}loadBundle(e){return function VN(n,e){const t=li(n=gn(n,wr)),r=new MN;return function DN(n,e,t,r){const o=function(u,h){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,b=function(b,A){if(b instanceof Uint8Array)return X1(b,A);if(b instanceof ArrayBuffer)return X1(new Uint8Array(b),A);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new gN(b,h);var b}(t,mw(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function fN(n,e,t){const r=Je(n);var o;(o=(0,be.Z)(function*(u,h,m){try{const b=yield h.getMetadata();if(yield function(z,K){const oe=Je(z),Le=Oi(K.createTime);return oe.persistence.runTransaction("hasNewerBundle","readonly",ht=>oe._s.getBundleMetadata(ht,K.id)).then(ht=>!!ht&&ht.createTime.compareTo(Le)>=0)}(u.localStore,b))return yield h.close(),m._completeWith({taskState:"Success",documentsLoaded:(z=b).totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}),Promise.resolve(new Set);m._updateProgress(H1(b));const A=new qk(b,u.localStore,h.M);let R=yield h.da();for(;R;){const z=yield A.ku(R);z&&m._updateProgress(z),R=yield h.da()}const O=yield A.complete();return yield Vc(u,O.Fu,void 0),yield function(z,K){const oe=Je(z);return oe.persistence.runTransaction("Save bundle","readwrite",Le=>oe._s.saveBundleMetadata(Le,K))}(u.localStore,b),m._completeWith(O.progress),Promise.resolve(O.Ou)}catch(b){return Wd("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b),Promise.resolve(new Set)}var z}),function(u,h,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield _A(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function UN(n,e){return function TN(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const o=Je(t);return o.persistence.runTransaction("Get named query","readonly",u=>o._s.getNamedQuery(u,r))}(yield yA(n),e)}))}(li(n=gn(n,wr)),e).then(t=>t?new Ps(n,null,t.query):null)}(this._delegate,e).then(t=>t?new so(this,t):null)}}class uC extends AA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iw(new Ol(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ga.forKey(t,this.firestore,null)}}class Hx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new uC(e)}get(e){const t=mp(e);return this._delegate.get(t).then(r=>new Dw(this._firestore,new Bc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=mp(e);return r?(xA("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=mp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=mp(e);return this._delegate.delete(t),this}}class $x{constructor(e){this._delegate=e}set(e,t,r){const o=mp(e);return r?(xA("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=mp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=mp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class gp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ew(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Tw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=gp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new gp(e,new uC(e),t),o.set(t,u)),u}}gp.INSTANCES=new WeakMap;class Ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ga(t,new ur(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new Ga(t,new ur(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Fm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fm(this.firestore,hx(this._delegate,e))}catch(t){throw io(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,nn.m9)(e))instanceof ur&&fx(this._delegate,e)}set(e,t){t=xA("DocumentReference.set",t);try{return t?Px(this._delegate,e,t):Px(this._delegate,e)}catch(r){throw io(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Fx(this._delegate,e):Fx(this._delegate,e,t,...r)}catch(o){throw io(o,"updateDoc()","DocumentReference.update()")}}delete(){return function hR(n){return Pm(gn(n.firestore,wr),[new $e(n._key,l.none())])}(this._delegate)}onSnapshot(...e){const t=Gx(e),r=Zx(e,o=>new Dw(this.firestore,new Bc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return Lx(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function aR(n){n=gn(n,ur);const e=gn(n.firestore,wr),t=li(e),r=new pp(e);return function bN(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(o,u,h){try{const m=yield function(b,A){const R=Je(b);return R.persistence.runTransaction("read document","readonly",O=>R.ci.Ls(O,A))}(o,u);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Oe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=Mm(m,`Failed to get document '${u} from cache`);h.reject(b)}}),function(o,u,h){return r.apply(this,arguments)})(yield yA(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Bc(e,r,n._key,o,new fp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function uR(n){n=gn(n,ur);const e=gn(n.firestore,wr);return ix(li(e),n._key,{source:"server"}).then(t=>SA(e,n,t))}(this._delegate):function oR(n){n=gn(n,ur);const e=gn(n.firestore,wr);return ix(li(e),n._key).then(t=>SA(e,n,t))}(this._delegate),t.then(r=>new Dw(this.firestore,new Bc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ga(this.firestore,this._delegate.withConverter(e?gp.getInstance(this.firestore,e):null))}}function io(n,e,t){return n.message=n.message.replace(e,t),n}function Gx(n){for(const e of n)if("object"==typeof e&&!MA(e))return e;return{}}function Zx(n,e){var t,r;let o;return o=MA(n[0])?n[0]:MA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Dw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Dx(this._delegate,e._delegate)}}class Tw extends Dw{data(e){const t=this._delegate.data(e);return function vS(n,e){n||ft()}(void 0!==t),t}}class so{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uC(e)}where(e,t,r){try{return new so(this.firestore,ah(this._delegate,function YN(n,e,t){const r=e,o=oC("where",n);return new KN(o,r,t)}(e,t,r)))}catch(o){throw io(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new so(this.firestore,ah(this._delegate,function JN(n,e="asc"){const t=e,r=oC("orderBy",n);return new QN(r,t)}(e,t)))}catch(r){throw io(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new so(this.firestore,ah(this._delegate,function XN(n){return cx("limit",n),new Ax("limit",n,"F")}(e)))}catch(t){throw io(t,"limit()","Query.limit()")}}limitToLast(e){try{return new so(this.firestore,ah(this._delegate,function eR(n){return cx("limitToLast",n),new Ax("limitToLast",n,"L")}(e)))}catch(t){throw io(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new so(this.firestore,ah(this._delegate,function tR(...n){return new Sx("startAt",n,!0)}(...e)))}catch(t){throw io(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new so(this.firestore,ah(this._delegate,function nR(...n){return new Sx("startAfter",n,!1)}(...e)))}catch(t){throw io(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new so(this.firestore,ah(this._delegate,function rR(...n){return new xx("endBefore",n,!1)}(...e)))}catch(t){throw io(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new so(this.firestore,ah(this._delegate,function iR(...n){return new xx("endAt",n,!0)}(...e)))}catch(t){throw io(t,"endAt()","Query.endAt()")}}isEqual(e){return px(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function cR(n){n=gn(n,Ps);const e=gn(n.firestore,wr),t=li(e),r=new pp(e);return function EN(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(o,u,h){try{const m=yield ZE(o,u,!0),b=new Z1(u,m.li),A=b.Gu(m.documents),R=b.applyChanges(A,!1);h.resolve(R.snapshot)}catch(m){const b=Mm(m,`Failed to execute query '${u} against cache`);h.reject(b)}}),function(o,u,h){return r.apply(this,arguments)})(yield yA(n),e,t);var r})),t.promise}(t,n._query).then(o=>new oh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function dR(n){n=gn(n,Ps);const e=gn(n.firestore,wr),t=li(e),r=new pp(e);return sx(t,n._query,{source:"server"}).then(o=>new oh(e,r,n,o))}(this._delegate):function lR(n){n=gn(n,Ps);const e=gn(n.firestore,wr),t=li(e),r=new pp(e);return Tx(n._query),sx(t,n._query).then(o=>new oh(e,r,n,o))}(this._delegate),t.then(r=>new kA(this.firestore,new oh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Gx(e),r=Zx(e,o=>new kA(this.firestore,new oh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return Lx(this._delegate,t,r)}withConverter(e){return new so(this.firestore,this._delegate.withConverter(e?gp.getInstance(this.firestore,e):null))}}class AR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Tw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new so(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Tw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new AR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Tw(this._firestore,r))})}isEqual(e){return Dx(this._delegate,e._delegate)}}class Fm extends so{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ga(this.firestore,e):null}doc(e){try{return new Ga(this.firestore,void 0===e?eC(this._delegate):eC(this._delegate,e))}catch(t){throw io(t,"doc()","CollectionReference.doc()")}}add(e){return function fR(n,e){const t=gn(n.firestore,wr),r=eC(n),o=aC(n.converter,e);return Pm(t,[rC(dp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,l.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ga(this.firestore,t))}isEqual(e){return fx(this._delegate,e._delegate)}withConverter(e){return new Fm(this.firestore,this._delegate.withConverter(e?gp.getInstance(this.firestore,e):null))}}function mp(n){return gn(n,ur)}class NA{constructor(...e){this._delegate=new Uc(...e)}static documentId(){return new NA(Ei.keyField().canonicalString())}isEqual(e){return(e=(0,nn.m9)(e))instanceof Uc&&this._delegate._internalPath.isEqual(e._internalPath)}}class yp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function _R(){return new EA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new yp(e)}static delete(){const e=function yR(){return new ww("deleteField")}();return e._methodName="FieldValue.delete",new yp(e)}static arrayUnion(...e){const t=function vR(...n){return new $N("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new yp(t)}static arrayRemove(...e){const t=function wR(...n){return new GN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new yp(t)}static increment(e){const t=function bR(n){return new ZN("increment",n)}(e);return t._methodName="FieldValue.increment",new yp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const SR={Firestore:jx,GeoPoint:tC,Timestamp:vr,Blob:Iw,Transaction:Hx,WriteBatch:$x,DocumentReference:Ga,DocumentSnapshot:Dw,Query:so,QueryDocumentSnapshot:Tw,QuerySnapshot:kA,CollectionReference:Fm,FieldPath:NA,FieldValue:yp,setLogLevel:function TR(n){!function yD(n){Cl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function qx(n,e){return function kR(n,e=Eb.z){return new E.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function RA(n,e){return qx(n,e).pipe((0,pt.U)(t=>({payload:t,type:"query"})))}function lC(n,e){return RA(n,e).pipe(Ki(void 0),Su(),(0,pt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=o.find(R=>R.doc.ref.isEqual(h.ref)),A=null==t?void 0:t.payload.docs.find(R=>R.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&A&&JSON.stringify(A.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),u}))}function zx(n,e,t){return lC(n,t).pipe(Br((r,o)=>function RR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function OR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return OA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return OA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function PI(n,e=Rn.y){return n=null!=n?n:FI,(0,Xr.e)((t,r)=>{let o,u=!0;t.subscribe((0,sr.x)(r,h=>{const m=e(h);(u||!n(o,m))&&(u=!1,o=m,r.next(h))}))})}(),(0,pt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function OA(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function Wx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function MR(n){(function xR(n,e){n.INTERNAL.registerComponent(new lg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},SR)))})(n,(e,t)=>new jx(e,t,new DR)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(pS.Z);class Kx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=lC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ki(void 0),Su(),Es(([r,o])=>o.length>0||!r),(0,pt.U)(([r,o])=>o),Ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(Br((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Wx(e);return zx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ni.iC)}valueChanges(e={}){return RA(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ni.iC)}get(e){return(0,Fn.D)(this.query.get(e)).pipe(Ni.iC)}add(e){return this.ref.add(e)}doc(e){return new Yx(this.ref.doc(e),this.afs)}}class Yx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=Qx(r,t);return new Kx(o,u,this.afs)}snapshotChanges(){return function NR(n,e){return qx(n,e).pipe(Ki(void 0),Su(),(0,pt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ni.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Fn.D)(this.ref.get(e)).pipe(Ni.iC)}}class PR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lC(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Es(t=>t.length>0),Ni.iC):lC(this.query,this.afs.schedulers.outsideAngular).pipe(Ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(Br((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Wx(e);return zx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ni.iC)}valueChanges(e={}){return RA(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Ni.iC)}get(e){return(0,Fn.D)(this.query.get(e)).pipe(Ni.iC)}}const FR=new c.OlP("angularfire2.enableFirestorePersistence"),LR=new c.OlP("angularfire2.firestore.persistenceSettings"),VR=new c.OlP("angularfire2.firestore.settings"),UR=new c.OlP("angularfire2.firestore.use-emulator");function Qx(n,e=(t=>t)){return{query:e(n),ref:n}}let BR=(()=>{class n{constructor(t,r,o,u,h,m,b,A,R,O,z,K,oe,Le,ht,xt,en){this.schedulers=b;const on=(0,Qo.on)(t,m,r),qt=R;O&&x_(on,m,z,oe,Le,ht,K,xt),[this.firestore,this.persistenceEnabled$]=(0,Qo.cc)(`${on.name}.firestore`,"AngularFirestore",on.name,()=>{const an=m.runOutsideAngular(()=>on.firestore());if(u&&an.settings(u),qt&&an.useEmulator(...qt),o&&!Mn(h)){const Dn=()=>{try{return(0,Fn.D)(an.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(Fs){return"undefined"!=typeof console&&console.warn(Fs),Ct(!1)}};return[an,m.runOutsideAngular(Dn)]}return[an,Ct(!1)]},[u,qt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=Qx(o,r),m=this.schedulers.ngZone.run(()=>u);return new Kx(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),u=this.firestore.collectionGroup(t);return new PR(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new Yx(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Qo.Dh),c.LFG(Qo.xv,8),c.LFG(FR,8),c.LFG(VR,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ni.HU),c.LFG(LR,8),c.LFG(UR,8),c.LFG(gg,8),c.LFG(T_,8),c.LFG(A_,8),c.LFG(S_,8),c.LFG(yI,8),c.LFG(J0,8),c.LFG(X0,8),c.LFG(mf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jR=(()=>{class n{constructor(t){this.firestore=t}create(t,r){var o=this;return(0,be.Z)(function*(){console.log(t,r,"LO QUE SE PIENSA MANDAR");try{return yield o.firestore.collection(t).add(r)}catch(u){return console.error(u),null}})()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(BR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HR(n,e){if(1&n&&(c.TgZ(0,"option",70),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.label)}}function $R(n,e){if(1&n&&(c.TgZ(0,"option",36),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.pais)}}function GR(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",71)(1,"div",24)(2,"h4",72),c._uU(3),c.qZA(),c.TgZ(4,"label",25),c._uU(5,"Nombre instituci\xf3n"),c.TgZ(6,"span",26),c._uU(7,"*"),c.qZA()(),c._UZ(8,"input",73),c.TgZ(9,"label",25),c._uU(10,"T\xedtulo obtenido"),c.TgZ(11,"span",26),c._uU(12,"*"),c.qZA()(),c._UZ(13,"input",74),c.TgZ(14,"label",25),c._uU(15,"Fecha t\xedtulo"),c.TgZ(16,"span",26),c._uU(17,"*"),c.qZA()(),c._UZ(18,"input",75),c.TgZ(19,"button",31),c.NdJ("click",function(){const u=c.CHM(t).$implicit;return c.oxw().eraseForm(["nombreInstitucion","tituloObtenido","fechaTitulo"],u)}),c.O4$(),c.TgZ(20,"svg",32),c._UZ(21,"path",33),c.qZA()(),c.kcU(),c.TgZ(22,"button",76),c.NdJ("click",function(){const u=c.CHM(t).index;return c.oxw().deleteControls("estudios",u)}),c.O4$(),c.TgZ(23,"svg",77),c._UZ(24,"path",78),c.qZA()()()()}if(2&n){const t=e.index;c.Q6J("formGroupName",t),c.xp6(3),c.hij("Estudio ",t+1,"")}}function ZR(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",71)(1,"div",24)(2,"h4",72),c._uU(3),c.qZA(),c.TgZ(4,"label",25),c._uU(5,"Empresa"),c.TgZ(6,"span",26),c._uU(7,"*"),c.qZA()(),c._UZ(8,"input",79),c.TgZ(9,"label",25),c._uU(10,"Jefe inmediato"),c.TgZ(11,"span",26),c._uU(12,"*"),c.qZA()(),c._UZ(13,"input",80),c.TgZ(14,"label",25),c._uU(15,"Fecha de inicio"),c.TgZ(16,"span",26),c._uU(17,"*"),c.qZA()(),c._UZ(18,"input",81),c.TgZ(19,"label",25),c._uU(20,"Fecha de final actual"),c.TgZ(21,"span",26),c._uU(22,"*"),c.qZA()(),c._UZ(23,"input",82),c.TgZ(24,"label",25),c._uU(25,"N\xfamero de contacto"),c.TgZ(26,"span",26),c._uU(27,"*"),c.qZA()(),c._UZ(28,"input",83),c.TgZ(29,"button",31),c.NdJ("click",function(){const u=c.CHM(t).$implicit;return c.oxw().eraseForm([],u)}),c.O4$(),c.TgZ(30,"svg",32),c._UZ(31,"path",33),c.qZA()(),c.kcU(),c.TgZ(32,"button",76),c.NdJ("click",function(){const u=c.CHM(t).index;return c.oxw().deleteControls("expLaboral",u)}),c.O4$(),c.TgZ(33,"svg",77),c._UZ(34,"path",78),c.qZA()()()()}if(2&n){const t=e.index;c.Q6J("formGroupName",t),c.xp6(3),c.hij("Empresa ",t+1,"")}}function qR(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",71)(1,"div",24)(2,"h4",72),c._uU(3),c.qZA(),c.TgZ(4,"label",25),c._uU(5,"Conocimiento"),c.TgZ(6,"span",26),c._uU(7,"*"),c.qZA()(),c._UZ(8,"input",84),c.TgZ(9,"label",25),c._uU(10,"Duraci\xf3n"),c.TgZ(11,"span",26),c._uU(12,"*"),c.qZA()(),c._UZ(13,"input",85),c.TgZ(14,"label",25),c._uU(15,"Fecha Finalizaci\xf3n"),c.TgZ(16,"span",26),c._uU(17,"*"),c.qZA()(),c._UZ(18,"input",86),c.TgZ(19,"button",31),c.NdJ("click",function(){const u=c.CHM(t).$implicit;return c.oxw().eraseForm([],u)}),c.O4$(),c.TgZ(20,"svg",32),c._UZ(21,"path",33),c.qZA()(),c.kcU(),c.TgZ(22,"button",76),c.NdJ("click",function(){const u=c.CHM(t).index;return c.oxw().deleteControls("conocimientosAdicionales",u)}),c.O4$(),c.TgZ(23,"svg",77),c._UZ(24,"path",78),c.qZA()()()()}if(2&n){const t=e.index;c.Q6J("formGroupName",t),c.xp6(3),c.hij("Conocimiento ",t+1,"")}}function zR(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",71)(1,"div",24)(2,"h4",72),c._uU(3),c.qZA(),c.TgZ(4,"label",25),c._uU(5,"Nombre Completo"),c.TgZ(6,"span",26),c._uU(7,"*"),c.qZA()(),c._UZ(8,"input",87),c.TgZ(9,"label",25),c._uU(10,"Ocupaci\xf3n - Cargo"),c.TgZ(11,"span",26),c._uU(12,"*"),c.qZA()(),c._UZ(13,"input",88),c.TgZ(14,"label",25),c._uU(15,"Tel\xe9fono"),c.TgZ(16,"span",26),c._uU(17,"*"),c.qZA()(),c._UZ(18,"input",89),c.TgZ(19,"label",25),c._uU(20,"Empresa"),c.TgZ(21,"span",26),c._uU(22,"*"),c.qZA()(),c._UZ(23,"input",90),c.TgZ(24,"button",31),c.NdJ("click",function(){const u=c.CHM(t).$implicit;return c.oxw().eraseForm([],u)}),c.O4$(),c.TgZ(25,"svg",32),c._UZ(26,"path",33),c.qZA()(),c.kcU(),c.TgZ(27,"button",76),c.NdJ("click",function(){const u=c.CHM(t).index;return c.oxw().deleteControls("referenciasPersonales",u)}),c.O4$(),c.TgZ(28,"svg",77),c._UZ(29,"path",78),c.qZA()()()()}if(2&n){const t=e.index;c.Q6J("formGroupName",t),c.xp6(3),c.hij("Persona ",t+1,"")}}function WR(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",71)(1,"div",24)(2,"h4",72),c._uU(3),c.qZA(),c.TgZ(4,"label",25),c._uU(5,"Nombre Completo"),c.TgZ(6,"span",26),c._uU(7,"*"),c.qZA()(),c._UZ(8,"input",87),c.TgZ(9,"label",25),c._uU(10,"Ocupaci\xf3n"),c.TgZ(11,"span",26),c._uU(12,"*"),c.qZA()(),c._UZ(13,"input",88),c.TgZ(14,"label",25),c._uU(15,"Tel\xe9fono"),c.TgZ(16,"span",26),c._uU(17,"*"),c.qZA()(),c._UZ(18,"input",89),c.TgZ(19,"label",25),c._uU(20,"Parentesco"),c.TgZ(21,"span",26),c._uU(22,"*"),c.qZA()(),c._UZ(23,"input",91),c.TgZ(24,"label",25),c._uU(25,"Empresa"),c.TgZ(26,"span",26),c._uU(27,"*"),c.qZA()(),c._UZ(28,"input",90),c.TgZ(29,"button",31),c.NdJ("click",function(){const u=c.CHM(t).$implicit;return c.oxw().eraseForm([],u)}),c.O4$(),c.TgZ(30,"svg",32),c._UZ(31,"path",33),c.qZA()(),c.kcU(),c.TgZ(32,"button",76),c.NdJ("click",function(){const u=c.CHM(t).index;return c.oxw().deleteControls("referenciasFamiliares",u)}),c.O4$(),c.TgZ(33,"svg",77),c._UZ(34,"path",78),c.qZA()()()()}if(2&n){const t=e.index;c.Q6J("formGroupName",t),c.xp6(3),c.hij("Familiar ",t+1,"")}}let KR=(()=>{class n{constructor(t,r,o,u){this.fb=t,this.webService=r,this.authService=o,this.database=u,this.formBasic=new Pa({primerNombre:new sn("",hn.required),segundoNombre:new sn(""),primerApellido:new sn("",hn.required),segundoApellido:new sn(""),tipoIdentificacion:new sn("",hn.required),identificacion:new sn("",hn.required),fechaNacimiento:new sn(new Date,hn.required),ciudadNacimiento:new sn("",hn.required),nacionalidad:new sn("",hn.required),direccionResidencia:new sn("",hn.required),barrioResidencia:new sn("",hn.required),genero:new sn("",hn.required),telFijo:new sn(""),telCel:new sn(""),email:new sn("",hn.email),estudios:new bu([]),expLaboral:new bu([]),conocimientosAdicionales:new bu([]),referenciasPersonales:new bu([]),referenciasFamiliares:new bu([])}),this.agregarEstudio(),this.agregarExpLaboral(),this.agregarConocimientos(),this.agregarReferenciaPersonal(),this.agregarReferenciaFamiliar(),this.listaTipoIdentificacion=[],this.paises=[],this.cargarTipoIdentificacion(),this.inicializarVariables()}inicializarVariables(){}ngOnInit(){}getControls(t){return this.formBasic.get(t).controls}eraseForm(t,r){r?r.reset():t.forEach(o=>{var u;return null===(u=this.formBasic.get(o))||void 0===u?void 0:u.reset()})}deleteControls(t,r){this.formBasic.controls[t].removeAt(r)}agregarEstudio(){this.formBasic.controls.estudios.push(new Pa({nombreInstitucion:new sn("",hn.required),tituloObtenido:new sn("",hn.required),fechaTitulo:new sn(new Date,hn.required)}))}agregarExpLaboral(){this.formBasic.controls.expLaboral.push(new Pa({nombreEmpresa:new sn("",hn.required),JefeInmediatoEmpresa:new sn("",hn.required),fechaInicioEmpresa:new sn(new Date,hn.required),fechaFinalEmpresa:new sn(new Date,hn.required),telContactoEmpresa:new sn("",hn.required)}))}agregarConocimientos(){this.formBasic.controls.conocimientosAdicionales.push(new Pa({nombreConocimiento:new sn("",hn.required),duracion:new sn("",hn.required),fechaFinalizacion:new sn(new Date,hn.required)}))}agregarReferenciaPersonal(){this.formBasic.controls.referenciasPersonales.push(new Pa({nombreCompleto:new sn("",hn.required),ocupacion:new sn("",hn.required),telefono:new sn("",hn.required),empresa:new sn("",hn.required)}))}agregarReferenciaFamiliar(){this.formBasic.controls.referenciasFamiliares.push(new Pa({nombreCompleto:new sn("",hn.required),ocupacion:new sn("",hn.required),telefono:new sn("",hn.required),parentesco:new sn("",hn.required),empresa:new sn("",hn.required)}))}cargarTipoIdentificacion(){return this.webService.consultarRecursos().subscribe(t=>{this.listaTipoIdentificacion=t.tipoDocumento,this.paises=t.paises})}estadoForm(){console.log(this.formBasic,"LOS ESTUDIOS")}guardar(){this.authService.getUserLogged().subscribe(t=>{t&&console.log(t.multiFactor.user.uid,"LO QUE TRAE EL USUARIO LOGEADO")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(n_),c.Y36(bb),c.Y36(yf),c.Y36(jR))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-form-basic"]],decls:255,vars:8,consts:[[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[3,"formGroup"],["id","carousel-form","data-touch","false","data-interval","false",1,"carousel","slide","carousel-fade"],[1,"carousel-indicators"],["data-target","#carousel-form","data-slide-to","0",1,"active"],["data-target","#carousel-form","data-slide-to","1"],["data-target","#carousel-form","data-slide-to","2"],["data-target","#carousel-form","data-slide-to","3"],["data-target","#carousel-form","data-slide-to","4"],["data-target","#carousel-form","data-slide-to","5"],["data-target","#carousel-form","data-slide-to","6"],["data-target","#carousel-form","data-slide-to","7"],["data-target","#carousel-form","data-slide-to","8"],[1,"col-md-2"],[1,"col-md-8"],[1,"carousel-inner","pr-4"],[1,"carousel-item","active"],[1,"espaciado"],[1,"shadow-two","bg-form","p-5"],[1,"text-light","f-grape","fs-30","text-center","text-shadow-one"],[1,"fs-12"],[1,"f-open-sans-c","ls-5","fw-6","fs-50","text-light","text-center","text-shadow-one"],[1,"p-5"],[1,"estiloLabel","f-open-sans-c","p-1"],[1,"text-danger"],["type","text","formControlName","primerNombre",1,"w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","segundoNombre",1,"w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","primerApellido",1,"w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","segundoApellido",1,"w-100","fw-3","mb-2","pl-2","estilo-input"],["title","Borrar contenido de campos",1,"tc-blue-one","bg-transparent","cursor-p","w-100","border-0","text-right",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eraser-fill","drop"],["d","M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"],[1,"carousel-item"],["name","state","formControlName","tipoIdentificacion",1,"w-100","estilo-input","bg-transparent-one","mb-2"],["value",""],["value","","class","f-grape",4,"ngFor","ngForOf"],["type","text","formControlName","identificacion",1,"w-100","fw-3","mb-2","pl-2","estilo-input"],["name","state","formControlName","nacionalidad",1,"w-100","estilo-input","bg-transparent-one"],["value","",4,"ngFor","ngForOf"],["type","date","formControlName","fechaNacimiento",1,"w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","ciudadNacimiento",1,"w-100","fw-3","mb-2","pl-2","estilo-input"],["name","state","formControlName","genero",1,"w-100","tc-yellow-one","estilo-input","bg-black"],["type","text","placeholder","","formControlName","direccionResidencia",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","placeholder","","formControlName","barrioResidencia",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","placeholder","","formControlName","telFijo",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","placeholder","","formControlName","telCel",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","placeholder","","formControlName","email",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["formArrayName","estudios"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"espacio"],[1,"mb-5","bg-transparent","f-open-sans-c","fs-18","text-light","cursor-p","border-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-square"],["d","M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],["formArrayName","expLaboral"],["formArrayName","conocimientosAdicionales"],["title","Agregar otro conocimiento",1,"mb-5","bg-transparent","f-open-sans-c","fs-18","text-light","cursor-p","border-0",3,"click"],["formArrayName","referenciasPersonales"],["title","Agregar referencia personal",1,"mb-5","bg-transparent","f-open-sans-c","fs-18","text-light","cursor-p","border-0",3,"click"],["formArrayName","referenciasFamiliares"],["type","button","data-target","#carousel-form","data-slide","prev",1,"carousel-control-prev","border-0","bg-cero"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["type","button","data-target","#carousel-form","data-slide","next",1,"carousel-control-next","border-0","bg-cero"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"text-center"],[3,"click"],[1,"espaciado","bg-transparent"],["value","",1,"f-grape"],[3,"formGroupName"],[1,"f-grape","tc-blue-two","fs-17","text-shadow-one"],["type","text","formControlName","nombreInstitucion",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","tituloObtenido",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","date","formControlName","fechaTitulo",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],[1,"tc-red-one","bg-transparent","cursor-p","w-100","border-0","text-right",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3-fill","drop"],["d","M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"],["type","text","formControlName","nombreEmpresa",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","JefeInmediatoEmpresa",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","date","formControlName","fechaInicioEmpresa",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","date","formControlName","fechaFinalEmpresa",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","telContactoEmpresa",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","nombreConocimiento",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","duracion",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","date","formControlName","fechaFinalizacion",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","nombreCompleto",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","ocupacion",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","telefono",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","empresa",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"],["type","text","formControlName","parentesco",1,"f-open-sans-c","w-100","fw-3","mb-2","pl-2","estilo-input"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2)(3,"form",3)(4,"div",4)(5,"ol",5),c._UZ(6,"li",6)(7,"li",7)(8,"li",8)(9,"li",9)(10,"li",10)(11,"li",11)(12,"li",12)(13,"li",13)(14,"li",14),c.qZA(),c.TgZ(15,"div",0),c._UZ(16,"div",15),c.TgZ(17,"div",16)(18,"div",17)(19,"div",18),c._UZ(20,"div",19),c.TgZ(21,"div",20)(22,"h4",21),c._uU(23,"01/"),c.TgZ(24,"span",22),c._uU(25,"09"),c.qZA()(),c.TgZ(26,"h3",23),c._uU(27,"NOMBRE COMPLETO"),c.qZA(),c.TgZ(28,"div",24)(29,"label",25),c._uU(30,"Primer nombre"),c.TgZ(31,"span",26),c._uU(32,"*"),c.qZA()(),c._UZ(33,"input",27),c.TgZ(34,"label",25),c._uU(35,"Segundo nombre"),c.qZA(),c._UZ(36,"input",28),c.TgZ(37,"label",25),c._uU(38,"Primer apellido"),c.TgZ(39,"span",26),c._uU(40,"*"),c.qZA()(),c._UZ(41,"input",29),c.TgZ(42,"label",25),c._uU(43,"Segundo apellido"),c.qZA(),c._UZ(44,"input",30),c.TgZ(45,"button",31),c.NdJ("click",function(){return r.eraseForm(["primerNombre","segundoNombre","primerApellido","segundoApellido"])}),c.O4$(),c.TgZ(46,"svg",32),c._UZ(47,"path",33),c.qZA()()()(),c.kcU(),c._UZ(48,"div",19),c.qZA(),c.TgZ(49,"div",34),c._UZ(50,"div",19),c.TgZ(51,"div",20)(52,"h4",21),c._uU(53,"02/"),c.TgZ(54,"span",22),c._uU(55,"09"),c.qZA()(),c.TgZ(56,"h3",23),c._uU(57,"IDENTIFICACI\xd3N"),c.qZA(),c.TgZ(58,"div",24)(59,"label",25),c._uU(60,"Tipo documento"),c.TgZ(61,"span",26),c._uU(62,"*"),c.qZA()(),c.TgZ(63,"select",35)(64,"option",36),c._uU(65,"---Seleccione---"),c.qZA(),c.YNc(66,HR,2,1,"option",37),c.qZA(),c.TgZ(67,"label",25),c._uU(68,"Identificaci\xf3n"),c.TgZ(69,"span",26),c._uU(70,"*"),c.qZA()(),c._UZ(71,"input",38),c.TgZ(72,"label",25),c._uU(73,"Nacionalidad"),c.TgZ(74,"span",26),c._uU(75,"*"),c.qZA()(),c.TgZ(76,"select",39)(77,"option",36),c._uU(78,"---Seleccione---"),c.qZA(),c.YNc(79,$R,2,1,"option",40),c.qZA(),c.TgZ(80,"button",31),c.NdJ("click",function(){return r.eraseForm(["tipoIdentificacion","identificacion","nacionalidad"])}),c.O4$(),c.TgZ(81,"svg",32),c._UZ(82,"path",33),c.qZA()()()(),c.kcU(),c._UZ(83,"div",19),c.qZA(),c.TgZ(84,"div",34),c._UZ(85,"div",19),c.TgZ(86,"div",20)(87,"h4",21),c._uU(88,"03/"),c.TgZ(89,"span",22),c._uU(90,"09"),c.qZA()(),c.TgZ(91,"h3",23),c._uU(92,"NACIMIENTO"),c.qZA(),c.TgZ(93,"div",24)(94,"label",25),c._uU(95,"Fecha de nacimiento"),c.TgZ(96,"span",26),c._uU(97,"*"),c.qZA()(),c._UZ(98,"input",41),c.TgZ(99,"label",25),c._uU(100,"Lugar de nacimiento"),c.TgZ(101,"span",26),c._uU(102,"*"),c.qZA()(),c._UZ(103,"input",42),c.TgZ(104,"label",25),c._uU(105,"G\xe9nero"),c.TgZ(106,"span",26),c._uU(107,"*"),c.qZA()(),c.TgZ(108,"select",43)(109,"option",36),c._uU(110,"---Seleccione---"),c.qZA(),c.TgZ(111,"option",36),c._uU(112,"Femenino"),c.qZA(),c.TgZ(113,"option",36),c._uU(114,"Masculino"),c.qZA(),c.TgZ(115,"option",36),c._uU(116,"Transg\xe9nero"),c.qZA()(),c.TgZ(117,"button",31),c.NdJ("click",function(){return r.eraseForm(["fechaNacimiento","ciudadNacimiento","genero"])}),c.O4$(),c.TgZ(118,"svg",32),c._UZ(119,"path",33),c.qZA()()()(),c.kcU(),c._UZ(120,"div",19),c.qZA(),c.TgZ(121,"div",34),c._UZ(122,"div",19),c.TgZ(123,"div",20)(124,"h4",21),c._uU(125,"04/"),c.TgZ(126,"span",22),c._uU(127,"09"),c.qZA()(),c.TgZ(128,"h3",23),c._uU(129,"CONTACTO"),c.qZA(),c.TgZ(130,"div",24)(131,"label",25),c._uU(132,"Direcci\xf3n residencia"),c.TgZ(133,"span",26),c._uU(134,"*"),c.qZA()(),c._UZ(135,"input",44),c.TgZ(136,"label",25),c._uU(137,"Barrio residencia"),c.TgZ(138,"span",26),c._uU(139,"*"),c.qZA()(),c._UZ(140,"input",45),c.TgZ(141,"label",25),c._uU(142,"N\xfamero fijo"),c.TgZ(143,"span",26),c._uU(144,"*"),c.qZA()(),c._UZ(145,"input",46),c.TgZ(146,"label",25),c._uU(147,"N\xfamero m\xf3vil"),c.TgZ(148,"span",26),c._uU(149,"*"),c.qZA()(),c._UZ(150,"input",47),c.TgZ(151,"label",25),c._uU(152,"Email"),c.TgZ(153,"span",26),c._uU(154,"*"),c.qZA()(),c._UZ(155,"input",48),c.TgZ(156,"button",31),c.NdJ("click",function(){return r.eraseForm(["direccionResidencia","barrioResidencia","telFijo","telCel","email"])}),c.O4$(),c.TgZ(157,"svg",32),c._UZ(158,"path",33),c.qZA()()()(),c.kcU(),c._UZ(159,"div",19),c.qZA(),c.TgZ(160,"div",34),c._UZ(161,"div",19),c.TgZ(162,"div",20)(163,"h4",21),c._uU(164,"05/"),c.TgZ(165,"span",22),c._uU(166,"09"),c.qZA()(),c.TgZ(167,"h3",23),c._uU(168,"ESTUDIOS"),c.qZA(),c.ynx(169,49),c.YNc(170,GR,25,2,"div",50),c._UZ(171,"div",51),c.BQk(),c.TgZ(172,"button",52),c.NdJ("click",function(){return r.agregarEstudio()}),c.O4$(),c.TgZ(173,"svg",53),c._UZ(174,"path",54)(175,"path",55),c.qZA()()(),c.kcU(),c._UZ(176,"div",19),c.qZA(),c.TgZ(177,"div",34),c._UZ(178,"div",19),c.TgZ(179,"div",20)(180,"h4",21),c._uU(181,"06/"),c.TgZ(182,"span",22),c._uU(183,"09"),c.qZA()(),c.TgZ(184,"h3",23),c._uU(185,"EXPERIENCIA LABORAL"),c.qZA(),c.ynx(186,56),c.YNc(187,ZR,35,2,"div",50),c.BQk(),c.TgZ(188,"button",52),c.NdJ("click",function(){return r.agregarExpLaboral()}),c.O4$(),c.TgZ(189,"svg",53),c._UZ(190,"path",54)(191,"path",55),c.qZA()()(),c.kcU(),c._UZ(192,"div",19),c.qZA(),c.TgZ(193,"div",34),c._UZ(194,"div",19),c.TgZ(195,"div",20)(196,"h4",21),c._uU(197,"07/"),c.TgZ(198,"span",22),c._uU(199,"09"),c.qZA()(),c.TgZ(200,"h3",23),c._uU(201,"OTROS CONOCIMIENTOS"),c.qZA(),c.ynx(202,57),c.YNc(203,qR,25,2,"div",50),c.BQk(),c.TgZ(204,"button",58),c.NdJ("click",function(){return r.agregarConocimientos()}),c.O4$(),c.TgZ(205,"svg",53),c._UZ(206,"path",54)(207,"path",55),c.qZA()()(),c.kcU(),c._UZ(208,"div",19),c.qZA(),c.TgZ(209,"div",34),c._UZ(210,"div",19),c.TgZ(211,"div",20)(212,"h4",21),c._uU(213,"08/"),c.TgZ(214,"span",22),c._uU(215,"09"),c.qZA()(),c.TgZ(216,"h3",23),c._uU(217,"REFERENCIAS PERSONALES"),c.qZA(),c.ynx(218,59),c.YNc(219,zR,30,2,"div",50),c.BQk(),c.TgZ(220,"button",60),c.NdJ("click",function(){return r.agregarReferenciaPersonal()}),c.O4$(),c.TgZ(221,"svg",53),c._UZ(222,"path",54)(223,"path",55),c.qZA()()(),c.kcU(),c._UZ(224,"div",19),c.qZA(),c.TgZ(225,"div",34),c._UZ(226,"div",19),c.TgZ(227,"div",20)(228,"h4",21),c._uU(229,"09/"),c.TgZ(230,"span",22),c._uU(231,"09"),c.qZA()(),c.TgZ(232,"h3",23),c._uU(233,"REFERENCIAS FAMILIARES"),c.qZA(),c.ynx(234,61),c.YNc(235,WR,35,2,"div",50),c.BQk(),c.TgZ(236,"button",60),c.NdJ("click",function(){return r.agregarReferenciaFamiliar()}),c.O4$(),c.TgZ(237,"svg",53),c._UZ(238,"path",54)(239,"path",55),c.qZA()()(),c.kcU(),c._UZ(240,"div",19),c.qZA()()(),c._UZ(241,"div",15),c.qZA(),c.TgZ(242,"button",62),c._UZ(243,"span",63),c.TgZ(244,"span",64),c._uU(245,"Previous"),c.qZA()(),c.TgZ(246,"button",65),c._UZ(247,"span",66),c.TgZ(248,"span",64),c._uU(249,"Next"),c.qZA()()(),c.TgZ(250,"div",67)(251,"button",68),c.NdJ("click",function(){return r.guardar()}),c._uU(252,"Guardar"),c.qZA()()()(),c._UZ(253,"div",1),c.qZA(),c._UZ(254,"div",69)),2&t&&(c.xp6(3),c.Q6J("formGroup",r.formBasic),c.xp6(63),c.Q6J("ngForOf",r.listaTipoIdentificacion),c.xp6(13),c.Q6J("ngForOf",r.paises),c.xp6(91),c.Q6J("ngForOf",r.getControls("estudios")),c.xp6(17),c.Q6J("ngForOf",r.getControls("expLaboral")),c.xp6(16),c.Q6J("ngForOf",r.getControls("conocimientosAdicionales")),c.xp6(16),c.Q6J("ngForOf",r.getControls("referenciasPersonales")),c.xp6(16),c.Q6J("ngForOf",r.getControls("referenciasFamiliares")))},directives:[Jh,Zp,fc,jh,zw,sg,ef,zy,og,ir,rg,Xh],styles:['@import"https://fonts.googleapis.com/css2?family=Grape+Nuts&display=swap";.estilo-input[_ngcontent-%COMP%]{background:transparent;color:#ffef27;border-top:none;border-right:none;border-left:.3px solid gray;border-bottom:.3px solid gray;height:40px;font-size:30px;font-family:Grape Nuts,cursive!important}.estiloLabel[_ngcontent-%COMP%]{color:#000;background-color:#fff;font-size:13px;position:relative;height:20px;line-height:1;border-radius:5px}.bg-form[_ngcontent-%COMP%]{background:rgba(61,56,61,1);background:radial-gradient(ellipse at center,rgba(61,56,61,1) 0%,rgba(26,26,26,1) 59%,rgba(26,26,26,1) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#3d383d",endColorstr="#1a1a1a",GradientType=1)}']}),n})(),YR=(()=>{class n{constructor(t){this.auth=t,this.auth.getUserLogged().subscribe(r=>{r&&console.log(r,"LO QUE TRAE EL USUARIO LOGEADO")})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(yf))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-profile"]],decls:3,vars:0,consts:[[1,"espaciado"]],template:function(t,r){1&t&&c._UZ(0,"app-header")(1,"div",0)(2,"app-form-basic")},directives:[mg,KR],styles:[""]}),n})();const PA=(0,pt.U)(n=>!!n);let Jx=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(o,u)=>{const h=o.data.authGuardPipe||(()=>PA);return this.auth.user.pipe((0,jo.q)(1),h(o,u),(0,pt.U)(m=>"boolean"==typeof m?m:Array.isArray(m)?this.router.createUrlTree(m):this.router.parseUrl(m)))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ni),c.LFG(gg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const JR=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:EI},{path:"login",component:DI},{path:"profile",component:YR,canActivate:[Jx]}];let XR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[pC]}),n.\u0275inj=c.cJS({providers:[],imports:[[t_,wb,ug,Fo,Lw,Qo.hO.initializeApp(Ey_firebase,"workface"),pd.forRoot(JR),UC]]}),n})();(0,c.G48)(),_a().bootstrapModule(XR).catch(n=>console.error(n))},5867:(gt,Te,L)=>{"use strict";L.d(Te,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=L(9681);(0,c.registerVersion)("firebase","9.7.0","app")},127:(gt,Te,L)=>{"use strict";L.d(Te,{Z:()=>c.Z});var c=L(3942);c.Z.registerVersion("firebase","9.7.0","app-compat")},730:(gt,Te,L)=>{"use strict";L.r(Te);var c=L(5861),Q=L(3942),F=L(2090),le=L(9681),ie=L(655),ve=L(1877),de=L(4859);const Pe=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new ve.Yd("@firebase/auth");function et(y,...f){it.logLevel<=ve.in.ERROR&&it.error(`Auth (${le.SDK_VERSION}): ${y}`,...f)}function xe(y,...f){throw Ge(y,...f)}function Ce(y,...f){return Ge(y,...f)}function De(y,f,g){const v=Object.assign(Object.assign({},je()),{[f]:g});return new F.LL("auth","Firebase",v).create(f,{appName:y.name})}function ze(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&xe(y,"argument-error"),De(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(y,...f){if("string"!=typeof y){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(g,...v)}return ye.create(y,...f)}function U(y,f,...g){if(!y)throw Ge(f,...g)}function Ke(y){const f="INTERNAL ASSERTION FAILED: "+y;throw et(f),new Error(f)}function X(y,f){y||Ke(f)}const ce=new Map;function re(y){X(y instanceof Function,"Expected a class definition");let f=ce.get(y);return f?(X(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,ce.set(y,f),f)}function Ve(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Tt(){return"http:"===Qt()||"https:"===Qt()}function Qt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Mt{constructor(f,g){this.shortDelay=f,this.longDelay=g,X(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function un(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tt()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function En(y,f){X(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class An{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qn=new Mt(3e4,6e4);function Wt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Yt(y,f,g,v){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(y,f,g,v,S={}){return Ar(y,S,(0,c.Z)(function*(){let P={},Y={};v&&("GET"===f?Y=v:P={body:JSON.stringify(v)});const he=(0,F.xO)(Object.assign({key:y.config.apiKey},Y)).slice(1),Ze=yield y._getAdditionalHeaders();return Ze["Content-Type"]="application/json",y.languageCode&&(Ze["X-Firebase-Locale"]=y.languageCode),An.fetch()(Jn(y,y.config.apiHost,g,he),Object.assign({method:f,headers:Ze,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Ar(y,f,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(y,f,g){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},zt),f);try{const S=new Li(y),P=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const Y=yield P.json();if("needConfirmation"in Y)throw Sr(y,"account-exists-with-different-credential",Y);if(P.ok&&!("errorMessage"in Y))return Y;{const he=P.ok?Y.errorMessage:Y.error.message,[Ze,lt]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw Sr(y,"credential-already-in-use",Y);if("EMAIL_EXISTS"===Ze)throw Sr(y,"email-already-in-use",Y);const St=v[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(lt)throw De(y,St,lt);xe(y,St)}}catch(S){if(S instanceof F.ZR)throw S;xe(y,"network-request-failed")}})).apply(this,arguments)}function lr(y,f,g,v){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(y,f,g,v,S={}){const P=yield Yt(y,f,g,v,S);return"mfaPendingCredential"in P&&xe(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Jn(y,f,g,v){const S=`${f}${g}?${v}`;return y.config.emulator?En(y.config,S):`${y.config.apiScheme}://${S}`}class Li{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(Ce(this.auth,"network-request-failed")),Qn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sr(y,f,g){const v={appName:y.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const S=Ce(y,f,v);return S.customData._tokenResponse=g,S}function Sn(){return(Sn=(0,c.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Xn(y,f){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xr(y,f){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function vn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function zr(){return(zr=(0,c.Z)(function*(y,f=!1){const g=(0,F.m9)(y),v=yield g.getIdToken(f),S=Ye(v);U(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const P="object"==typeof S.firebase?S.firebase:void 0,Y=null==P?void 0:P.sign_in_provider;return{claims:S,token:v,authTime:vn(Lt(S.auth_time)),issuedAtTime:vn(Lt(S.iat)),expirationTime:vn(Lt(S.exp)),signInProvider:Y||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function Lt(y){return 1e3*Number(y)}function Ye(y){const[f,g,v]=y.split(".");if(void 0===f||void 0===g||void 0===v)return et("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,F.tV)(g);return S?JSON.parse(S):(et("Failed to decode base64 JWT payload"),null)}catch(S){return et("Caught error parsing JWT payload as JSON",S),null}}function tr(y,f){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,c.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof F.ZR&&At(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function At({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ls{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class cr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nr(y){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(y){var f;const g=y.auth,v=yield y.getIdToken(),S=yield tr(y,xr(g,{idToken:v}));U(null==S?void 0:S.users.length,g,"internal-error");const P=S.users[0];y._notifyReloadListener(P);const Y=(null===(f=P.providerUserInfo)||void 0===f?void 0:f.length)?ue(P.providerUserInfo):[],he=nt(y.providerData,Y),St=!!y.isAnonymous&&!(y.email&&P.passwordHash||(null==he?void 0:he.length)),_t={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:he,metadata:new cr(P.createdAt,P.lastLoginAt),isAnonymous:St};Object.assign(y,_t)})).apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(y){const f=(0,F.m9)(y);yield nr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function nt(y,f){return[...y.filter(v=>!f.some(S=>S.providerId===v.providerId)),...f]}function ue(y){return y.map(f=>{var{providerId:g}=f,v=(0,ie._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function vt(){return(vt=(0,c.Z)(function*(y,f){const g=yield Ar(y,{},(0,c.Z)(function*(){const v=(0,F.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:P}=y.config,Y=Jn(y,S,"/v1/token",`key=${P}`),he=yield y._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",An.fetch()(Y,{method:"POST",headers:he,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(void 0!==f.idToken,"internal-error"),U(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function at(y){const f=Ye(y);return U(f,"internal-error"),U(void 0!==f.exp,"internal-error"),U(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,c.Z)(function*(){return U(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:P,expiresIn:Y}=yield function st(y,f){return vt.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(S,P,Number(Y))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:S,expirationTime:P}=g,Y=new Kt;return v&&(U("string"==typeof v,"internal-error",{appName:f}),Y.refreshToken=v),S&&(U("string"==typeof S,"internal-error",{appName:f}),Y.accessToken=S),P&&(U("number"==typeof P,"internal-error",{appName:f}),Y.expirationTime=P),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Kt,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function jt(y,f){U("string"==typeof y||void 0===y,"internal-error",{appName:f})}class ${constructor(f){var{uid:g,auth:v,stsTokenManager:S}=f,P=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ls(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new cr(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const v=yield tr(g,g.stsTokenManager.getToken(g.auth,f));return U(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function er(y){return zr.apply(this,arguments)}(this,f)}reload(){return function br(y){return Bt.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new $(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,c.Z)(function*(){let S=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield nr(v)),yield v.auth._persistUserIfCurrent(v),S&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield tr(f,function rt(y,f){return Sn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,S,P,Y,he,Ze,lt,St;const _t=null!==(v=g.displayName)&&void 0!==v?v:void 0,qn=null!==(S=g.email)&&void 0!==S?S:void 0,Ss=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,lc=null!==(Y=g.photoURL)&&void 0!==Y?Y:void 0,ol=null!==(he=g.tenantId)&&void 0!==he?he:void 0,al=null!==(Ze=g._redirectEventId)&&void 0!==Ze?Ze:void 0,Vh=null!==(lt=g.createdAt)&&void 0!==lt?lt:void 0,cy=null!==(St=g.lastLoginAt)&&void 0!==St?St:void 0,{uid:Na,emailVerified:cd,isAnonymous:dd,providerData:Uh,stsTokenManager:hd}=g;U(Na&&hd,f,"internal-error");const ni=Kt.fromJSON(this.name,hd);U("string"==typeof Na,f,"internal-error"),jt(_t,f.name),jt(qn,f.name),U("boolean"==typeof cd,f,"internal-error"),U("boolean"==typeof dd,f,"internal-error"),jt(Ss,f.name),jt(lc,f.name),jt(ol,f.name),jt(al,f.name),jt(Vh,f.name),jt(cy,f.name);const Bh=new $({uid:Na,auth:f,email:qn,emailVerified:cd,displayName:_t,isAnonymous:dd,photoURL:lc,phoneNumber:Ss,tenantId:ol,stsTokenManager:ni,createdAt:Vh,lastLoginAt:cy});return Uh&&Array.isArray(Uh)&&(Bh.providerData=Uh.map(Vp=>Object.assign({},Vp))),al&&(Bh._redirectEventId=al),Bh}static _fromIdTokenResponse(f,g,v=!1){return(0,c.Z)(function*(){const S=new Kt;S.updateFromServerResponse(g);const P=new $({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:v});return yield nr(P),P})()}}const W=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,v){var S=this;return(0,c.Z)(function*(){S.storage[g]=v})()}_get(g){var v=this;return(0,c.Z)(function*(){const S=v.storage[g];return void 0===S?null:S})()}_remove(g){var v=this;return(0,c.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return y.type="NONE",y})();function ge(y,f,g){return`firebase:${y}:${f}:${g}`}class te{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:S,name:P}=this.auth;this.fullUserKey=ge(this.userKey,S.apiKey,P),this.fullPersistenceKey=ge("persistence",S.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?$._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,c.Z)(function*(){if(!g.length)return new te(re(W),f,v);const S=(yield Promise.all(g.map(function(){var lt=(0,c.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return lt.apply(this,arguments)}}()))).filter(lt=>lt);let P=S[0]||re(W);const Y=ge(v,f.config.apiKey,f.name);let he=null;for(const lt of g)try{const St=yield lt._get(Y);if(St){const _t=$._fromJSON(f,St);lt!==P&&(he=_t),P=lt;break}}catch(St){}const Ze=S.filter(lt=>lt._shouldAllowMigration);return P._shouldAllowMigration&&Ze.length?(P=Ze[0],he&&(yield P._set(Y,he.toJSON())),yield Promise.all(g.map(function(){var lt=(0,c.Z)(function*(St){if(St!==P)try{yield St._remove(Y)}catch(_t){}});return function(St){return lt.apply(this,arguments)}}())),new te(P,f,v)):new te(P,f,v)})()}}function He(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Xt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(It(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ft(f))return"Blackberry";if(mn(f))return"Webos";if(Jt(f))return"Safari";if((f.includes("chrome/")||Er(f))&&!f.includes("edge/"))return"Chrome";if(wn(f))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function It(y=(0,F.z$)()){return/firefox\//i.test(y)}function Jt(y=(0,F.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Er(y=(0,F.z$)()){return/crios\//i.test(y)}function Xt(y=(0,F.z$)()){return/iemobile/i.test(y)}function wn(y=(0,F.z$)()){return/android/i.test(y)}function Ft(y=(0,F.z$)()){return/blackberry/i.test(y)}function mn(y=(0,F.z$)()){return/webos/i.test(y)}function rr(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)}function Vi(y=(0,F.z$)()){return rr(y)||wn(y)||mn(y)||Ft(y)||/windows phone/i.test(y)||Xt(y)}function Do(y,f=[]){let g;switch(y){case"Browser":g=He((0,F.z$)());break;case"Worker":g=`${He((0,F.z$)())}-${y}`;break;default:g=y}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${v}`}class Et{constructor(f,g,v){this.app=f,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vt(this),this.idTokenSubscription=new Vt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=re(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,P;if(!v._deleted&&(v.persistenceManager=yield te.create(v,f),!v._deleted)){if(null===(S=v._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(Y){}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(P=v.currentUser)||void 0===P?void 0:P.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var v;let S=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const P=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,Y=null==S?void 0:S._redirectEventId,he=yield g.tryRedirectSignIn(f);(!P||P===Y)&&(null==he?void 0:he.user)&&(S=he.user)}return S?S._redirectEventId?(U(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(S){yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield nr(f)}catch(v){if("auth/network-request-failed"!==v.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function We(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const v=f?(0,F.m9)(f):null;return v&&U(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return f&&U(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(re(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,c.Z)(function*(){const S=yield v.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&re(f)||g._popupRedirectResolver;U(v,g,"argument-error"),g.redirectPersistenceManager=yield te.create(g,[re(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var v,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,S){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return U(Y,this,"internal-error"),Y.then(()=>P(this.currentUser)),"function"==typeof g?f.addObserver(g,v,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Do(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(v["X-Firebase-Client"]=S),v})()}}function Fe(y){return(0,F.m9)(y)}class Vt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dr(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function jn(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class tn{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Ke("not implemented")}_getIdTokenResponse(f){return Ke("not implemented")}_linkToIdToken(f,g){return Ke("not implemented")}_getReauthenticationResolver(f){return Ke("not implemented")}}function xn(y,f){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:resetPassword",Wt(y,f))})).apply(this,arguments)}function yt(y,f){return Us.apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Bs(y,f){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:update",Wt(y,f))})).apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(y,f){return lr(y,"POST","/v1/accounts:signInWithPassword",Wt(y,f))})).apply(this,arguments)}function Ui(y,f){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:sendOobCode",Wt(y,f))})).apply(this,arguments)}function Or(y,f){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(y,f){return Ui(y,f)})).apply(this,arguments)}function sa(y,f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(y,f){return Ui(y,f)})).apply(this,arguments)}function di(y,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(y,f){return Ui(y,f)})).apply(this,arguments)}function Uu(y,f){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(y,f){return Ui(y,f)})).apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(y,f){return lr(y,"POST","/v1/accounts:signInWithEmailLink",Wt(y,f))})).apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(y,f){return lr(y,"POST","/v1/accounts:signInWithEmailLink",Wt(y,f))})).apply(this,arguments)}class ji extends tn{constructor(f,g,v,S=null){super("password",v),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new ji(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new ji(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function os(y,f){return ir.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function oa(y,f){return Pr.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:xe(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return yt(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Pl(y,f){return Za.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:xe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Hn(y,f){return qa.apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(y,f){return lr(y,"POST","/v1/accounts:signInWithIdp",Wt(y,f))})).apply(this,arguments)}class Hi extends tn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Hi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):xe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:S}=g,P=(0,ie._T)(g,["providerId","signInMethod"]);if(!v||!S)return null;const Y=new Hi(v,S);return Y.idToken=P.idToken||void 0,Y.accessToken=P.accessToken||void 0,Y.secret=P.secret,Y.nonce=P.nonce,Y.pendingToken=P.pendingToken||null,Y}_getIdTokenResponse(f){return Hn(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,Hn(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Hn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,F.xO)(g)}return f}}function jc(y,f){return za.apply(this,arguments)}function za(){return(za=(0,c.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:sendVerificationCode",Wt(y,f))})).apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(y,f){return lr(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,f))})).apply(this,arguments)}function Bu(){return(Bu=(0,c.Z)(function*(y,f){const g=yield lr(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,f));if(g.temporaryProof)throw Sr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const $c={USER_NOT_FOUND:"user-not-found"};function Ka(){return(Ka=(0,c.Z)(function*(y,f){return lr(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),$c)})).apply(this,arguments)}class uo extends tn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new uo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new uo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Wa(y,f){return us.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Hc(y,f){return Bu.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ao(y,f){return Ka.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:S,temporaryProof:P}=f;return v||g||S||P?new uo({verificationId:g,verificationCode:v,phoneNumber:S,temporaryProof:P}):null}}class js{constructor(f){var g,v,S,P,Y,he;const Ze=(0,F.zd)((0,F.pd)(f)),lt=null!==(g=Ze.apiKey)&&void 0!==g?g:null,St=null!==(v=Ze.oobCode)&&void 0!==v?v:null,_t=function lh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ze.mode)&&void 0!==S?S:null);U(lt&&St&&_t,"argument-error"),this.apiKey=lt,this.operation=_t,this.code=St,this.continueUrl=null!==(P=Ze.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(Y=Ze.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(he=Ze.tenantId)&&void 0!==he?he:null}static parseLink(f){const g=function aa(y){const f=(0,F.zd)((0,F.pd)(y)).link,g=f?(0,F.zd)((0,F.pd)(f)).deep_link_id:null,v=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(v?(0,F.zd)((0,F.pd)(v)).link:null)||v||g||f||y}(f);try{return new js(g)}catch(v){return null}}}let Ya=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,v){return ji._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const S=js.parseLink(v);return U(S,"argument-error"),ji._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ls{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Fr extends ls{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class lo extends Fr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return U("providerId"in g&&"signInMethod"in g,"argument-error"),Hi._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),Hi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return lo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return lo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:S,pendingToken:P,nonce:Y,providerId:he}=f;if(!v&&!S&&!g&&!P||!he)return null;try{return new lo(he)._credential({idToken:g,accessToken:v,nonce:Y,pendingToken:P})}catch(Ze){return null}}}let Hs=(()=>{class y extends Fr{constructor(){super("facebook.com")}static credential(g){return Hi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(v){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),So=(()=>{class y extends Fr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return Hi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:S}=g;if(!v&&!S)return null;try{return y.credential(v,S)}catch(P){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ju=(()=>{class y extends Fr{constructor(){super("github.com")}static credential(g){return Hi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(v){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class cs extends tn{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Hn(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,Hn(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Hn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:S,pendingToken:P}=g;return v&&S&&P&&v===S?new cs(v,P):null}static _create(f,g){return new cs(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Lr extends ls{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Lr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Lr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=cs.fromJSON(f);return U(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return cs._create(v,g)}catch(S){return null}}}let ua=(()=>{class y extends Fr{constructor(){super("twitter.com")}static credential(g,v){return Hi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:S}=g;if(!v||!S)return null;try{return y.credential(v,S)}catch(P){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function la(y,f){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(y,f){return lr(y,"POST","/v1/accounts:signUp",Wt(y,f))})).apply(this,arguments)}class Mn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,S=!1){return(0,c.Z)(function*(){const P=yield $._fromIdTokenResponse(f,v,S),Y=Vl(v);return new Mn({user:P,providerId:Y,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const S=Vl(v);return new Mn({user:f,providerId:S,_tokenResponse:v,operationType:g})})()}}function Vl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Hu(){return(Hu=(0,c.Z)(function*(y){var f;const g=Fe(y);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Mn({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield la(g,{returnSecureToken:!0}),S=yield Mn._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class da extends F.ZR{constructor(f,g,v,S){var P;super(g.code,g.message),this.operationType=v,this.user=S,Object.setPrototypeOf(this,da.prototype),this.customData={appName:f.name,tenantId:null!==(P=f.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,S){return new da(f,g,v,S)}}function ha(y,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?da._fromErrorAndOperation(y,P,f,v):P})}function $i(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Qa(){return(Qa=(0,c.Z)(function*(y,f){const g=(0,F.m9)(y);yield Gi(!0,g,f);const{providerUserInfo:v}=yield Xn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=$i(v||[]);return g.providerData=g.providerData.filter(P=>S.has(P.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function _n(y,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(y,f,g=!1){const v=yield tr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return Mn._forOperation(y,"link",v)})).apply(this,arguments)}function Gi(y,f,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(y,f,g){yield nr(f);const S=!1===y?"provider-already-linked":"no-such-provider";U($i(f.providerData).has(g)===y,f.auth,S)})).apply(this,arguments)}function $u(y,f){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(y,f,g=!1){const{auth:v}=y,S="reauthenticate";try{const P=yield tr(y,ha(v,S,f,y),g);U(P.idToken,v,"internal-error");const Y=Ye(P.idToken);U(Y,v,"internal-error");const{sub:he}=Y;return U(y.uid===he,v,"user-mismatch"),Mn._forOperation(y,S,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&xe(v,"user-mismatch"),P}})).apply(this,arguments)}function hi(y,f){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(y,f,g=!1){const v="signIn",S=yield ha(y,v,f),P=yield Mn._fromIdTokenResponse(y,v,S);return g||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function kn(y,f){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(y,f){return hi(Fe(y),f)})).apply(this,arguments)}function fi(y,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*(y,f){const g=(0,F.m9)(y);return yield Gi(!1,g,f.providerId),_n(g,f)})).apply(this,arguments)}function fs(y,f){return pi.apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(y,f){return $u((0,F.m9)(y),f)})).apply(this,arguments)}function ko(y,f){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,c.Z)(function*(y,f){return lr(y,"POST","/v1/accounts:signInWithCustomToken",Wt(y,f))})).apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(y,f){const g=Fe(y),v=yield ko(g,{token:f,returnSecureToken:!0}),S=yield Mn._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class wt{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?fa._fromServerResponse(f,g):xe(f,"internal-error")}}class fa extends wt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new fa(g)}}function No(y,f,g){var v;U((null===(v=g.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),U(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(U(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(U(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function pa(){return(pa=(0,c.Z)(function*(y,f,g){const v=(0,F.m9)(y),S={requestType:"PASSWORD_RESET",email:f};g&&No(v,S,g),yield sa(v,S)})).apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(y,f,g){yield xn((0,F.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ae(){return(Ae=(0,c.Z)(function*(y,f){yield Bs((0,F.m9)(y),{oobCode:f})})).apply(this,arguments)}function Rt(y,f){return eu.apply(this,arguments)}function eu(){return(eu=(0,c.Z)(function*(y,f){const g=(0,F.m9)(y),v=yield xn(g,{oobCode:f}),S=v.requestType;switch(U(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(v.mfaInfo,g,"internal-error");default:U(v.email,g,"internal-error")}let P=null;return v.mfaInfo&&(P=wt._fromServerResponse(Fe(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:P},operation:S}})).apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(y,f){const{data:g}=yield Rt((0,F.m9)(y),f);return g.email})).apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(y,f,g){const v=Fe(y),S=yield la(v,{returnSecureToken:!0,email:f,password:g}),P=yield Mn._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(P.user),P})).apply(this,arguments)}function Gu(){return(Gu=(0,c.Z)(function*(y,f,g){const v=(0,F.m9)(y),S={requestType:"EMAIL_SIGNIN",email:f};U(g.handleCodeInApp,v,"argument-error"),g&&No(v,S,g),yield di(v,S)})).apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(y,f,g){const v=(0,F.m9)(y),S=Ya.credentialWithLink(f,g||Ve());return U(S._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),kn(v,S)})).apply(this,arguments)}function fr(y,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:createAuthUri",Wt(y,f))})).apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(y,f){const v={identifier:f,continueUri:Tt()?Ve():"http://localhost"},{signinMethods:S}=yield fr((0,F.m9)(y),v);return S||[]})).apply(this,arguments)}function ru(){return(ru=(0,c.Z)(function*(y,f){const g=(0,F.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&No(g.auth,S,f);const{email:P}=yield Or(g.auth,S);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(y,f,g){const v=(0,F.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&No(v.auth,P,g);const{email:Y}=yield Uu(v.auth,P);Y!==y.email&&(yield y.reload())})).apply(this,arguments)}function _a(y,f){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function iu(){return(iu=(0,c.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,F.m9)(y),P={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},Y=yield tr(v,_a(v.auth,P));v.displayName=Y.displayName||null,v.photoURL=Y.photoUrl||null;const he=v.providerData.find(({providerId:Ze})=>"password"===Ze);he&&(he.displayName=v.displayName,he.photoURL=v.photoURL),yield v._updateTokensIfNecessary(Y)})).apply(this,arguments)}function Lo(y,f,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,c.Z)(function*(y,f,g){const{auth:v}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(P.email=f),g&&(P.password=g);const Y=yield tr(y,yt(v,P));yield y._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class Zi{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class qu extends Zi{constructor(f,g,v,S){super(f,g,v),this.username=S}}class zu extends Zi{constructor(f,g){super(f,"facebook.com",g)}}class qs extends qu{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class mi extends Zi{constructor(f,g){super(f,"google.com",g)}}class ou extends qu{constructor(f,g,v){super(f,"twitter.com",g,v)}}function Ir(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function su(y){var f,g;if(!y)return null;const{providerId:v}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&(null==y?void 0:y.idToken)){const Y=null===(g=null===(f=Ye(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(Y)return new Zi(P,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!v)return null;switch(v){case"facebook.com":return new zu(P,S);case"github.com":return new qs(P,S);case"google.com":return new mi(P,S);case"twitter.com":return new ou(P,S,y.screenName||null);case"custom":case"anonymous":return new Zi(P,null);default:return new Zi(P,v,S)}}(g)}class Ii{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new Ii("enroll",f)}static _fromMfaPendingCredential(f){return new Ii("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Ii._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(v=f.multiFactorSession)||void 0===v?void 0:v.idToken)return Ii._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Vo{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=Fe(f),S=g.customData._serverResponse,P=(S.mfaInfo||[]).map(he=>wt._fromServerResponse(v,he));U(S.mfaPendingCredential,v,"internal-error");const Y=Ii._fromMfaPendingCredential(S.mfaPendingCredential);return new Vo(Y,P,function(){var he=(0,c.Z)(function*(Ze){const lt=yield Ze._process(v,Y);delete S.mfaInfo,delete S.mfaPendingCredential;const St=Object.assign(Object.assign({},S),{idToken:lt.idToken,refreshToken:lt.refreshToken});switch(g.operationType){case"signIn":const _t=yield Mn._fromIdTokenResponse(v,g.operationType,St);return yield v._updateCurrentUser(_t.user),_t;case"reauthenticate":return U(g.user,v,"internal-error"),Mn._forOperation(g.user,g.operationType,St);default:xe(v,"internal-error")}});return function(Ze){return he.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function $n(y,f){return Yt(y,"POST","/v2/accounts/mfaEnrollment:start",Wt(y,f))}class qi{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>wt._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new qi(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Ii._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var v=this;return(0,c.Z)(function*(){const S=f,P=yield v.getSession(),Y=yield tr(v.user,S._process(v.user.auth,P,g));return yield v.user._updateTokensIfNecessary(Y),v.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const v="string"==typeof f?f:f.uid,S=yield g.user.getIdToken(),P=yield tr(g.user,function Wu(y,f){return Yt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(y,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Y})=>Y!==v),yield g.user._updateTokensIfNecessary(P);try{yield g.user.reload()}catch(Y){if("auth/user-token-expired"!==Y.code)throw Y}})()}}const fo=new WeakMap,Qr="__sak";class Jr{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Qr,"1"),this.storage.removeItem(Qr),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ln=(()=>{class y extends Jr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yu(){const y=(0,F.z$)();return Jt(y)||rr(y)}()&&function zn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Vi(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const S=this.storage.getItem(v),P=this.localCache[v];S!==P&&g(v,P,S)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((he,Ze,lt)=>{this.notifyListeners(he,lt)});const S=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(S);if(g.newValue!==he)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!v)return}const P=()=>{const he=this.storage.getItem(S);!v&&this.localCache[S]===he||this.notifyListeners(S,he)},Y=this.storage.getItem(S);!function Io(){return(0,F.w1)()&&10===document.documentMode}()||Y===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,v){this.localCache[g]=v;const S=this.listeners[g];if(S)for(const P of Array.from(S))P(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var S=()=>super._set,P=this;return(0,c.Z)(function*(){yield S().call(P,g,v),P.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,S=this;return(0,c.Z)(function*(){const P=yield v().call(S,g);return S.localCache[g]=JSON.stringify(P),P})()}_remove(g){var v=()=>super._remove,S=this;return(0,c.Z)(function*(){yield v().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),pr=(()=>{class y extends Jr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return y.type="SESSION",y})();let E=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(P=>P.isListeningto(g));if(v)return v;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,c.Z)(function*(){const S=g,{eventId:P,eventType:Y,data:he}=S.data,Ze=v.handlersMap[Y];if(!(null==Ze?void 0:Ze.size))return;S.ports[0].postMessage({status:"ack",eventId:P,eventType:Y});const lt=Array.from(Ze).map(function(){var _t=(0,c.Z)(function*(qn){return qn(S.origin,he)});return function(qn){return _t.apply(this,arguments)}}()),St=yield function gr(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(lt);S.ports[0].postMessage({status:"done",eventId:P,eventType:Y,response:St})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function C(y="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return y+g}class M{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var S=this;return(0,c.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let Y,he;return new Promise((Ze,lt)=>{const St=C("",20);P.port1.start();const _t=setTimeout(()=>{lt(new Error("unsupported_event"))},v);he={messageChannel:P,onMessage(qn){const Ss=qn;if(Ss.data.eventId===St)switch(Ss.data.status){case"ack":clearTimeout(_t),Y=setTimeout(()=>{lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),Ze(Ss.data.response);break;default:clearTimeout(_t),clearTimeout(Y),lt(new Error("invalid_response"))}}},S.handlers.add(he),P.port1.addEventListener("message",he.onMessage),S.target.postMessage({eventType:f,eventId:St,data:g},[P.port2])}).finally(()=>{he&&S.removeMessageHandler(he)})})()}}function B(){return window}function Xe(){return void 0!==B().WorkerGlobalScope&&"function"==typeof B().importScripts}function Rn(){return(Rn=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Uo="firebaseLocalStorageDb",Bo="firebaseLocalStorage",sr="fbase_key";class Ws{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ea(y,f){return y.transaction([Bo],f?"readwrite":"readonly").objectStore(Bo)}function po(){const y=indexedDB.open(Uo,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(Bo,{keyPath:sr})}catch(S){g(S)}}),y.addEventListener("success",(0,c.Z)(function*(){const v=y.result;v.objectStoreNames.contains(Bo)?f(v):(v.close(),yield function Di(){const y=indexedDB.deleteDatabase(Uo);return new Ws(y).toPromise()}(),f(yield po()))}))})}function cu(y,f,g){return ws.apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(y,f,g){const v=Ea(y,!0).put({[sr]:f,value:g});return new Ws(v).toPromise()})).apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(y,f){const g=Ea(y,!1).get(f),v=yield new Ws(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function bs(y,f){const g=Ea(y,!0).delete(f);return new Ws(g).toPromise()}const zi=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield po()),g.db})()}_withRetries(g){var v=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const P=yield v._openDb();return yield g(P)}catch(P){if(S++>3)throw P;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Xe()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=E._getInstance(function zs(){return Xe()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(S,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(S,P){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(S,P){return["keyChanged"]});return function(S,P){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var v,S;if(g.activeServiceWorker=yield function Cn(){return Rn.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new M(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(v=P[0])||void 0===v?void 0:v.fulfilled)&&(null===(S=P[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function pt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield po();return yield cu(g,Qr,"1"),yield bs(g,Qr),!0}catch(g){}return!1})()}_withPendingWrite(g){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(P=>cu(P,g,v)),S.localCache[g]=v,S.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,c.Z)(function*(){const S=yield v._withRetries(P=>function Bl(y,f){return go.apply(this,arguments)}(P,g));return v.localCache[g]=S,S})()}_remove(g){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(S=>bs(S,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const v=yield g._withRetries(Y=>{const he=Ea(Y,!1).getAll();return new Ws(he).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const S=[],P=new Set;for(const{fbase_key:Y,value:he}of v)P.add(Y),JSON.stringify(g.localCache[Y])!==JSON.stringify(he)&&(g.notifyListeners(Y,he),S.push(Y));for(const Y of Object.keys(g.localCache))g.localCache[Y]&&!P.has(Y)&&(g.notifyListeners(Y,null),S.push(Y));return S})()}notifyListeners(g,v){this.localCache[g]=v;const S=this.listeners[g];if(S)for(const P of Array.from(S))P(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ia(y,f){return Yt(y,"POST","/v2/accounts/mfaSignIn:start",Wt(y,f))}function Wi(){return(Wi=(0,c.Z)(function*(y){return(yield Yt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wn(y){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=f,v.onerror=S=>{const P=Ce("internal-error");P.customData=S,g(P)},v.type="text/javascript",v.charset="UTF-8",function Wc(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(v)})}function jo(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Br=1e12;class Es{constructor(f){this.auth=f,this.counter=Br,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new Cs(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||Br;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Br))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var v;return null===(v=g._widgets.get(f||Br))||void 0===v||v.execute(),""})()}}class Cs{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;U(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gn(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ks=jo("rcb"),Kc=new Mt(3e4,6e4);class wp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!B().grecaptcha}load(f,g=""){return U(function bp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(B().grecaptcha):new Promise((v,S)=>{const P=B().setTimeout(()=>{S(Ce(f,"network-request-failed"))},Kc.get());B()[Ks]=()=>{B().clearTimeout(P),delete B()[Ks];const he=B().grecaptcha;if(!he)return void S(Ce(f,"internal-error"));const Ze=he.render;he.render=(lt,St)=>{const _t=Ze(lt,St);return this.counter++,_t},this.hostLanguage=g,v(he)},Wn(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Ks,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),S(Ce(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!B().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ep{load(f){return(0,c.Z)(function*(){return new Es(f)})()}clearedOneInstance(){}}const mo="recaptcha",yi={theme:"light",type:"image"};class Cp{constructor(f,g=Object.assign({},yi),v){this.parameters=g,this.type=mo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fe(v),this.isInvisible="invisible"===this.parameters.size,U("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;U(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ep:new wp,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(P=>{const Y=he=>{!he||(f.tokenChangeListeners.delete(Y),P(he))};f.tokenChangeListeners.add(Y),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=B()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){U(Tt()&&!Xe(),f.auth,"internal-error"),yield function yo(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Xr(y){return Wi.apply(this,arguments)}(f.auth);U(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ys{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=uo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Un(){return(Un=(0,c.Z)(function*(y,f,g){const v=Fe(y),S=yield jr(v,f,(0,F.m9)(g));return new Ys(S,P=>kn(v,P))})).apply(this,arguments)}function Ta(){return(Ta=(0,c.Z)(function*(y,f,g){const v=(0,F.m9)(y);yield Gi(!1,v,"phone");const S=yield jr(v.auth,f,(0,F.m9)(g));return new Ys(S,P=>fi(v,P))})).apply(this,arguments)}function $l(){return($l=(0,c.Z)(function*(y,f,g){const v=(0,F.m9)(y),S=yield jr(v.auth,f,(0,F.m9)(g));return new Ys(S,P=>fs(v,P))})).apply(this,arguments)}function jr(y,f,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(y,f,g){var v;const S=yield g.verify();try{let P;if(U("string"==typeof S,y,"argument-error"),U(g.type===mo,y,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const Y=P.session;if("phoneNumber"in P)return U("enroll"===Y.type,y,"internal-error"),(yield $n(y,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{U("signin"===Y.type,y,"internal-error");const he=(null===(v=P.multiFactorHint)||void 0===v?void 0:v.uid)||P.multiFactorUid;return U(he,y,"missing-multi-factor-info"),(yield Ia(y,{mfaPendingCredential:Y.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield jc(y,{phoneNumber:P.phoneNumber,recaptchaToken:S});return Y}}finally{g._reset()}})).apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(y,f){yield _n((0,F.m9)(y),f)})).apply(this,arguments)}let Yi=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Fe(g)}verifyPhoneNumber(g,v){return jr(this.auth,g,(0,F.m9)(v))}static credential(g,v){return uo._fromVerification(g,v)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:S}=g;return v&&S?uo._fromTokenResponse(v,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Is(y,f){return f?re(f):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class hu extends tn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Hn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Hn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Hn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Zl(y){return hi(y.auth,new hu(y),y.bypassAuthState)}function ql(y){const{auth:f,user:g}=y;return U(g,f,"internal-error"),$u(g,new hu(y),y.bypassAuthState)}function Zt(y){return zl.apply(this,arguments)}function zl(){return(zl=(0,c.Z)(function*(y){const{auth:f,user:g}=y;return U(g,f,"internal-error"),_n(g,new hu(y),y.bypassAuthState)})).apply(this,arguments)}class mr{constructor(f,g,v,S,P=!1){this.auth=f,this.resolver=v,this.user=S,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(v,S){f.pendingPromise={resolve:v,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(v,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:S,postBody:P,tenantId:Y,error:he,type:Ze}=f;if(he)return void g.reject(he);const lt={auth:g.auth,requestUri:v,sessionId:S,tenantId:Y||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ze)(lt))}catch(St){g.reject(St)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Zl;case"linkViaPopup":case"linkViaRedirect":return Zt;case"reauthViaPopup":case"reauthViaRedirect":return ql;default:xe(this.auth,"internal-error")}}resolve(f){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wl=new Mt(2e3,1e4);function Yc(){return(Yc=(0,c.Z)(function*(y,f,g){const v=Fe(y);ze(y,f,ls);const S=Is(v,g);return new Ts(v,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function Ju(){return(Ju=(0,c.Z)(function*(y,f,g){const v=(0,F.m9)(y);ze(v.auth,f,ls);const S=Is(v.auth,g);return new Ts(v.auth,"reauthViaPopup",f,S,v).executeNotNull()})).apply(this,arguments)}function Xu(){return(Xu=(0,c.Z)(function*(y,f,g){const v=(0,F.m9)(y);ze(v.auth,f,ls);const S=Is(v.auth,g);return new Ts(v.auth,"linkViaPopup",f,S,v).executeNotNull()})).apply(this,arguments)}let Ts=(()=>{class y extends mr{constructor(g,v,S,P,Y){super(g,v,P,Y),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const v=yield g.execute();return U(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,c.Z)(function*(){X(1===g.filter.length,"Popup operations only handle one event");const v=C();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Ce(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,S;this.pollId=(null===(S=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Wl.get())};g()}}return y.currentPopupAction=null,y})();const As=new Map;class yr extends mr{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let v=As.get(g.auth._key());if(!v){try{const P=(yield function Ai(y,f){return Kl.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(P)}catch(S){v=()=>Promise.reject(S)}As.set(g.auth._key(),v)}return g.bypassAuthState||As.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const S=yield v.auth._redirectUserForId(f.eventId);if(S)return v.user=S,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Kl(){return(Kl=(0,c.Z)(function*(y,f){const g=T(f),v=D(y);if(!(yield v._isAvailable()))return!1;const S="true"===(yield v._get(g));return yield v._remove(g),S})).apply(this,arguments)}function $o(y,f){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(y,f){return D(y)._set(T(f),"true")})).apply(this,arguments)}function D(y){return re(y._redirectPersistence)}function T(y){return ge("pendingRedirect",y.config.apiKey,y.name)}function J(){return(J=(0,c.Z)(function*(y,f,g){const v=Fe(y);ze(y,f,ls);const S=Is(v,g);return yield $o(S,v),S._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function Re(){return(Re=(0,c.Z)(function*(y,f,g){const v=(0,F.m9)(y);ze(v.auth,f,ls);const S=Is(v.auth,g);yield $o(S,v.auth);const P=yield Go(v);return S._openRedirect(v.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(y,f,g){const v=(0,F.m9)(y);ze(v.auth,f,ls);const S=Is(v.auth,g);yield Gi(!1,v,f.providerId),yield $o(S,v.auth);const P=yield Go(v);return S._openRedirect(v.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(y,f){return yield Fe(y)._initializationPromise,Zn(y,f,!1)})).apply(this,arguments)}function Zn(y,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(y,f,g=!1){const v=Fe(y),S=Is(v,f),Y=yield new yr(v,S,g).execute();return Y&&!g&&(delete Y.user._redirectEventId,yield v._persistUserIfCurrent(Y.user),yield v._setRedirectUser(null,f)),Y})).apply(this,arguments)}function Go(y){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(y){const f=C(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Qi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Yl(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jc(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!Jc(f)){const S=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(Ce(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zo(f))}saveEventToCache(f){this.cachedEventUids.add(Zo(f)),this.lastProcessedEventTime=Date.now()}}function Zo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Jc({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Ql(y){return fu.apply(this,arguments)}function fu(){return(fu=(0,c.Z)(function*(y,f={}){return Yt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Dp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lm=/^https?/;function Js(){return(Js=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Ql(y);for(const g of f)try{if(Jl(g))return}catch(v){}xe(y,"unauthorized-domain")})).apply(this,arguments)}function Jl(y){const f=Ve(),{protocol:g,hostname:v}=new URL(f);if(y.startsWith("chrome-extension://")){const Y=new URL(y);return""===Y.hostname&&""===v?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&Y.hostname===v}if(!Lm.test(g))return!1;if(Dp.test(y))return v===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(v)}const Um=new Mt(3e4,6e4);function Bm(){const y=B().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Xc=null;function jm(y){return Xc=Xc||function Tp(y){return new Promise((f,g)=>{var v,S,P;function Y(){Bm(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Bm(),g(Ce(y,"network-request-failed"))},timeout:Um.get()})}if(null===(S=null===(v=B().gapi)||void 0===v?void 0:v.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(P=B().gapi)||void 0===P?void 0:P.load)){const he=jo("iframefcb");return B()[he]=()=>{gapi.load?Y():g(Ce(y,"network-request-failed"))},Wn(`https://apis.google.com/js/api.js?onload=${he}`).catch(Ze=>g(Ze))}Y()}}).catch(f=>{throw Xc=null,f})}(y),Xc}const hh=new Mt(5e3,15e3),zo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ed=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pu(y){const f=y.config;U(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?En(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:y.name,v:le.SDK_VERSION},S=ed.get(y.config.apiHost);S&&(v.eid=S);const P=y._getFrameworks();return P.length&&(v.fw=P.join(",")),`${g}?${(0,F.xO)(v).slice(1)}`}function Wo(){return Wo=(0,c.Z)(function*(y){const f=yield jm(y),g=B().gapi;return U(g,y,"internal-error"),f.open({where:document.body,url:pu(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zo,dontclear:!0},v=>new Promise(function(){var S=(0,c.Z)(function*(P,Y){yield v.restyle({setHideOnLeave:!1});const he=Ce(y,"network-request-failed"),Ze=B().setTimeout(()=>{Y(he)},hh.get());function lt(){B().clearTimeout(Ze),P(v)}v.ping(lt).then(lt,()=>{Y(he)})});return function(P,Y){return S.apply(this,arguments)}}()))}),Wo.apply(this,arguments)}const $m={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function mh(y,f,g,v,S,P){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const Y={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:v,v:le.SDK_VERSION,eventId:S};if(f instanceof ls){f.setDefaultLanguage(y.languageCode),Y.providerId=f.providerId||"",(0,F.xb)(f.getCustomParameters())||(Y.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ze,lt]of Object.entries(P||{}))Y[Ze]=lt}if(f instanceof Fr){const Ze=f.getScopes().filter(lt=>""!==lt);Ze.length>0&&(Y.scopes=Ze.join(","))}y.tenantId&&(Y.tid=y.tenantId);const he=Y;for(const Ze of Object.keys(he))void 0===he[Ze]&&delete he[Ze];return`${function Zm({config:y}){return y.emulator?En(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(he).slice(1)}`}const vo="webStorageSupport";class yh extends class Ap{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return Ke("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new yh(f)}_finalizeEnroll(f,g,v){return function lu(y,f){return Yt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(y,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function du(y,f){return Yt(y,"POST","/v2/accounts/mfaSignIn:finalize",Wt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qm=(()=>{class y{constructor(){}static assertion(g){return yh._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var zm="@firebase/auth",_h="0.19.12";class Sp{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{var S;f((null===(S=v)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wo(){return window}function rl(){return(rl=(0,c.Z)(function*(y,f,g){var v;const{BuildInfo:S}=wo();X(f.sessionId,"AuthEvent did not contain a session ID");const P=yield gu(f.sessionId),Y={};return rr()?Y.ibi=S.packageName:wn()?Y.apn=S.packageName:xe(y,"operation-not-supported-in-this-environment"),S.displayName&&(Y.appDisplayName=S.displayName),Y.sessionId=P,mh(y,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,Y)})).apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(y){const{BuildInfo:f}=wo(),g={};rr()?g.iosBundleId=f.packageName:wn()?g.androidPackageName=f.packageName:xe(y,"operation-not-supported-in-this-environment"),yield Ql(y,g)})).apply(this,arguments)}function sd(){return(sd=(0,c.Z)(function*(y,f,g){const{cordova:v}=wo();let S=()=>{};try{yield new Promise((P,Y)=>{let he=null;function Ze(){var _t;P();const qn=null===(_t=v.plugins.browsertab)||void 0===_t?void 0:_t.close;"function"==typeof qn&&qn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function lt(){he||(he=window.setTimeout(()=>{Y(Ce(y,"redirect-cancelled-by-user"))},2e3))}function St(){"visible"===(null==document?void 0:document.visibilityState)&&lt()}f.addPassiveListener(Ze),document.addEventListener("resume",lt,!1),wn()&&document.addEventListener("visibilitychange",St,!1),S=()=>{f.removePassiveListener(Ze),document.removeEventListener("resume",lt,!1),document.removeEventListener("visibilitychange",St,!1),he&&window.clearTimeout(he)}})}finally{S()}})).apply(this,arguments)}function gu(y){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,c.Z)(function*(y){const f=il(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function il(y){if(X(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let v=0;v<y.length;v++)g[v]=y.charCodeAt(v);return g}!function Km(y){(0,le._registerComponent)(new de.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),{apiKey:P,authDomain:Y}=v.options;return((he,Ze)=>{U(P&&!P.includes(":"),"invalid-api-key",{appName:he.name}),U(!(null==Y?void 0:Y.includes(":")),"argument-error",{appName:he.name});const lt={apiKey:P,authDomain:Y,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Do(y)},St=new Et(he,Ze,lt);return function _e(y,f){const g=(null==f?void 0:f.persistence)||[],v=(Array.isArray(g)?g:[g]).map(re);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(v,null==f?void 0:f.popupRedirectResolver)}(St,g),St})(v,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new de.wA("auth-internal",f=>{const g=Fe(f.getProvider("auth").getImmediate());return new Sp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(zm,_h,function Wm(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(zm,_h,"esm2017")}("Browser");class Eh extends Qi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function tc(y){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(y){const f=yield rc()._get(Ih(y));return f&&(yield rc()._remove(Ih(y))),f})).apply(this,arguments)}function nc(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*f.length);y.push(f.charAt(v))}return y.join("")}function rc(){return re(Ln)}function Ih(y){return ge("authEvent",y.config.apiKey,y.name)}function ad(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...g]=y.split("?");return(0,F.zd)(g.join("?"))}function Sh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function ud(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Np(y=(0,F.z$)()){return!("file:"!==ud()&&"ionic:"!==ud()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hr(){try{const y=self.localStorage,f=C();if(y)return y.setItem(f,"1"),y.removeItem(f),!function ka(y=(0,F.z$)()){return function ey(){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ty(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch(y){return Ko()&&(0,F.hl)()}return!1}function Ko(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function oc(){return(function Xm(){return"http:"===ud()||"https:"===ud()}()||(0,F.ru)()||Np())&&!function ld(){return(0,F.b$)()||(0,F.UG)()}()&&Hr()&&!Ko()}function xh(){return Np()&&"undefined"!=typeof document}function mu(){return(mu=(0,c.Z)(function*(){return!!xh()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Xi={LOCAL:"local",NONE:"none",SESSION:"session"},yu=U,kh="persistence";function _u(y){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,c.Z)(function*(y){yield y._initializationPromise;const f=ac(),g=ge(kh,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function ac(){var y;try{return(null===(y=function Mh(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const ny=U;class xi{constructor(){this.browserResolver=re(class xa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pr,this._completeRedirectFn=Zn}_openPopup(f,g,v,S){var P=this;return(0,c.Z)(function*(){var Y;X(null===(Y=P.eventManagers[f._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const he=mh(f,g,v,Ve(),S);return function id(y,f,g,v=500,S=600){const P=Math.max((window.screen.availHeight-S)/2,0).toString(),Y=Math.max((window.screen.availWidth-v)/2,0).toString();let he="";const Ze=Object.assign(Object.assign({},$m),{width:v.toString(),height:S.toString(),top:P,left:Y}),lt=(0,F.z$)().toLowerCase();g&&(he=Er(lt)?"_blank":g),It(lt)&&(f=f||"http://localhost",Ze.scrollbars="yes");const St=Object.entries(Ze).reduce((qn,[Ss,lc])=>`${qn}${Ss}=${lc},`,"");if(function oo(y=(0,F.z$)()){var f;return rr(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(lt)&&"_self"!==he)return function gh(y,f){const g=document.createElement("a");g.href=y,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",he),new rd(null);const _t=window.open(f||"",he,St);U(_t,y,"popup-blocked");try{_t.focus()}catch(qn){}return new rd(_t)}(f,he,C())})()}_openRedirect(f,g,v,S){var P=this;return(0,c.Z)(function*(){return yield P._originValidation(f),function Se(y){B().location.href=y}(mh(f,g,v,Ve(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:P}=this.eventManagers[g];return S?Promise.resolve(S):(X(P,"If manager is not set, promise should be"),P)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const v=yield function Hm(y){return Wo.apply(this,arguments)}(f),S=new Qi(f);return v.register("authEvent",P=>(U(null==P?void 0:P.authEvent,f,"invalid-auth-event"),{status:S.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=v,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(vo,{type:vo},S=>{var P;const Y=null===(P=null==S?void 0:S[0])||void 0===P?void 0:P[vo];void 0!==Y&&g(!!Y),xe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Vm(y){return Js.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Vi()||Jt()||rr()}}),this.cordovaResolver=re(class Ah{constructor(){this._redirectPersistence=pr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zn}_initialize(f){var g=this;return(0,c.Z)(function*(){const v=f._key();let S=g.eventManagers.get(v);return S||(S=new Eh(f),g.eventManagers.set(v,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){xe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,S){var P=this;return(0,c.Z)(function*(){!function od(y){var f,g,v,S,P,Y,he,Ze,lt,St;const _t=wo();U("function"==typeof(null===(f=null==_t?void 0:_t.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(void 0!==(null===(g=null==_t?void 0:_t.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(P=null===(S=null===(v=null==_t?void 0:_t.cordova)||void 0===v?void 0:v.plugins)||void 0===S?void 0:S.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Ze=null===(he=null===(Y=null==_t?void 0:_t.cordova)||void 0===Y?void 0:Y.plugins)||void 0===he?void 0:he.browsertab)||void 0===Ze?void 0:Ze.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(St=null===(lt=null==_t?void 0:_t.cordova)||void 0===lt?void 0:lt.InAppBrowser)||void 0===St?void 0:St.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Y=yield P._initialize(f);yield Y.initialized(),Y.resetRedirect(),function el(){As.clear()}(),yield P._originValidation(f);const he=function Ch(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:nc(),postBody:null,tenantId:y.tenantId,error:Ce(y,"no-auth-event")}}(f,v,S);yield function Sw(y,f){return rc()._set(Ih(y),f)}(f,he);const Ze=yield function vh(y,f,g){return rl.apply(this,arguments)}(f,he,g),lt=yield function ec(y){const{cordova:f}=wo();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let S=null;v?f.plugins.browsertab.openUrl(y):S=f.InAppBrowser.open(y,function Vs(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(S)})})}(Ze);return function xp(y,f,g){return sd.apply(this,arguments)}(f,Y,lt)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function wh(y){return Ji.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:S,BuildInfo:P}=wo(),Y=setTimeout((0,c.Z)(function*(){yield tc(f),g.onEvent(Sh())}),500),he=function(){var St=(0,c.Z)(function*(_t){clearTimeout(Y);const qn=yield tc(f);let Ss=null;qn&&(null==_t?void 0:_t.url)&&(Ss=function Qm(y,f){var g,v;const S=function ic(y){const f=ad(y),g=f.link?decodeURIComponent(f.link):void 0,v=ad(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return ad(S).link||S||v||g||y}(f);if(S.includes("/__/auth/callback")){const P=ad(S),Y=P.firebaseError?function Dh(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(P.firebaseError)):null,he=null===(v=null===(g=null==Y?void 0:Y.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Ze=he?Ce(he):null;return Ze?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ze,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(qn,_t.url)),g.onEvent(Ss||Sh())});return function(qn){return St.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,he);const Ze=S,lt=`${P.packageName.toLowerCase()}://`;wo().handleOpenURL=function(){var St=(0,c.Z)(function*(_t){if(_t.toLowerCase().startsWith(lt)&&he({url:_t}),"function"==typeof Ze)try{Ze(_t)}catch(qn){console.error(qn)}});return function(_t){return St.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=pr,this._completeRedirectFn=Zn}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,S){var P=this;return(0,c.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,g,v,S)})()}_openRedirect(f,g,v,S){var P=this;return(0,c.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,g,v,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return xh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ny(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function ti(){return mu.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Pp(y){return y.unwrap()}function vu(y){return Fp(y)}function Fp(y){const{_tokenResponse:f}=y instanceof F.ZR?y.customData:y;if(!f)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Yi.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=So;break;case"facebook.com":v=Hs;break;case"github.com":v=ju;break;case"twitter.com":v=ua;break;default:const{oauthIdToken:S,oauthAccessToken:P,oauthTokenSecret:Y,pendingToken:he,nonce:Ze}=f;return P||Y||S||he?he?g.startsWith("saml.")?cs._create(g,he):Hi._fromParams({providerId:g,signInMethod:g,pendingToken:he,idToken:S,accessToken:P}):new lo(g).credential({idToken:S,accessToken:P,rawNonce:Ze}):null}return y instanceof F.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function $r(y,f){return f.catch(g=>{throw g instanceof F.ZR&&function iy(y,f){var g;const v=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new sy(y,function ba(y,f){var g;const v=(0,F.m9)(y),S=f;return U(f.customData.operationType,v,"argument-error"),U(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),Vo._fromError(v,S)}(y,f));else if(v){const S=Fp(f),P=f;S&&(P.credential=S,P.tenantId=v.tenantId||void 0,P.email=v.email||void 0,P.phoneNumber=v.phoneNumber||void 0)}}(y,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:vu(g),additionalUserInfo:Ir(g),user:Yo.getOrCreate(S)}})}function Rh(y,f){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,c.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>$r(y,g.confirm(v))}})).apply(this,arguments)}class sy{constructor(f,g){this.resolver=g,this.auth=function ry(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return $r(Pp(this.auth),this.resolver.resolveSignIn(f))}}class Yo{constructor(f){this._delegate=f,this.multiFactor=function Ku(y){const f=(0,F.m9)(y);return fo.has(f)||fo.set(f,qi._fromUser(f)),fo.get(f)}(f)}static getOrCreate(f){return Yo.USER_MAP.has(f)||Yo.USER_MAP.set(f,new Yo(f)),Yo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return $r(g.auth,fi(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,c.Z)(function*(){return Rh(v.auth,function Hl(y,f,g){return Ta.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return $r(g.auth,function Ds(y,f,g){return Xu.apply(this,arguments)}(g._delegate,f,xi))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield _u(Fe(g.auth)),function ut(y,f,g){return function kt(y,f,g){return Ht.apply(this,arguments)}(y,f,g)}(g._delegate,f,xi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return $r(g.auth,fs(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Rh(this.auth,function Ip(y,f,g){return $l.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return $r(this.auth,function Ho(y,f,g){return Ju.apply(this,arguments)}(this._delegate,f,xi))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield _u(Fe(g.auth)),function se(y,f,g){return function Ne(y,f,g){return Re.apply(this,arguments)}(y,f,g)}(g._delegate,f,xi)})()}sendEmailVerification(f){return function gi(y,f){return ru.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function xo(y,f){return Qa.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function va(y,f){return Lo((0,F.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Zu(y,f){return Lo((0,F.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Gl(y,f){return Qs.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Fo(y,f){return iu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Oo(y,f,g){return ho.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Yo.USER_MAP=new WeakMap;const uc=U;let Ph=(()=>{class y{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;uc(S,"invalid-api-key",{appName:g.name}),uc(S,"invalid-api-key",{appName:g.name});const P="undefined"!=typeof window?xi:void 0;this._delegate=v.initialize({options:{persistence:oy(S,g.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Yo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function yn(y,f,g){const v=Fe(y);U(v._canInitEmulator,v,"emulator-config-failed"),U(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),P=dr(f),{host:Y,port:he}=function ss(y){const f=dr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(v);if(S){const P=S[1];return{host:P,port:jn(v.substr(P.length+1))}}{const[P,Y]=v.split(":");return{host:P,port:jn(Y)}}}(f);v.config.emulator={url:`${P}//${Y}${null===he?"":`:${he}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:Y,port:he,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Wr(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,v)}applyActionCode(g){return function Xa(y,f){return Ae.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Rt(this._delegate,g)}confirmPasswordReset(g,v){return function Gs(y,f,g){return Ja.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var S=this;return(0,c.Z)(function*(){return $r(S._delegate,function Zs(y,f,g){return Mr.apply(this,arguments)}(S._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ya(y,f){return ys.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function nu(y,f){const g=js.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){uc(oc(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function Ot(y,f){return or.apply(this,arguments)}(g._delegate,xi);return v?$r(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function kp(y,f){Fe(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,S){const{next:P,error:Y,complete:he}=Fh(g,v,S);return this._delegate.onAuthStateChanged(P,Y,he)}onIdTokenChanged(g,v,S){const{next:P,error:Y,complete:he}=Fh(g,v,S);return this._delegate.onIdTokenChanged(P,Y,he)}sendSignInLinkToEmail(g,v){return function tu(y,f,g){return Gu.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function Ro(y,f,g){return pa.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,c.Z)(function*(){let S;switch(function Rp(y,f){yu(Object.values(Xi).includes(f),y,"invalid-persistence-type"),(0,F.b$)()?yu(f!==Xi.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?yu(f===Xi.NONE,y,"unsupported-persistence-type"):Ko()?yu(f===Xi.NONE||f===Xi.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):yu(f===Xi.NONE||Hr(),y,"unsupported-persistence-type")}(v._delegate,g),g){case Xi.SESSION:S=pr;break;case Xi.LOCAL:S=(yield re(zi)._isAvailable())?zi:Ln;break;case Xi.NONE:S=W;break;default:return xe("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return $r(this._delegate,function ca(y){return Hu.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return $r(this._delegate,kn(this._delegate,g))}signInWithCustomToken(g){return $r(this._delegate,function ps(y,f){return gs.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return $r(this._delegate,function ga(y,f,g){return kn((0,F.m9)(y),Ya.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return $r(this._delegate,function ma(y,f,g){return ms.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return Rh(this._delegate,function Qu(y,f,g){return Un.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,c.Z)(function*(){return uc(oc(),v._delegate,"operation-not-supported-in-this-environment"),$r(v._delegate,function _o(y,f,g){return Yc.apply(this,arguments)}(v._delegate,g,xi))})()}signInWithRedirect(g){var v=this;return(0,c.Z)(function*(){return uc(oc(),v._delegate,"operation-not-supported-in-this-environment"),yield _u(v._delegate),function N(y,f,g){return function j(y,f,g){return J.apply(this,arguments)}(y,f,g)}(v._delegate,g,xi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function In(y,f){return co.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Xi,y})();function Fh(y,f,g){let v=y;"function"!=typeof y&&({next:v,error:f,complete:g}=y);const S=v;return{next:Y=>S(Y&&Yo.getOrCreate(Y)),error:f,complete:g}}function oy(y,f){const g=function Op(y,f){const g=ac();if(!g)return[];const v=ge(kh,y,f);switch(g.getItem(v)){case Xi.NONE:return[W];case Xi.LOCAL:return[zi,pr];case Xi.SESSION:return[pr];default:return[]}}(y,f);if("undefined"!=typeof self&&!g.includes(zi)&&g.push(zi),"undefined"!=typeof window)for(const v of[Ln,pr])g.includes(v)||g.push(v);return g.includes(W)||g.push(W),g}class Lh{constructor(){this.providerId="phone",this._delegate=new Yi(Pp(Q.Z.auth()))}static credential(f,g){return Yi.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Lh.PHONE_SIGN_IN_METHOD=Yi.PHONE_SIGN_IN_METHOD,Lh.PROVIDER_ID=Yi.PROVIDER_ID;const ay=U;class uy{constructor(f,g,v=Q.Z.app()){var S;ay(null===(S=v.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Cp(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Lp(y){y.INTERNAL.registerComponent(new de.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new Ph(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ya,FacebookAuthProvider:Hs,GithubAuthProvider:ju,GoogleAuthProvider:So,OAuthProvider:lo,SAMLAuthProvider:Lr,PhoneAuthProvider:Lh,PhoneMultiFactorGenerator:qm,RecaptchaVerifier:uy,TwitterAuthProvider:ua,Auth:Ph,AuthCredential:tn,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.12")}(Q.Z)},8306:(gt,Te,L)=>{"use strict";L.d(Te,{y:()=>Z});var c=L(2961),Q=L(727),F=L(8822),le=L(4671);var de=L(2416),pe=L(576),fe=L(2806);let Z=(()=>{class ke{constructor(je){je&&(this._subscribe=je)}lift(je){const ye=new ke;return ye.source=this,ye.operator=je,ye}subscribe(je,ye,Ie){const it=function qe(ke){return ke&&ke instanceof c.Lv||function ne(ke){return ke&&(0,pe.m)(ke.next)&&(0,pe.m)(ke.error)&&(0,pe.m)(ke.complete)}(ke)&&(0,Q.Nn)(ke)}(je)?je:new c.Hp(je,ye,Ie);return(0,fe.x)(()=>{const{operator:et,source:xe}=this;it.add(et?et.call(it,xe):xe?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(je){try{return this._subscribe(je)}catch(ye){je.error(ye)}}forEach(je,ye){return new(ye=q(ye))((Ie,it)=>{const et=new c.Hp({next:xe=>{try{je(xe)}catch(Ce){it(Ce),et.unsubscribe()}},error:it,complete:Ie});this.subscribe(et)})}_subscribe(je){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(je)}[F.L](){return this}pipe(...je){return function ve(ke){return 0===ke.length?le.y:1===ke.length?ke[0]:function(je){return ke.reduce((ye,Ie)=>Ie(ye),je)}}(je)(this)}toPromise(je){return new(je=q(je))((ye,Ie)=>{let it;this.subscribe(et=>it=et,et=>Ie(et),()=>ye(it))})}}return ke.create=Pe=>new ke(Pe),ke})();function q(ke){var Pe;return null!==(Pe=null!=ke?ke:de.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(gt,Te,L)=>{"use strict";L.d(Te,{x:()=>de});var c=L(8306),Q=L(727);const le=(0,L(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=L(8737),ve=L(2806);let de=(()=>{class fe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ne=new pe(this,this);return ne.operator=q,ne}_throwIfClosed(){if(this.closed)throw new le}next(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(q)}})}error(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ne}=this;for(;ne.length;)ne.shift().error(q)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ne,isStopped:qe,observers:ke}=this;return ne||qe?Q.Lc:(this.currentObservers=null,ke.push(q),new Q.w0(()=>{this.currentObservers=null,(0,ie.P)(ke,q)}))}_checkFinalizedStatuses(q){const{hasError:ne,thrownError:qe,isStopped:ke}=this;ne?q.error(qe):ke&&q.complete()}asObservable(){const q=new c.y;return q.source=this,q}}return fe.create=(Z,q)=>new pe(Z,q),fe})();class pe extends de{constructor(Z,q){super(),this.destination=Z,this.source=q}next(Z){var q,ne;null===(ne=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ne||ne.call(q,Z)}error(Z){var q,ne;null===(ne=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ne||ne.call(q,Z)}complete(){var Z,q;null===(q=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===q||q.call(Z)}_subscribe(Z){var q,ne;return null!==(ne=null===(q=this.source)||void 0===q?void 0:q.subscribe(Z))&&void 0!==ne?ne:Q.Lc}}},2961:(gt,Te,L)=>{"use strict";L.d(Te,{Hp:()=>je,Lv:()=>ne});var c=L(576),Q=L(727),F=L(2416),le=L(7849);function ie(){}const ve=fe("C",void 0,void 0);function fe(xe,Ce,De){return{kind:xe,value:Ce,error:De}}var Z=L(3410),q=L(2806);class ne extends Q.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,Q.Nn)(Ce)&&Ce.add(this)):this.destination=et}static create(Ce,De,ze){return new je(Ce,De,ze)}next(Ce){this.isStopped?it(function pe(xe){return fe("N",xe,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?it(function de(xe){return fe("E",void 0,xe)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?it(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function ke(xe,Ce){return qe.call(xe,Ce)}class Pe{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:De}=this;if(De.next)try{De.next(Ce)}catch(ze){ye(ze)}}error(Ce){const{partialObserver:De}=this;if(De.error)try{De.error(Ce)}catch(ze){ye(ze)}else ye(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(De){ye(De)}}}class je extends ne{constructor(Ce,De,ze){let Ge;if(super(),(0,c.m)(Ce)||!Ce)Ge={next:null!=Ce?Ce:void 0,error:null!=De?De:void 0,complete:null!=ze?ze:void 0};else{let U;this&&F.v.useDeprecatedNextContext?(U=Object.create(Ce),U.unsubscribe=()=>this.unsubscribe(),Ge={next:Ce.next&&ke(Ce.next,U),error:Ce.error&&ke(Ce.error,U),complete:Ce.complete&&ke(Ce.complete,U)}):Ge=Ce}this.destination=new Pe(Ge)}}function ye(xe){F.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(xe):(0,le.h)(xe)}function it(xe,Ce){const{onStoppedNotification:De}=F.v;De&&Z.z.setTimeout(()=>De(xe,Ce))}const et={closed:!0,next:ie,error:function Ie(xe){throw xe},complete:ie}},727:(gt,Te,L)=>{"use strict";L.d(Te,{Lc:()=>ve,w0:()=>ie,Nn:()=>de});var c=L(576);const F=(0,L(3888).d)(fe=>function(q){fe(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ne,qe)=>`${qe+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var le=L(8737);class ie{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const ke of q)ke.remove(this);else q.remove(this);const{initialTeardown:ne}=this;if((0,c.m)(ne))try{ne()}catch(ke){Z=ke instanceof F?ke.errors:[ke]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const ke of qe)try{pe(ke)}catch(Pe){Z=null!=Z?Z:[],Pe instanceof F?Z=[...Z,...Pe.errors]:Z.push(Pe)}}if(Z)throw new F(Z)}}add(Z){var q;if(Z&&Z!==this)if(this.closed)pe(Z);else{if(Z instanceof ie){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(Z)}}_hasParent(Z){const{_parentage:q}=this;return q===Z||Array.isArray(q)&&q.includes(Z)}_addParent(Z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(Z),q):q?[q,Z]:Z}_removeParent(Z){const{_parentage:q}=this;q===Z?this._parentage=null:Array.isArray(q)&&(0,le.P)(q,Z)}remove(Z){const{_finalizers:q}=this;q&&(0,le.P)(q,Z),Z instanceof ie&&Z._removeParent(this)}}ie.EMPTY=(()=>{const fe=new ie;return fe.closed=!0,fe})();const ve=ie.EMPTY;function de(fe){return fe instanceof ie||fe&&"closed"in fe&&(0,c.m)(fe.remove)&&(0,c.m)(fe.add)&&(0,c.m)(fe.unsubscribe)}function pe(fe){(0,c.m)(fe)?fe():fe.unsubscribe()}},2416:(gt,Te,L)=>{"use strict";L.d(Te,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(gt,Te,L)=>{"use strict";L.d(Te,{E:()=>Q});const Q=new(L(8306).y)(ie=>ie.complete())},8996:(gt,Te,L)=>{"use strict";L.d(Te,{D:()=>Ce});var c=L(8421),Q=L(5363),F=L(9468),ve=L(8306),pe=L(2202),fe=L(576),Z=L(9672);function ne(De,ze){if(!De)throw new Error("Iterable cannot be null");return new ve.y(Ge=>{(0,Z.f)(Ge,ze,()=>{const U=De[Symbol.asyncIterator]();(0,Z.f)(Ge,ze,()=>{U.next().then(Ke=>{Ke.done?Ge.complete():Ge.next(Ke.value)})},0,!0)})})}var qe=L(3670),ke=L(8239),Pe=L(1144),je=L(6495),ye=L(2206),Ie=L(4532),it=L(3260);function Ce(De,ze){return ze?function xe(De,ze){if(null!=De){if((0,qe.c)(De))return function le(De,ze){return(0,c.Xf)(De).pipe((0,F.R)(ze),(0,Q.Q)(ze))}(De,ze);if((0,Pe.z)(De))return function de(De,ze){return new ve.y(Ge=>{let U=0;return ze.schedule(function(){U===De.length?Ge.complete():(Ge.next(De[U++]),Ge.closed||this.schedule())})})}(De,ze);if((0,ke.t)(De))return function ie(De,ze){return(0,c.Xf)(De).pipe((0,F.R)(ze),(0,Q.Q)(ze))}(De,ze);if((0,ye.D)(De))return ne(De,ze);if((0,je.T)(De))return function q(De,ze){return new ve.y(Ge=>{let U;return(0,Z.f)(Ge,ze,()=>{U=De[pe.h](),(0,Z.f)(Ge,ze,()=>{let Ke,X;try{({value:Ke,done:X}=U.next())}catch(ce){return void Ge.error(ce)}X?Ge.complete():Ge.next(Ke)},0,!0)}),()=>(0,fe.m)(null==U?void 0:U.return)&&U.return()})}(De,ze);if((0,it.L)(De))return function et(De,ze){return ne((0,it.Q)(De),ze)}(De,ze)}throw(0,Ie.z)(De)}(De,ze):(0,c.Xf)(De)}},8421:(gt,Te,L)=>{"use strict";L.d(Te,{Xf:()=>qe});var c=L(655),Q=L(1144),F=L(8239),le=L(8306),ie=L(3670),ve=L(2206),de=L(4532),pe=L(6495),fe=L(3260),Z=L(576),q=L(7849),ne=L(8822);function qe(xe){if(xe instanceof le.y)return xe;if(null!=xe){if((0,ie.c)(xe))return function ke(xe){return new le.y(Ce=>{const De=xe[ne.L]();if((0,Z.m)(De.subscribe))return De.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,Q.z)(xe))return function Pe(xe){return new le.y(Ce=>{for(let De=0;De<xe.length&&!Ce.closed;De++)Ce.next(xe[De]);Ce.complete()})}(xe);if((0,F.t)(xe))return function je(xe){return new le.y(Ce=>{xe.then(De=>{Ce.closed||(Ce.next(De),Ce.complete())},De=>Ce.error(De)).then(null,q.h)})}(xe);if((0,ve.D)(xe))return Ie(xe);if((0,pe.T)(xe))return function ye(xe){return new le.y(Ce=>{for(const De of xe)if(Ce.next(De),Ce.closed)return;Ce.complete()})}(xe);if((0,fe.L)(xe))return function it(xe){return Ie((0,fe.Q)(xe))}(xe)}throw(0,de.z)(xe)}function Ie(xe){return new le.y(Ce=>{(function et(xe,Ce){var De,ze,Ge,U;return(0,c.mG)(this,void 0,void 0,function*(){try{for(De=(0,c.KL)(xe);!(ze=yield De.next()).done;)if(Ce.next(ze.value),Ce.closed)return}catch(Ke){Ge={error:Ke}}finally{try{ze&&!ze.done&&(U=De.return)&&(yield U.call(De))}finally{if(Ge)throw Ge.error}}Ce.complete()})})(xe,Ce).catch(De=>Ce.error(De))})}},6451:(gt,Te,L)=>{"use strict";L.d(Te,{T:()=>ve});var c=L(8189),Q=L(8421),F=L(515),le=L(7669),ie=L(8996);function ve(...de){const pe=(0,le.yG)(de),fe=(0,le._6)(de,1/0),Z=de;return Z.length?1===Z.length?(0,Q.Xf)(Z[0]):(0,c.J)(fe)((0,ie.D)(Z,pe)):F.E}},5403:(gt,Te,L)=>{"use strict";L.d(Te,{x:()=>Q});var c=L(2961);function Q(le,ie,ve,de,pe){return new F(le,ie,ve,de,pe)}class F extends c.Lv{constructor(ie,ve,de,pe,fe,Z){super(ie),this.onFinalize=fe,this.shouldUnsubscribe=Z,this._next=ve?function(q){try{ve(q)}catch(ne){ie.error(ne)}}:super._next,this._error=pe?function(q){try{pe(q)}catch(ne){ie.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(q){ie.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(gt,Te,L)=>{"use strict";L.d(Te,{U:()=>F});var c=L(4482),Q=L(5403);function F(le,ie){return(0,c.e)((ve,de)=>{let pe=0;ve.subscribe((0,Q.x)(de,fe=>{de.next(le.call(ie,fe,pe++))}))})}},8189:(gt,Te,L)=>{"use strict";L.d(Te,{J:()=>F});var c=L(5577),Q=L(4671);function F(le=1/0){return(0,c.z)(Q.y,le)}},5577:(gt,Te,L)=>{"use strict";L.d(Te,{z:()=>pe});var c=L(4004),Q=L(8421),F=L(4482),le=L(9672),ie=L(5403),de=L(576);function pe(fe,Z,q=1/0){return(0,de.m)(Z)?pe((ne,qe)=>(0,c.U)((ke,Pe)=>Z(ne,ke,qe,Pe))((0,Q.Xf)(fe(ne,qe))),q):("number"==typeof Z&&(q=Z),(0,F.e)((ne,qe)=>function ve(fe,Z,q,ne,qe,ke,Pe,je){const ye=[];let Ie=0,it=0,et=!1;const xe=()=>{et&&!ye.length&&!Ie&&Z.complete()},Ce=ze=>Ie<ne?De(ze):ye.push(ze),De=ze=>{ke&&Z.next(ze),Ie++;let Ge=!1;(0,Q.Xf)(q(ze,it++)).subscribe((0,ie.x)(Z,U=>{null==qe||qe(U),ke?Ce(U):Z.next(U)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Ie--;ye.length&&Ie<ne;){const U=ye.shift();Pe?(0,le.f)(Z,Pe,()=>De(U)):De(U)}xe()}catch(U){Z.error(U)}}))};return fe.subscribe((0,ie.x)(Z,Ce,()=>{et=!0,xe()})),()=>{null==je||je()}}(ne,qe,fe,q)))}},5363:(gt,Te,L)=>{"use strict";L.d(Te,{Q:()=>le});var c=L(9672),Q=L(4482),F=L(5403);function le(ie,ve=0){return(0,Q.e)((de,pe)=>{de.subscribe((0,F.x)(pe,fe=>(0,c.f)(pe,ie,()=>pe.next(fe),ve),()=>(0,c.f)(pe,ie,()=>pe.complete(),ve),fe=>(0,c.f)(pe,ie,()=>pe.error(fe),ve)))})}},3099:(gt,Te,L)=>{"use strict";L.d(Te,{B:()=>ve});var c=L(8996),Q=L(5698),F=L(7579),le=L(2961),ie=L(4482);function ve(pe={}){const{connector:fe=(()=>new F.x),resetOnError:Z=!0,resetOnComplete:q=!0,resetOnRefCountZero:ne=!0}=pe;return qe=>{let ke=null,Pe=null,je=null,ye=0,Ie=!1,it=!1;const et=()=>{null==Pe||Pe.unsubscribe(),Pe=null},xe=()=>{et(),ke=je=null,Ie=it=!1},Ce=()=>{const De=ke;xe(),null==De||De.unsubscribe()};return(0,ie.e)((De,ze)=>{ye++,!it&&!Ie&&et();const Ge=je=null!=je?je:fe();ze.add(()=>{ye--,0===ye&&!it&&!Ie&&(Pe=de(Ce,ne))}),Ge.subscribe(ze),ke||(ke=new le.Hp({next:U=>Ge.next(U),error:U=>{it=!0,et(),Pe=de(xe,Z,U),Ge.error(U)},complete:()=>{Ie=!0,et(),Pe=de(xe,q),Ge.complete()}}),(0,c.D)(De).subscribe(ke))})(qe)}}function de(pe,fe,...Z){return!0===fe?(pe(),null):!1===fe?null:fe(...Z).pipe((0,Q.q)(1)).subscribe(()=>pe())}},9468:(gt,Te,L)=>{"use strict";L.d(Te,{R:()=>Q});var c=L(4482);function Q(F,le=0){return(0,c.e)((ie,ve)=>{ve.add(F.schedule(()=>ie.subscribe(ve),le))})}},5698:(gt,Te,L)=>{"use strict";L.d(Te,{q:()=>le});var c=L(515),Q=L(4482),F=L(5403);function le(ie){return ie<=0?()=>c.E:(0,Q.e)((ve,de)=>{let pe=0;ve.subscribe((0,F.x)(de,fe=>{++pe<=ie&&(de.next(fe),ie<=pe&&de.complete())}))})}},8505:(gt,Te,L)=>{"use strict";L.d(Te,{b:()=>ie});var c=L(576),Q=L(4482),F=L(5403),le=L(4671);function ie(ve,de,pe){const fe=(0,c.m)(ve)||de||pe?{next:ve,error:de,complete:pe}:ve;return fe?(0,Q.e)((Z,q)=>{var ne;null===(ne=fe.subscribe)||void 0===ne||ne.call(fe);let qe=!0;Z.subscribe((0,F.x)(q,ke=>{var Pe;null===(Pe=fe.next)||void 0===Pe||Pe.call(fe,ke),q.next(ke)},()=>{var ke;qe=!1,null===(ke=fe.complete)||void 0===ke||ke.call(fe),q.complete()},ke=>{var Pe;qe=!1,null===(Pe=fe.error)||void 0===Pe||Pe.call(fe,ke),q.error(ke)},()=>{var ke,Pe;qe&&(null===(ke=fe.unsubscribe)||void 0===ke||ke.call(fe)),null===(Pe=fe.finalize)||void 0===Pe||Pe.call(fe)}))}):le.y}},4408:(gt,Te,L)=>{"use strict";L.d(Te,{o:()=>ie});var c=L(727);class Q extends c.w0{constructor(de,pe){super()}schedule(de,pe=0){return this}}const F={setInterval(ve,de,...pe){const{delegate:fe}=F;return(null==fe?void 0:fe.setInterval)?fe.setInterval(ve,de,...pe):setInterval(ve,de,...pe)},clearInterval(ve){const{delegate:de}=F;return((null==de?void 0:de.clearInterval)||clearInterval)(ve)},delegate:void 0};var le=L(8737);class ie extends Q{constructor(de,pe){super(de,pe),this.scheduler=de,this.work=pe,this.pending=!1}schedule(de,pe=0){if(this.closed)return this;this.state=de;const fe=this.id,Z=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(Z,fe,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(Z,this.id,pe),this}requestAsyncId(de,pe,fe=0){return F.setInterval(de.flush.bind(de,this),fe)}recycleAsyncId(de,pe,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return pe;F.clearInterval(pe)}execute(de,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(de,pe);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,pe){let Z,fe=!1;try{this.work(de)}catch(q){fe=!0,Z=q||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:de,scheduler:pe}=this,{actions:fe}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(fe,this),null!=de&&(this.id=this.recycleAsyncId(pe,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(gt,Te,L)=>{"use strict";L.d(Te,{v:()=>F});var c=L(6063);class Q{constructor(ie,ve=Q.now){this.schedulerActionCtor=ie,this.now=ve}schedule(ie,ve=0,de){return new this.schedulerActionCtor(this,ie).schedule(de,ve)}}Q.now=c.l.now;class F extends Q{constructor(ie,ve=Q.now){super(ie,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:ve}=this;if(this._active)return void ve.push(ie);let de;this._active=!0;do{if(de=ie.execute(ie.state,ie.delay))break}while(ie=ve.shift());if(this._active=!1,de){for(;ie=ve.shift();)ie.unsubscribe();throw de}}}},4986:(gt,Te,L)=>{"use strict";L.d(Te,{z:()=>F});var c=L(4408);const F=new(L(7565).v)(c.o)},6063:(gt,Te,L)=>{"use strict";L.d(Te,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(gt,Te,L)=>{"use strict";L.d(Te,{z:()=>c});const c={setTimeout(Q,F,...le){const{delegate:ie}=c;return(null==ie?void 0:ie.setTimeout)?ie.setTimeout(Q,F,...le):setTimeout(Q,F,...le)},clearTimeout(Q){const{delegate:F}=c;return((null==F?void 0:F.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},2202:(gt,Te,L)=>{"use strict";L.d(Te,{h:()=>Q});const Q=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,Te,L)=>{"use strict";L.d(Te,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(gt,Te,L)=>{"use strict";L.d(Te,{_6:()=>ve,jO:()=>le,yG:()=>ie});var c=L(576);function F(de){return de[de.length-1]}function le(de){return(0,c.m)(F(de))?de.pop():void 0}function ie(de){return function Q(de){return de&&(0,c.m)(de.schedule)}(F(de))?de.pop():void 0}function ve(de,pe){return"number"==typeof F(de)?de.pop():pe}},8737:(gt,Te,L)=>{"use strict";function c(Q,F){if(Q){const le=Q.indexOf(F);0<=le&&Q.splice(le,1)}}L.d(Te,{P:()=>c})},3888:(gt,Te,L)=>{"use strict";function c(Q){const le=Q(ie=>{Error.call(ie),ie.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}L.d(Te,{d:()=>c})},2806:(gt,Te,L)=>{"use strict";L.d(Te,{O:()=>le,x:()=>F});var c=L(2416);let Q=null;function F(ie){if(c.v.useDeprecatedSynchronousErrorHandling){const ve=!Q;if(ve&&(Q={errorThrown:!1,error:null}),ie(),ve){const{errorThrown:de,error:pe}=Q;if(Q=null,de)throw pe}}else ie()}function le(ie){c.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ie)}},9672:(gt,Te,L)=>{"use strict";function c(Q,F,le,ie=0,ve=!1){const de=F.schedule(function(){le(),ve?Q.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(Q.add(de),!ve)return de}L.d(Te,{f:()=>c})},4671:(gt,Te,L)=>{"use strict";function c(Q){return Q}L.d(Te,{y:()=>c})},1144:(gt,Te,L)=>{"use strict";L.d(Te,{z:()=>c});const c=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(gt,Te,L)=>{"use strict";L.d(Te,{D:()=>Q});var c=L(576);function Q(F){return Symbol.asyncIterator&&(0,c.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(gt,Te,L)=>{"use strict";function c(Q){return"function"==typeof Q}L.d(Te,{m:()=>c})},3670:(gt,Te,L)=>{"use strict";L.d(Te,{c:()=>F});var c=L(8822),Q=L(576);function F(le){return(0,Q.m)(le[c.L])}},6495:(gt,Te,L)=>{"use strict";L.d(Te,{T:()=>F});var c=L(2202),Q=L(576);function F(le){return(0,Q.m)(null==le?void 0:le[c.h])}},8239:(gt,Te,L)=>{"use strict";L.d(Te,{t:()=>Q});var c=L(576);function Q(F){return(0,c.m)(null==F?void 0:F.then)}},3260:(gt,Te,L)=>{"use strict";L.d(Te,{L:()=>le,Q:()=>F});var c=L(655),Q=L(576);function F(ie){return(0,c.FC)(this,arguments,function*(){const de=ie.getReader();try{for(;;){const{value:pe,done:fe}=yield(0,c.qq)(de.read());if(fe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(pe)}}finally{de.releaseLock()}})}function le(ie){return(0,Q.m)(null==ie?void 0:ie.getReader)}},4482:(gt,Te,L)=>{"use strict";L.d(Te,{A:()=>Q,e:()=>F});var c=L(576);function Q(le){return(0,c.m)(null==le?void 0:le.lift)}function F(le){return ie=>{if(Q(ie))return ie.lift(function(ve){try{return le(ve,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(gt,Te,L)=>{"use strict";L.d(Te,{h:()=>F});var c=L(2416),Q=L(3410);function F(le){Q.z.setTimeout(()=>{const{onUnhandledError:ie}=c.v;if(!ie)throw le;ie(le)})}},4532:(gt,Te,L)=>{"use strict";function c(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Te,{z:()=>c})},5226:function(gt){gt.exports=function(){"use strict";const Te="SweetAlert2:",c=E=>E.charAt(0).toUpperCase()+E.slice(1),Q=E=>Array.prototype.slice.call(E),F=E=>{console.warn("".concat(Te," ").concat("object"==typeof E?E.join(" "):E))},le=E=>{console.error("".concat(Te," ").concat(E))},ie=[],de=(E,C)=>{(E=>{ie.includes(E)||(ie.push(E),F(E))})('"'.concat(E,'" is deprecated and will be removed in the next major release. Please use "').concat(C,'" instead.'))},pe=E=>"function"==typeof E?E():E,fe=E=>E&&"function"==typeof E.toPromise,Z=E=>fe(E)?E.toPromise():Promise.resolve(E),q=E=>E&&Promise.resolve(E)===E,qe={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ke=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Pe={},je=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ye=E=>Object.prototype.hasOwnProperty.call(qe,E),Ie=E=>-1!==ke.indexOf(E),it=E=>Pe[E],et=E=>{ye(E)||F('Unknown parameter "'.concat(E,'"'))},xe=E=>{je.includes(E)&&F('The parameter "'.concat(E,'" is incompatible with toasts'))},Ce=E=>{it(E)&&de(E,it(E))},Ge=E=>{const C={};for(const M in E)C[E[M]]="swal2-"+E[M];return C},U=Ge(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),Ke=Ge(["success","warning","info","question","error"]),X=()=>document.body.querySelector(".".concat(U.container)),ce=E=>{const C=X();return C?C.querySelector(E):null},re=E=>ce(".".concat(E)),ae=()=>re(U.popup),_e=()=>re(U.icon),Ve=()=>re(U.title),Tt=()=>re(U["html-container"]),Qt=()=>re(U.image),un=()=>re(U["progress-steps"]),We=()=>re(U["validation-message"]),Mt=()=>ce(".".concat(U.actions," .").concat(U.confirm)),En=()=>ce(".".concat(U.actions," .").concat(U.deny)),zt=()=>ce(".".concat(U.loader)),Qn=()=>ce(".".concat(U.actions," .").concat(U.cancel)),Wt=()=>re(U.actions),Yt=()=>re(U.footer),Bn=()=>re(U["timer-progress-bar"]),Ar=()=>re(U.close),lr=()=>{const E=Q(ae().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((M,B)=>{const Se=parseInt(M.getAttribute("tabindex")),Xe=parseInt(B.getAttribute("tabindex"));return Se>Xe?1:Se<Xe?-1:0}),C=Q(ae().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(M=>"-1"!==M.getAttribute("tabindex"));return(E=>{const C=[];for(let M=0;M<E.length;M++)-1===C.indexOf(E[M])&&C.push(E[M]);return C})(E.concat(C)).filter(M=>At(M))},qr=()=>Sn(document.body,U.shown)&&!Sn(document.body,U["toast-shown"])&&!Sn(document.body,U["no-backdrop"]),Jn=()=>ae()&&Sn(ae(),U.toast),Sr={previousBodyPadding:null},rt=(E,C)=>{if(E.textContent="",C){const B=(new DOMParser).parseFromString(C,"text/html");Q(B.querySelector("head").childNodes).forEach(Se=>{E.appendChild(Se)}),Q(B.querySelector("body").childNodes).forEach(Se=>{E.appendChild(Se)})}},Sn=(E,C)=>{if(!C)return!1;const M=C.split(/\s+/);for(let B=0;B<M.length;B++)if(!E.classList.contains(M[B]))return!1;return!0},ln=(E,C,M)=>{if(((E,C)=>{Q(E.classList).forEach(M=>{!Object.values(U).includes(M)&&!Object.values(Ke).includes(M)&&!Object.values(C.showClass).includes(M)&&E.classList.remove(M)})})(E,C),C.customClass&&C.customClass[M]){if("string"!=typeof C.customClass[M]&&!C.customClass[M].forEach)return F("Invalid type of customClass.".concat(M,'! Expected string or iterable object, got "').concat(typeof C.customClass[M],'"'));bt(E,C.customClass[M])}},xr=(E,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return E.querySelector(".".concat(U.popup," > .").concat(U[C]));case"checkbox":return E.querySelector(".".concat(U.popup," > .").concat(U.checkbox," input"));case"radio":return E.querySelector(".".concat(U.popup," > .").concat(U.radio," input:checked"))||E.querySelector(".".concat(U.popup," > .").concat(U.radio," input:first-child"));case"range":return E.querySelector(".".concat(U.popup," > .").concat(U.range," input"));default:return E.querySelector(".".concat(U.popup," > .").concat(U.input))}},is=E=>{if(E.focus(),"file"!==E.type){const C=E.value;E.value="",E.value=C}},vn=(E,C,M)=>{!E||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(B=>{Array.isArray(E)?E.forEach(Se=>{M?Se.classList.add(B):Se.classList.remove(B)}):M?E.classList.add(B):E.classList.remove(B)}))},bt=(E,C)=>{vn(E,C,!0)},er=(E,C)=>{vn(E,C,!1)},zr=(E,C)=>{const M=Q(E.childNodes);for(let B=0;B<M.length;B++)if(Sn(M[B],C))return M[B]},Lt=(E,C,M)=>{M==="".concat(parseInt(M))&&(M=parseInt(M)),M||0===parseInt(M)?E.style[C]="number"==typeof M?"".concat(M,"px"):M:E.style.removeProperty(C)},Ye=function(E){E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},at=E=>{E.style.display="none"},tr=(E,C,M,B)=>{const Se=E.querySelector(C);Se&&(Se.style[M]=B)},Rr=function(E,C){C?Ye(E,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):at(E)},At=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),cr=E=>E.scrollHeight>E.clientHeight,nr=E=>{const C=window.getComputedStyle(E),M=parseFloat(C.getPropertyValue("animation-duration")||"0"),B=parseFloat(C.getPropertyValue("transition-duration")||"0");return M>0||B>0},mt=function(E){let C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const M=Bn();At(M)&&(C&&(M.style.transition="none",M.style.width="100%"),setTimeout(()=>{M.style.transition="width ".concat(E/1e3,"s linear"),M.style.width="0%"},10))},Bt=()=>"undefined"==typeof window||"undefined"==typeof document,ue={},vt=E=>new Promise(C=>{if(!E)return C();const M=window.scrollX,B=window.scrollY;ue.restoreFocusTimeout=setTimeout(()=>{ue.previousActiveElement instanceof HTMLElement?(ue.previousActiveElement.focus(),ue.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(M,B)}),Kt='\n <div aria-labelledby="'.concat(U.title,'" aria-describedby="').concat(U["html-container"],'" class="').concat(U.popup,'" tabindex="-1">\n   <button type="button" class="').concat(U.close,'"></button>\n   <ul class="').concat(U["progress-steps"],'"></ul>\n   <div class="').concat(U.icon,'"></div>\n   <img class="').concat(U.image,'" />\n   <h2 class="').concat(U.title,'" id="').concat(U.title,'"></h2>\n   <div class="').concat(U["html-container"],'" id="').concat(U["html-container"],'"></div>\n   <input class="').concat(U.input,'" />\n   <input type="file" class="').concat(U.file,'" />\n   <div class="').concat(U.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(U.select,'"></select>\n   <div class="').concat(U.radio,'"></div>\n   <label for="').concat(U.checkbox,'" class="').concat(U.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(U.label,'"></span>\n   </label>\n   <textarea class="').concat(U.textarea,'"></textarea>\n   <div class="').concat(U["validation-message"],'" id="').concat(U["validation-message"],'"></div>\n   <div class="').concat(U.actions,'">\n     <div class="').concat(U.loader,'"></div>\n     <button type="button" class="').concat(U.confirm,'"></button>\n     <button type="button" class="').concat(U.deny,'"></button>\n     <button type="button" class="').concat(U.cancel,'"></button>\n   </div>\n   <div class="').concat(U.footer,'"></div>\n   <div class="').concat(U["timer-progress-bar-container"],'">\n     <div class="').concat(U["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),$=()=>{ue.currentInstance.resetValidationMessage()},He=E=>{const C=(()=>{const E=X();return!!E&&(E.remove(),er([document.documentElement,document.body],[U["no-backdrop"],U["toast-shown"],U["has-column"]]),!0)})();if(Bt())return void le("SweetAlert2 requires document to initialize");const M=document.createElement("div");M.className=U.container,C&&bt(M,U["no-transition"]),rt(M,Kt);const B=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);B.appendChild(M),(E=>{const C=ae();C.setAttribute("role",E.toast?"alert":"dialog"),C.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||C.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&bt(X(),U.rtl)})(B),(()=>{const E=ae(),C=zr(E,U.input),M=zr(E,U.file),B=E.querySelector(".".concat(U.range," input")),Se=E.querySelector(".".concat(U.range," output")),Xe=zr(E,U.select),Cn=E.querySelector(".".concat(U.checkbox," input")),Rn=zr(E,U.textarea);C.oninput=$,M.onchange=$,Xe.onchange=$,Cn.onchange=$,Rn.oninput=$,B.oninput=()=>{$(),Se.value=B.value},B.onchange=()=>{$(),Se.value=B.value}})(),It(M,E)},It=(E,C)=>{if(C.toast)return;const M=(E=>E[Math.floor(Math.random()*E.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"},{text:"\u042e\u0420\u0418\u0419 \u041f\u041e\u0414\u041e\u041b\u042f\u041a\u0410 \u0447\u0435\u0441\u0442\u043d\u043e <br> \u043e \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u0430\u0445 \u0420\u0423\u0421\u0421\u041a\u041e\u0419 \u0410\u0420\u041c\u0418\u0418",youtubeId:"w4-_8BJKfpk"},{text:"\u041f\u043e\u043b\u043a\u043e\u0432\u043d\u0438\u043a \u0424\u0421\u0411 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u043e\u0431 \u0443\u0441\u043f\u0435\u0445\u0430\u0445 \u0420\u041e\u0421\u0421\u0418\u0418 \u0432 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"saK5UTKroDA"}]);if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const B=document.createElement("div");B.className=U["no-war"],rt(B,'<a href="https://www.youtube.com/watch?v='.concat(M.youtubeId,'" target="_blank">').concat(M.text,"</a>")),E.appendChild(B),E.style.paddingTop="4em"}},Jt=(E,C)=>{E instanceof HTMLElement?C.appendChild(E):"object"==typeof E?Er(E,C):E&&rt(C,E)},Er=(E,C)=>{E.jquery?Xt(C,E):rt(C,E.toString())},Xt=(E,C)=>{if(E.textContent="",0 in C)for(let M=0;M in C;M++)E.appendChild(C[M].cloneNode(!0));else E.appendChild(C.cloneNode(!0))},wn=(()=>{if(Bt())return!1;const E=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const M in C)if(Object.prototype.hasOwnProperty.call(C,M)&&void 0!==E.style[M])return C[M];return!1})(),mn=(E,C)=>{const M=Wt(),B=zt();C.showConfirmButton||C.showDenyButton||C.showCancelButton?Ye(M):at(M),ln(M,C,"actions"),function rr(E,C,M){const B=Mt(),Se=En(),Xe=Qn();oo(B,"confirm",M),oo(Se,"deny",M),oo(Xe,"cancel",M),function Vs(E,C,M,B){if(!B.buttonsStyling)return er([E,C,M],U.styled);bt([E,C,M],U.styled),B.confirmButtonColor&&(E.style.backgroundColor=B.confirmButtonColor,bt(E,U["default-outline"])),B.denyButtonColor&&(C.style.backgroundColor=B.denyButtonColor,bt(C,U["default-outline"])),B.cancelButtonColor&&(M.style.backgroundColor=B.cancelButtonColor,bt(M,U["default-outline"]))}(B,Se,Xe,M),M.reverseButtons&&(M.toast?(E.insertBefore(Xe,B),E.insertBefore(Se,B)):(E.insertBefore(Xe,C),E.insertBefore(Se,C),E.insertBefore(B,C)))}(M,B,C),rt(B,C.loaderHtml),ln(B,C,"loader")};function oo(E,C,M){Rr(E,M["show".concat(c(C),"Button")],"inline-block"),rt(E,M["".concat(C,"ButtonText")]),E.setAttribute("aria-label",M["".concat(C,"ButtonAriaLabel")]),E.className=U[C],ln(E,M,"".concat(C,"Button")),bt(E,M["".concat(C,"ButtonClass")])}const Io=(E,C)=>{const M=X();!M||(function Vi(E,C){"string"==typeof C?E.style.background=C:C||bt([document.documentElement,document.body],U["no-backdrop"])}(M,C.backdrop),function zn(E,C){C in U?bt(E,U[C]):(F('The "position" parameter is not valid, defaulting to "center"'),bt(E,U.center))}(M,C.position),function Do(E,C){if(C&&"string"==typeof C){const M="grow-".concat(C);M in U&&bt(E,U[M])}}(M,C.grow),ln(M,C,"container"))};var Et={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Fe=["input","file","range","select","radio","checkbox","textarea"],yn=E=>{if(!yt[E.input])return le('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(E.input,'"'));const C=xn(E.input),M=yt[E.input](C,E);Ye(C),setTimeout(()=>{is(M)})},ss=(E,C)=>{const M=xr(ae(),E);if(M){(E=>{for(let C=0;C<E.attributes.length;C++){const M=E.attributes[C].name;["type","value","style"].includes(M)||E.removeAttribute(M)}})(M);for(const B in C)M.setAttribute(B,C[B])}},jn=E=>{const C=xn(E.input);"object"==typeof E.customClass&&bt(C,E.customClass.input)},Wr=(E,C)=>{(!E.placeholder||C.inputPlaceholder)&&(E.placeholder=C.inputPlaceholder)},tn=(E,C,M)=>{if(M.inputLabel){E.id=U.input;const B=document.createElement("label"),Se=U["input-label"];B.setAttribute("for",E.id),B.className=Se,"object"==typeof M.customClass&&bt(B,M.customClass.inputLabel),B.innerText=M.inputLabel,C.insertAdjacentElement("beforebegin",B)}},xn=E=>zr(ae(),U[E]||U.input),ci=(E,C)=>{["string","number"].includes(typeof C)?E.value="".concat(C):q(C)||F('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof C,'"'))},yt={};yt.text=yt.email=yt.password=yt.number=yt.tel=yt.url=(E,C)=>(ci(E,C.inputValue),tn(E,E,C),Wr(E,C),E.type=C.input,E),yt.file=(E,C)=>(tn(E,E,C),Wr(E,C),E),yt.range=(E,C)=>{const M=E.querySelector("input"),B=E.querySelector("output");return ci(M,C.inputValue),M.type=C.input,ci(B,C.inputValue),tn(M,E,C),E},yt.select=(E,C)=>{if(E.textContent="",C.inputPlaceholder){const M=document.createElement("option");rt(M,C.inputPlaceholder),M.value="",M.disabled=!0,M.selected=!0,E.appendChild(M)}return tn(E,E,C),E},yt.radio=E=>(E.textContent="",E),yt.checkbox=(E,C)=>{const M=xr(ae(),"checkbox");M.value="1",M.id=U.checkbox,M.checked=Boolean(C.inputValue);const B=E.querySelector("span");return rt(B,C.inputPlaceholder),M},yt.textarea=(E,C)=>{ci(E,C.inputValue),Wr(E,C),tn(E,E,C);return setTimeout(()=>{if("MutationObserver"in window){const B=parseInt(window.getComputedStyle(ae()).width);new MutationObserver(()=>{const Xe=E.offsetWidth+(B=>parseInt(window.getComputedStyle(B).marginLeft)+parseInt(window.getComputedStyle(B).marginRight))(E);ae().style.width=Xe>B?"".concat(Xe,"px"):null}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const Us=(E,C)=>{const M=Tt();ln(M,C,"htmlContainer"),C.html?(Jt(C.html,M),Ye(M,"block")):C.text?(M.textContent=C.text,Ye(M,"block")):at(M),((E,C)=>{const M=ae(),B=Et.innerParams.get(E),Se=!B||C.input!==B.input;Fe.forEach(Xe=>{const Cn=zr(M,U[Xe]);ss(Xe,C.inputAttributes),Cn.className=U[Xe],Se&&at(Cn)}),C.input&&(Se&&yn(C),jn(C))})(E,C)},ir=(E,C)=>{for(const M in Ke)C.icon!==M&&er(E,Ke[M]);bt(E,Ke[C.icon]),sa(E,C),Ui(),ln(E,C,"icon")},Ui=()=>{const E=ae(),C=window.getComputedStyle(E).getPropertyValue("background-color"),M=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let B=0;B<M.length;B++)M[B].style.backgroundColor=C},cn=(E,C)=>{let B,M=E.innerHTML;C.iconHtml?B=Ao(C.iconHtml):"success"===C.icon?(B='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',M=M.replace(/ style=".*?"/g,"")):B="error"===C.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Ao({question:"?",warning:"!",info:"i"}[C.icon]),M.trim()!==B.trim()&&rt(E,B)},sa=(E,C)=>{if(C.iconColor){E.style.color=C.iconColor,E.style.borderColor=C.iconColor;for(const M of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])tr(E,M,"backgroundColor",C.iconColor);tr(E,".swal2-success-ring","borderColor",C.iconColor)}},Ao=E=>'<div class="'.concat(U["icon-content"],'">').concat(E,"</div>"),Uu=E=>{const C=document.createElement("li");return bt(C,U["progress-step"]),rt(C,E),C},as=E=>{const C=document.createElement("li");return bt(C,U["progress-step-line"]),E.progressStepsDistance&&Lt(C,"width",E.progressStepsDistance),C},Pl=(E,C)=>{E.className="".concat(U.popup," ").concat(At(E)?C.showClass.popup:""),C.toast?(bt([document.documentElement,document.body],U["toast-shown"]),bt(E,U.toast)):bt(E,U.modal),ln(E,C,"popup"),"string"==typeof C.customClass&&bt(E,C.customClass),C.icon&&bt(E,U["icon-".concat(C.icon)])},Za=(E,C)=>{((E,C)=>{const M=X(),B=ae();C.toast?(Lt(M,"width",C.width),B.style.width="100%",B.insertBefore(zt(),_e())):Lt(B,"width",C.width),Lt(B,"padding",C.padding),C.color&&(B.style.color=C.color),C.background&&(B.style.background=C.background),at(We()),Pl(B,C)})(0,C),Io(0,C),((E,C)=>{const M=un();if(!C.progressSteps||0===C.progressSteps.length)return at(M);Ye(M),M.textContent="",C.currentProgressStep>=C.progressSteps.length&&F("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach((B,Se)=>{const Xe=Uu(B);if(M.appendChild(Xe),Se===C.currentProgressStep&&bt(Xe,U["active-progress-step"]),Se!==C.progressSteps.length-1){const Cn=as(C);M.appendChild(Cn)}})})(0,C),((E,C)=>{const M=Et.innerParams.get(E),B=_e();M&&C.icon===M.icon?(cn(B,C),ir(B,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(Ke).indexOf(C.icon)?(le('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(C.icon,'"')),at(B)):(Ye(B),cn(B,C),ir(B,C),bt(B,C.showClass.icon)):at(B)})(E,C),((E,C)=>{const M=Qt();if(!C.imageUrl)return at(M);Ye(M,""),M.setAttribute("src",C.imageUrl),M.setAttribute("alt",C.imageAlt),Lt(M,"width",C.imageWidth),Lt(M,"height",C.imageHeight),M.className=U.image,ln(M,C,"image")})(0,C),((E,C)=>{const M=Ve();Rr(M,C.title||C.titleText,"block"),C.title&&Jt(C.title,M),C.titleText&&(M.innerText=C.titleText),ln(M,C,"title")})(0,C),((E,C)=>{const M=Ar();rt(M,C.closeButtonHtml),ln(M,C,"closeButton"),Rr(M,C.showCloseButton),M.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),Us(E,C),mn(0,C),((E,C)=>{const M=Yt();Rr(M,C.footer),C.footer&&Jt(C.footer,M),ln(M,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(ae())},ji=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),qa=()=>{Q(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},Fl=["swal-title","swal-html","swal-footer"],jc=E=>{const C={};return Q(E.querySelectorAll("swal-param")).forEach(M=>{ao(M,["name","value"]);const B=M.getAttribute("name"),Se=M.getAttribute("value");"boolean"==typeof qe[B]&&"false"===Se&&(C[B]=!1),"object"==typeof qe[B]&&(C[B]=JSON.parse(Se))}),C},za=E=>{const C={};return Q(E.querySelectorAll("swal-button")).forEach(M=>{ao(M,["type","color","aria-label"]);const B=M.getAttribute("type");C["".concat(B,"ButtonText")]=M.innerHTML,C["show".concat(c(B),"Button")]=!0,M.hasAttribute("color")&&(C["".concat(B,"ButtonColor")]=M.getAttribute("color")),M.hasAttribute("aria-label")&&(C["".concat(B,"ButtonAriaLabel")]=M.getAttribute("aria-label"))}),C},Wa=E=>{const C={},M=E.querySelector("swal-image");return M&&(ao(M,["src","width","height","alt"]),M.hasAttribute("src")&&(C.imageUrl=M.getAttribute("src")),M.hasAttribute("width")&&(C.imageWidth=M.getAttribute("width")),M.hasAttribute("height")&&(C.imageHeight=M.getAttribute("height")),M.hasAttribute("alt")&&(C.imageAlt=M.getAttribute("alt"))),C},us=E=>{const C={},M=E.querySelector("swal-icon");return M&&(ao(M,["type","color"]),M.hasAttribute("type")&&(C.icon=M.getAttribute("type")),M.hasAttribute("color")&&(C.iconColor=M.getAttribute("color")),C.iconHtml=M.innerHTML),C},Hc=E=>{const C={},M=E.querySelector("swal-input");M&&(ao(M,["type","label","placeholder","value"]),C.input=M.getAttribute("type")||"text",M.hasAttribute("label")&&(C.inputLabel=M.getAttribute("label")),M.hasAttribute("placeholder")&&(C.inputPlaceholder=M.getAttribute("placeholder")),M.hasAttribute("value")&&(C.inputValue=M.getAttribute("value")));const B=E.querySelectorAll("swal-input-option");return B.length&&(C.inputOptions={},Q(B).forEach(Se=>{ao(Se,["value"]);const Xe=Se.getAttribute("value");C.inputOptions[Xe]=Se.innerHTML})),C},Bu=(E,C)=>{const M={};for(const B in C){const Se=C[B],Xe=E.querySelector(Se);Xe&&(ao(Xe,[]),M[Se.replace(/^swal-/,"")]=Xe.innerHTML.trim())}return M},$c=E=>{const C=Fl.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Q(E.children).forEach(M=>{const B=M.tagName.toLowerCase();-1===C.indexOf(B)&&F("Unrecognized element <".concat(B,">"))})},ao=(E,C)=>{Q(E.attributes).forEach(M=>{-1===C.indexOf(M.name)&&F(['Unrecognized attribute "'.concat(M.name,'" on <').concat(E.tagName.toLowerCase(),">."),"".concat(C.length?"Allowed attributes are: ".concat(C.join(", ")):"To set the value, use HTML within the element.")])})};var Ka={email:(E,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(E,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function aa(E){(function uo(E){E.inputValidator||Object.keys(Ka).forEach(C=>{E.input===C&&(E.inputValidator=Ka[C])})})(E),E.showLoaderOnConfirm&&!E.preConfirm&&F("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function lh(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(F('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),He(E)}class js{constructor(C,M){this.callback=C,this.remaining=M,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(C){const M=this.running;return M&&this.stop(),this.remaining+=C,M&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ll=()=>{null===Sr.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Sr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Sr.previousBodyPadding+(()=>{const E=document.createElement("div");E.className=U["scrollbar-measure"],document.body.appendChild(E);const C=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),C})(),"px"))},Fr=()=>{const E=navigator.userAgent,C=!!E.match(/iPad/i)||!!E.match(/iPhone/i),M=!!E.match(/WebKit/i);C&&M&&!E.match(/CriOS/i)&&ae().scrollHeight>window.innerHeight-44&&(X().style.paddingBottom="".concat(44,"px"))},lo=()=>{const E=X();let C;E.ontouchstart=M=>{C=Hs(M)},E.ontouchmove=M=>{C&&(M.preventDefault(),M.stopPropagation())}},Hs=E=>{const C=E.target,M=X();return!(So(E)||ju(E)||C!==M&&(cr(M)||"INPUT"===C.tagName||"TEXTAREA"===C.tagName||cr(Tt())&&Tt().contains(C)))},So=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,ju=E=>E.touches&&E.touches.length>1,ds=E=>{const C=X(),M=ae();"function"==typeof E.willOpen&&E.willOpen(M);const Se=window.getComputedStyle(document.body).overflowY;Vr(C,M,E),setTimeout(()=>{ua(C,M)},10),qr()&&(la(C,E.scrollbarPadding,Se),Q(document.body.children).forEach(C=>{C===X()||C.contains(X())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!Jn()&&!ue.previousActiveElement&&(ue.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(M)),er(C,U["no-transition"])},Lr=E=>{const C=ae();if(E.target!==C)return;const M=X();C.removeEventListener(wn,Lr),M.style.overflowY="auto"},ua=(E,C)=>{wn&&nr(C)?(E.style.overflowY="hidden",C.addEventListener(wn,Lr)):E.style.overflowY="auto"},la=(E,C,M)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Sn(document.body,U.iosfix)){const C=document.body.scrollTop;document.body.style.top="".concat(-1*C,"px"),bt(document.body,U.iosfix),lo(),Fr()}})(),C&&"hidden"!==M&&Ll(),setTimeout(()=>{E.scrollTop=0})},Vr=(E,C,M)=>{bt(E,M.showClass.backdrop),C.style.setProperty("opacity","0","important"),Ye(C,"grid"),setTimeout(()=>{bt(C,M.showClass.popup),C.style.removeProperty("opacity")},10),bt([document.documentElement,document.body],U.shown),M.heightAuto&&M.backdrop&&!M.toast&&bt([document.documentElement,document.body],U["height-auto"])},Mn=E=>{let C=ae();C||new gr,C=ae();const M=zt();Jn()?at(_e()):Vl(C,E),Ye(M),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},Vl=(E,C)=>{const M=Wt(),B=zt();!C&&At(Mt())&&(C=Mt()),Ye(M),C&&(at(C),B.setAttribute("data-button-to-replace",C.className)),B.parentNode.insertBefore(B,C),bt([E,M],U.loading)},da=E=>E.checked?1:0,ha=E=>E.checked?E.value:null,$i=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,xo=(E,C)=>{const M=ae(),B=Se=>_n[C.input](M,hs(Se),C);fe(C.inputOptions)||q(C.inputOptions)?(Mn(Mt()),Z(C.inputOptions).then(Se=>{E.hideLoading(),B(Se)})):"object"==typeof C.inputOptions?B(C.inputOptions):le("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof C.inputOptions))},Qa=(E,C)=>{const M=E.getInput();at(M),Z(C.inputValue).then(B=>{M.value="number"===C.input?parseFloat(B)||0:"".concat(B),Ye(M),M.focus(),E.hideLoading()}).catch(B=>{le("Error in inputValue promise: ".concat(B)),M.value="",Ye(M),M.focus(),E.hideLoading()})},_n={select:(E,C,M)=>{const B=zr(E,U.select),Se=(Xe,Cn,Rn)=>{const pt=document.createElement("option");pt.value=Rn,rt(pt,Cn),pt.selected=Gi(Rn,M.inputValue),Xe.appendChild(pt)};C.forEach(Xe=>{const Cn=Xe[0],Rn=Xe[1];if(Array.isArray(Rn)){const pt=document.createElement("optgroup");pt.label=Cn,pt.disabled=!1,B.appendChild(pt),Rn.forEach(zs=>Se(pt,zs[1],zs[0]))}else Se(B,Rn,Cn)}),B.focus()},radio:(E,C,M)=>{const B=zr(E,U.radio);C.forEach(Xe=>{const Cn=Xe[0],Rn=Xe[1],pt=document.createElement("input"),zs=document.createElement("label");pt.type="radio",pt.name=U.radio,pt.value=Cn,Gi(Cn,M.inputValue)&&(pt.checked=!0);const Uo=document.createElement("span");rt(Uo,Rn),Uo.className=U.label,zs.appendChild(pt),zs.appendChild(Uo),B.appendChild(zs)});const Se=B.querySelectorAll("input");Se.length&&Se[0].focus()}},hs=E=>{const C=[];return"undefined"!=typeof Map&&E instanceof Map?E.forEach((M,B)=>{let Se=M;"object"==typeof Se&&(Se=hs(Se)),C.push([B,Se])}):Object.keys(E).forEach(M=>{let B=E[M];"object"==typeof B&&(B=hs(B)),C.push([M,B])}),C},Gi=(E,C)=>C&&C.toString()===E.toString();function dn(){const E=Et.innerParams.get(this);if(!E)return;const C=Et.domCache.get(this);at(C.loader),Jn()?E.icon&&Ye(_e()):$u(C),er([C.popup,C.actions],U.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const $u=E=>{const C=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));C.length?Ye(C[0],"inline-block"):!At(Mt())&&!At(En())&&!At(Qn())&&at(E.actions)};var hi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const kn=()=>Mt()&&Mt().click(),hr=E=>{E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},pi=(E,C,M)=>{const B=lr();if(B.length)return(C+=M)===B.length?C=0:-1===C&&(C=B.length-1),B[C].focus();ae().focus()},ko=["ArrowRight","ArrowDown"],Ur=["ArrowLeft","ArrowUp"],ps=(E,C,M)=>{const B=Et.innerParams.get(E);!B||C.isComposing||229===C.keyCode||(B.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?gs(E,C,B):"Tab"===C.key?wt(C,B):[...ko,...Ur].includes(C.key)?fa(C.key):"Escape"===C.key&&No(C,B,M))},gs=(E,C,M)=>{if(pe(M.allowEnterKey)&&C.target&&E.getInput()&&C.target instanceof HTMLElement&&C.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(M.input))return;kn(),C.preventDefault()}},wt=(E,C)=>{const M=E.target,B=lr();let Se=-1;for(let Xe=0;Xe<B.length;Xe++)if(M===B[Xe]){Se=Xe;break}pi(0,Se,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},fa=E=>{const C=Mt(),M=En(),B=Qn();if(document.activeElement instanceof HTMLElement&&![C,M,B].includes(document.activeElement))return;const Se=ko.includes(E)?"nextElementSibling":"previousElementSibling";let Xe=document.activeElement;for(let Cn=0;Cn<Wt().children.length;Cn++){if(Xe=Xe[Se],!Xe)return;if(Xe instanceof HTMLButtonElement&&At(Xe))break}Xe instanceof HTMLButtonElement&&Xe.focus()},No=(E,C,M)=>{pe(C.allowEscapeKey)&&(E.preventDefault(),M(ji.esc))};function Ro(E,C,M,B){Jn()?Zs(E,B):(vt(M).then(()=>Zs(E,B)),hr(ue)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),qr()&&(null!==Sr.previousBodyPadding&&(document.body.style.paddingRight="".concat(Sr.previousBodyPadding,"px"),Sr.previousBodyPadding=null),(()=>{if(Sn(document.body,U.iosfix)){const E=parseInt(document.body.style.top,10);er(document.body,U.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}})(),qa()),function pa(){er([document.documentElement,document.body],[U.shown,U["height-auto"],U["no-backdrop"],U["toast-shown"]])}()}function Gs(E){E=eu(E);const C=hi.swalPromiseResolve.get(this),M=Xa(this);this.isAwaitingPromise()?E.isDismissed||(Rt(this),C(E)):M&&C(E)}const Xa=E=>{const C=ae();if(!C)return!1;const M=Et.innerParams.get(E);if(!M||Sn(C,M.hideClass.popup))return!1;er(C,M.showClass.popup),bt(C,M.hideClass.popup);const B=X();return er(B,M.showClass.backdrop),bt(B,M.hideClass.backdrop),In(E,C,M),!0};const Rt=E=>{E.isAwaitingPromise()&&(Et.awaitingPromise.delete(E),Et.innerParams.get(E)||E._destroy())},eu=E=>void 0===E?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),In=(E,C,M)=>{const B=X(),Se=wn&&nr(C);"function"==typeof M.willClose&&M.willClose(C),Se?co(E,C,B,M.returnFocus,M.didClose):Ro(E,B,M.returnFocus,M.didClose)},co=(E,C,M,B,Se)=>{ue.swalCloseEventFinishedCallback=Ro.bind(null,E,M,B,Se),C.addEventListener(wn,function(Xe){Xe.target===C&&(ue.swalCloseEventFinishedCallback(),delete ue.swalCloseEventFinishedCallback)})},Zs=(E,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(E.params)(),E._destroy()})};function Mr(E,C,M){const B=Et.domCache.get(E);C.forEach(Se=>{B[Se].disabled=M})}function ga(E,C){if(!E)return!1;if("radio"===E.type){const B=E.parentNode.parentNode.querySelectorAll("input");for(let Se=0;Se<B.length;Se++)B[Se].disabled=C}else E.disabled=C}const ys=E=>{const C={};return Object.keys(E).forEach(M=>{Ie(M)?C[M]=E[M]:F("Invalid parameter to update: ".concat(M))}),C};const ru=E=>{Oo(E),delete E.params,delete ue.keydownHandler,delete ue.keydownTarget,delete ue.currentInstance},Oo=E=>{E.isAwaitingPromise()?(ho(Et,E),Et.awaitingPromise.set(E,!0)):(ho(hi,E),ho(Et,E))},ho=(E,C)=>{for(const M in E)E[M].delete(C)};var _a=Object.freeze({hideLoading:dn,disableLoading:dn,getInput:function $s(E){const C=Et.innerParams.get(E||this),M=Et.domCache.get(E||this);return M?xr(M.popup,C.input):null},close:Gs,isAwaitingPromise:function Ja(){return!!Et.awaitingPromise.get(this)},rejectPromise:function Ae(E){const C=hi.swalPromiseReject.get(this);Rt(this),C&&C(E)},handleAwaitingPromise:Rt,closePopup:Gs,closeModal:Gs,closeToast:Gs,enableButtons:function tu(){Mr(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Gu(){Mr(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function nu(){return ga(this.getInput(),!1)},disableInput:function ma(){return ga(this.getInput(),!0)},showValidationMessage:function ms(E){const C=Et.domCache.get(this),M=Et.innerParams.get(this);rt(C.validationMessage,E),C.validationMessage.className=U["validation-message"],M.customClass&&M.customClass.validationMessage&&bt(C.validationMessage,M.customClass.validationMessage),Ye(C.validationMessage);const B=this.getInput();B&&(B.setAttribute("aria-invalid",!0),B.setAttribute("aria-describedby",U["validation-message"]),is(B),bt(B,U.inputerror))},resetValidationMessage:function fr(){const E=Et.domCache.get(this);E.validationMessage&&at(E.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),er(C,U.inputerror))},getProgressSteps:function Yr(){return Et.domCache.get(this).progressSteps},update:function ya(E){const C=ae(),M=Et.innerParams.get(this);if(!C||Sn(C,M.hideClass.popup))return F("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const B=ys(E),Se=Object.assign({},M,B);Za(this,Se),Et.innerParams.set(this,Se),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})},_destroy:function gi(){const E=Et.domCache.get(this),C=Et.innerParams.get(this);C?(E.popup&&ue.swalCloseEventFinishedCallback&&(ue.swalCloseEventFinishedCallback(),delete ue.swalCloseEventFinishedCallback),"function"==typeof C.didDestroy&&C.didDestroy(),ru(this)):Oo(this)}});const va=(E,C)=>{const M=Et.innerParams.get(E);if(!M.input)return le('The "input" parameter is needed to be set when using returnInputValueOn'.concat(c(C)));const B=((E,C)=>{const M=E.getInput();if(!M)return null;switch(C.input){case"checkbox":return da(M);case"radio":return ha(M);case"file":return $i(M);default:return C.inputAutoTrim?M.value.trim():M.value}})(E,M);M.inputValidator?Zu(E,B,C):E.getInput().checkValidity()?"deny"===C?Lo(E,B):Zi(E,B):(E.enableButtons(),E.showValidationMessage(M.validationMessage))},Zu=(E,C,M)=>{const B=Et.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>Z(B.inputValidator(C,B.validationMessage))).then(Xe=>{E.enableButtons(),E.enableInput(),Xe?E.showValidationMessage(Xe):"deny"===M?Lo(E,C):Zi(E,C)})},Lo=(E,C)=>{const M=Et.innerParams.get(E||void 0);M.showLoaderOnDeny&&Mn(En()),M.preDeny?(Et.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>Z(M.preDeny(C,M.validationMessage))).then(Se=>{!1===Se?(E.hideLoading(),Rt(E)):E.closePopup({isDenied:!0,value:void 0===Se?C:Se})}).catch(Se=>su(E||void 0,Se))):E.closePopup({isDenied:!0,value:C})},_s=(E,C)=>{E.closePopup({isConfirmed:!0,value:C})},su=(E,C)=>{E.rejectPromise(C)},Zi=(E,C)=>{const M=Et.innerParams.get(E||void 0);M.showLoaderOnConfirm&&Mn(),M.preConfirm?(E.resetValidationMessage(),Et.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>Z(M.preConfirm(C,M.validationMessage))).then(Se=>{At(We())||!1===Se?(E.hideLoading(),Rt(E)):_s(E,void 0===Se?C:Se)}).catch(Se=>su(E||void 0,Se))):_s(E,C)},zu=(E,C,M)=>{C.popup.onclick=()=>{const B=Et.innerParams.get(E);B&&(qs(B)||B.timer||B.input)||M(ji.close)}},qs=E=>E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton;let mi=!1;const ou=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(C){E.container.onmouseup=void 0,C.target===E.container&&(mi=!0)}}},Ir=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(C){E.popup.onmouseup=void 0,(C.target===E.popup||E.popup.contains(C.target))&&(mi=!0)}}},vs=(E,C,M)=>{C.container.onclick=B=>{const Se=Et.innerParams.get(E);mi?mi=!1:B.target===C.container&&pe(Se.allowOutsideClick)&&M(ji.backdrop)}},au=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E);const wa=()=>{if(ue.timeout)return(()=>{const E=Bn(),C=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const B=C/parseInt(window.getComputedStyle(E).width)*100;E.style.removeProperty("transition"),E.style.width="".concat(B,"%")})(),ue.timeout.stop()},Ii=()=>{if(ue.timeout){const E=ue.timeout.start();return mt(E),E}};let lu=!1;const Wu={};const fo=E=>{for(let C=E.target;C&&C!==document;C=C.parentNode)for(const M in Wu){const B=C.getAttribute(M);if(B)return void Wu[M].fire({template:B})}};var Ku=Object.freeze({isValidParameter:ye,isUpdatableParameter:Ie,isDeprecatedParameter:it,argsToParams:E=>{const C={};return"object"!=typeof E[0]||au(E[0])?["title","html","icon"].forEach((M,B)=>{const Se=E[B];"string"==typeof Se||au(Se)?C[M]=Se:void 0!==Se&&le("Unexpected type of ".concat(M,'! Expected "string" or "Element", got ').concat(typeof Se))}):Object.assign(C,E[0]),C},isVisible:()=>At(ae()),clickConfirm:kn,clickDeny:()=>En()&&En().click(),clickCancel:()=>Qn()&&Qn().click(),getContainer:X,getPopup:ae,getTitle:Ve,getHtmlContainer:Tt,getImage:Qt,getIcon:_e,getInputLabel:()=>re(U["input-label"]),getCloseButton:Ar,getActions:Wt,getConfirmButton:Mt,getDenyButton:En,getCancelButton:Qn,getLoader:zt,getFooter:Yt,getTimerProgressBar:Bn,getFocusableElements:lr,getValidationMessage:We,isLoading:()=>ae().hasAttribute("data-loading"),fire:function ch(){const E=this;for(var C=arguments.length,M=new Array(C),B=0;B<C;B++)M[B]=arguments[B];return new E(...M)},mixin:function uu(E){return class C extends(this){_main(B,Se){return super._main(B,Object.assign({},E,Se))}}},showLoading:Mn,enableLoading:Mn,getTimerLeft:()=>ue.timeout&&ue.timeout.getTimerLeft(),stopTimer:wa,resumeTimer:Ii,toggleTimer:()=>{const E=ue.timeout;return E&&(E.running?wa():Ii())},increaseTimer:E=>{if(ue.timeout){const C=ue.timeout.increase(E);return mt(C,!0),C}},isTimerRunning:()=>ue.timeout&&ue.timeout.isRunning(),bindClickHandler:function qi(){Wu[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,lu||(document.body.addEventListener("click",fo),lu=!0)}});let Qr;class Jr{constructor(){if("undefined"==typeof window)return;Qr=this;for(var C=arguments.length,M=new Array(C),B=0;B<C;B++)M[B]=arguments[B];const Se=Object.freeze(this.constructor.argsToParams(M));Object.defineProperties(this,{params:{value:Se,writable:!1,enumerable:!0,configurable:!0}});const Xe=Qr._main(Qr.params);Et.promise.set(this,Xe)}_main(C){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(E=>{!E.backdrop&&E.allowOutsideClick&&F('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in E)et(C),E.toast&&xe(C),Ce(C)})(Object.assign({},M,C)),ue.currentInstance&&(ue.currentInstance._destroy(),qr()&&qa()),ue.currentInstance=Qr;const B=Ul(C,M);aa(B),Object.freeze(B),ue.timeout&&(ue.timeout.stop(),delete ue.timeout),clearTimeout(ue.restoreFocusTimeout);const Se=Zc(Qr);return Za(Qr,B),Et.innerParams.set(Qr,B),Yu(Qr,Se,B)}then(C){return Et.promise.get(this).then(C)}finally(C){return Et.promise.get(this).finally(C)}}const Yu=(E,C,M)=>new Promise((B,Se)=>{const Xe=Cn=>{E.closePopup({isDismissed:!0,dismiss:Cn})};hi.swalPromiseResolve.set(E,B),hi.swalPromiseReject.set(E,Se),C.confirmButton.onclick=()=>(E=>{const C=Et.innerParams.get(E);E.disableButtons(),C.input?va(E,"confirm"):Zi(E,!0)})(E),C.denyButton.onclick=()=>(E=>{const C=Et.innerParams.get(E);E.disableButtons(),C.returnInputValueOnDeny?va(E,"deny"):Lo(E,!1)})(E),C.cancelButton.onclick=()=>((E,C)=>{E.disableButtons(),C(ji.cancel)})(E,Xe),C.closeButton.onclick=()=>Xe(ji.close),((E,C,M)=>{Et.innerParams.get(E).toast?zu(E,C,M):(ou(C),Ir(C),vs(E,C,M))})(E,C,Xe),((E,C,M,B)=>{hr(C),M.toast||(C.keydownHandler=Se=>ps(E,Se,B),C.keydownTarget=M.keydownListenerCapture?window:ae(),C.keydownListenerCapture=M.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(E,ue,M,Xe),((E,C)=>{"select"===C.input||"radio"===C.input?xo(E,C):["text","email","number","tel","textarea"].includes(C.input)&&(fe(C.inputValue)||q(C.inputValue))&&(Mn(Mt()),Qa(E,C))})(E,M),ds(M),Fn(ue,M,Xe),Ln(C,M),setTimeout(()=>{C.container.scrollTop=0})}),Ul=(E,C)=>{const M=(E=>{const C="string"==typeof E.template?document.querySelector(E.template):E.template;if(!C)return{};const M=C.content;return $c(M),Object.assign(jc(M),za(M),Wa(M),us(M),Hc(M),Bu(M,Fl))})(E),B=Object.assign({},qe,C,M,E);return B.showClass=Object.assign({},qe.showClass,B.showClass),B.hideClass=Object.assign({},qe.hideClass,B.hideClass),B},Zc=E=>{const C={popup:ae(),container:X(),actions:Wt(),confirmButton:Mt(),denyButton:En(),cancelButton:Qn(),loader:zt(),closeButton:Ar(),validationMessage:We(),progressSteps:un()};return Et.domCache.set(E,C),C},Fn=(E,C,M)=>{const B=Bn();at(B),C.timer&&(E.timeout=new js(()=>{M("timer"),delete E.timeout},C.timer),C.timerProgressBar&&(Ye(B),ln(B,C,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&mt(C.timer)})))},Ln=(E,C)=>{if(!C.toast){if(!pe(C.allowEnterKey))return pr();Ct(E,C)||pi(0,-1,1)}},Ct=(E,C)=>C.focusDeny&&At(E.denyButton)?(E.denyButton.focus(),!0):C.focusCancel&&At(E.cancelButton)?(E.cancelButton.focus(),!0):!(!C.focusConfirm||!At(E.confirmButton)||(E.confirmButton.focus(),0)),pr=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(Jr.prototype,_a),Object.assign(Jr,Ku),Object.keys(_a).forEach(E=>{Jr[E]=function(){if(Qr)return Qr[E](...arguments)}}),Jr.DismissReason=ji,Jr.version="11.4.17";const gr=Jr;return gr.default=gr,gr}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Te,L){var c=Te.createElement("style");if(Te.getElementsByTagName("head")[0].appendChild(c),c.styleSheet)c.styleSheet.disabled||(c.styleSheet.cssText=L);else try{c.innerHTML=L}catch(Q){c.innerText=L}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(gt,Te,L)=>{"use strict";function le(X,ce){var re={};for(var ae in X)Object.prototype.hasOwnProperty.call(X,ae)&&ce.indexOf(ae)<0&&(re[ae]=X[ae]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var _e=0;for(ae=Object.getOwnPropertySymbols(X);_e<ae.length;_e++)ce.indexOf(ae[_e])<0&&Object.prototype.propertyIsEnumerable.call(X,ae[_e])&&(re[ae[_e]]=X[ae[_e]])}return re}function pe(X,ce,re,ae){return new(re||(re=Promise))(function(Ve,Tt){function Qt(Mt){try{We(ae.next(Mt))}catch(En){Tt(En)}}function un(Mt){try{We(ae.throw(Mt))}catch(En){Tt(En)}}function We(Mt){Mt.done?Ve(Mt.value):function _e(Ve){return Ve instanceof re?Ve:new re(function(Tt){Tt(Ve)})}(Mt.value).then(Qt,un)}We((ae=ae.apply(X,ce||[])).next())})}function ye(X){return this instanceof ye?(this.v=X,this):new ye(X)}function Ie(X,ce,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ae=re.apply(X,ce||[]),Ve=[];return _e={},Tt("next"),Tt("throw"),Tt("return"),_e[Symbol.asyncIterator]=function(){return this},_e;function Tt(An){ae[An]&&(_e[An]=function(zt){return new Promise(function(Qn,Wt){Ve.push([An,zt,Qn,Wt])>1||Qt(An,zt)})})}function Qt(An,zt){try{!function un(An){An.value instanceof ye?Promise.resolve(An.value.v).then(We,Mt):En(Ve[0][2],An)}(ae[An](zt))}catch(Qn){En(Ve[0][3],Qn)}}function We(An){Qt("next",An)}function Mt(An){Qt("throw",An)}function En(An,zt){An(zt),Ve.shift(),Ve.length&&Qt(Ve[0][0],Ve[0][1])}}function et(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,ce=X[Symbol.asyncIterator];return ce?ce.call(X):(X=function ne(X){var ce="function"==typeof Symbol&&Symbol.iterator,re=ce&&X[ce],ae=0;if(re)return re.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ae>=X.length&&(X=void 0),{value:X&&X[ae++],done:!X}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),re={},ae("next"),ae("throw"),ae("return"),re[Symbol.asyncIterator]=function(){return this},re);function ae(Ve){re[Ve]=X[Ve]&&function(Tt){return new Promise(function(Qt,un){!function _e(Ve,Tt,Qt,un){Promise.resolve(un).then(function(We){Ve({value:We,done:Qt})},Tt)}(Qt,un,(Tt=X[Ve](Tt)).done,Tt.value)})}}}L.d(Te,{FC:()=>Ie,KL:()=>et,_T:()=>le,mG:()=>pe,qq:()=>ye})},5e3:(gt,Te,L)=>{"use strict";L.d(Te,{$8M:()=>jo,$Z:()=>y_,AFp:()=>Ms,ALo:()=>Jb,AaK:()=>pe,BQk:()=>w_,CHM:()=>eu,CRH:()=>uE,CZH:()=>mE,CqO:()=>pg,EJc:()=>Zf,EpF:()=>b_,F4k:()=>C_,FYo:()=>gv,FiY:()=>Si,G48:()=>TE,GfV:()=>Bg,Gpc:()=>q,Gre:()=>L_,JOm:()=>he,LFG:()=>ut,LSH:()=>sl,Lbi:()=>_E,NdJ:()=>mf,O4$:()=>au,OlP:()=>Vn,Oqu:()=>yg,PXZ:()=>qf,Q6J:()=>hg,QGY:()=>E_,Qsj:()=>jb,R0b:()=>to,RDi:()=>$i,Rgc:()=>Dc,SBq:()=>_l,Sil:()=>bD,Suo:()=>Av,TTD:()=>Hs,TgZ:()=>gf,VLi:()=>Ha,X6Q:()=>Yf,XFs:()=>rt,Xpm:()=>jt,Y36:()=>pf,YKP:()=>vl,YNc:()=>O0,Yjl:()=>Er,Yz7:()=>zt,ZZ4:()=>Jf,_Bn:()=>Fb,_UZ:()=>v_,_Vd:()=>ai,_c5:()=>ym,_uU:()=>P_,aQg:()=>mm,c2e:()=>vE,cJS:()=>Wt,cg1:()=>B_,dDg:()=>Vv,deG:()=>wp,dqk:()=>At,eFA:()=>Hv,ekj:()=>k_,g9A:()=>Ac,h0i:()=>Ba,hGG:()=>PD,hij:()=>vf,iGM:()=>Tv,ifc:()=>Lt,ip1:()=>gE,kL8:()=>dt,kcU:()=>ch,lG2:()=>Jt,lcZ:()=>Ru,n5z:()=>Wc,oAB:()=>te,oxw:()=>K0,q4F:()=>xf,qLn:()=>$r,qOj:()=>T0,qZA:()=>__,s9C:()=>D_,sBO:()=>ID,sIi:()=>sf,s_b:()=>Jg,soG:()=>um,tBr:()=>ei,tb:()=>vr,tp0:()=>Zo,uIk:()=>s_,vHH:()=>Pe,vpe:()=>ja,wAp:()=>Dt,xp6:()=>Ty,ynx:()=>Md,z2F:()=>cm,zSh:()=>Ky,zs3:()=>Cu});var c=L(7579),Q=L(727),F=L(8306),le=L(6451),ie=L(3099);function ve(i){for(let s in i)if(i[s]===ve)return s;throw Error("Could not find renamed property on target object.")}function de(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function pe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(pe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function fe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Z=ve({__forward_ref__:ve});function q(i){return i.__forward_ref__=q,i.toString=function(){return pe(this())},i}function ne(i){return qe(i)?i():i}function qe(i){return"function"==typeof i&&i.hasOwnProperty(Z)&&i.__forward_ref__===q}class Pe extends Error{constructor(s,a){super(function je(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function ye(i){return"string"==typeof i?i:null==i?"":String(i)}function Ie(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ye(i)}function Ce(i,s){const a=s?` in ${s}`:"";throw new Pe(-201,`No provider for ${Ie(i)} found${a}`)}function un(i,s){null==i&&function We(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function zt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Wt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Yt(i){return Bn(i,qr)||Bn(i,Li)}function Bn(i,s){return i.hasOwnProperty(s)?i[s]:null}function lr(i){return i&&(i.hasOwnProperty(Jn)||i.hasOwnProperty(Sr))?i[Jn]:null}const qr=ve({\u0275prov:ve}),Jn=ve({\u0275inj:ve}),Li=ve({ngInjectableDef:ve}),Sr=ve({ngInjectorDef:ve});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let Sn;function ln(i){const s=Sn;return Sn=i,s}function xr(i,s,a){const l=Yt(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&rt.Optional?null:void 0!==s?s:void Ce(pe(i),"Injector")}function vn(i){return{toString:i}.toString()}var bt=(()=>((bt=bt||{})[bt.OnPush=0]="OnPush",bt[bt.Default=1]="Default",bt))(),Lt=(()=>{return(i=Lt||(Lt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Lt;var i})();const Ye="undefined"!=typeof globalThis&&globalThis,at="undefined"!=typeof window&&window,tr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At=Ye||"undefined"!=typeof global&&global||at||tr,nr={},mt=[],br=ve({\u0275cmp:ve}),Bt=ve({\u0275dir:ve}),nt=ve({\u0275pipe:ve}),ue=ve({\u0275mod:ve}),st=ve({\u0275fac:ve}),vt=ve({__NG_ELEMENT_ID__:ve});let Kt=0;function jt(i){return vn(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||mt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Lt.Emulated,id:"c",styles:i.styles||mt,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,p=i.features,_=i.pipes;return l.id+=Kt++,l.inputs=It(i.inputs,a),l.outputs=It(i.outputs),p&&p.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(H):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(W):null,l})}function H(i){return Xt(i)||function wn(i){return i[Bt]||null}(i)}function W(i){return function Ft(i){return i[nt]||null}(i)}const ge={};function te(i){return vn(()=>{const s={type:i.type,bootstrap:i.bootstrap||mt,declarations:i.declarations||mt,imports:i.imports||mt,exports:i.exports||mt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ge[i.id]=i.type),s})}function It(i,s){if(null==i)return nr;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,s&&(s[d]=p)}return a}const Jt=jt;function Er(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Xt(i){return i[br]||null}function mn(i,s){const a=i[ue]||null;if(!a&&!0===s)throw new Error(`Type ${pe(i)} does not have '\u0275mod' property.`);return a}function di(i){return Array.isArray(i)&&"object"==typeof i[1]}function Kr(i){return Array.isArray(i)&&!0===i[1]}function Uu(i){return 0!=(8&i.flags)}function as(i){return 2==(2&i.flags)}function oa(i){return 1==(1&i.flags)}function Pr(i){return null!==i.template}function Pl(i){return 0!=(512&i[2])}function Fr(i,s){return i.hasOwnProperty(st)?i[st]:null}class lo{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Hs(){return So}function So(i){return i.type.prototype.ngOnChanges&&(i.setInput=Gc),ju}function ju(){const i=ds(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===nr)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Gc(i,s,a,l){const d=ds(i)||function Lr(i,s){return i[cs]=s}(i,{previous:nr,current:null}),p=d.current||(d.current={}),_=d.previous,w=this.declaredInputs[a],I=_[w];p[w]=new lo(I&&I.currentValue,s,_===nr),i[l]=s}Hs.ngInherit=!0;const cs="__ngSimpleChanges__";function ds(i){return i[cs]||null}let ha;function $i(i){ha=i}function _n(i){return!!i.listen}const hs={createRenderer:(i,s)=>function xo(){return void 0!==ha?ha:"undefined"!=typeof document?document:void 0}()};function dn(i){for(;Array.isArray(i);)i=i[0];return i}function hi(i,s){return dn(s[i])}function Cr(i,s){return dn(s[i.index])}function Mo(i,s){return i.data[s]}function hr(i,s){const a=s[i];return di(a)?a:a[0]}function fs(i){return 4==(4&i[2])}function pi(i){return 128==(128&i[2])}function Ur(i,s){return null==s?null:i[s]}function ps(i){i[18]=0}function gs(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const wt={lFrame:Zi(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gs(){return wt.bindingsEnabled}function Ae(){return wt.lFrame.lView}function Rt(){return wt.lFrame.tView}function eu(i){return wt.lFrame.contextLView=i,i[8]}function In(){let i=co();for(;null!==i&&64===i.type;)i=i.parent;return i}function co(){return wt.lFrame.currentTNode}function Mr(i,s){const a=wt.lFrame;a.currentTNode=i,a.isParent=s}function ga(){return wt.lFrame.isParent}function tu(){wt.lFrame.isParent=!1}function ma(){return wt.isInCheckNoChangesMode}function ms(i){wt.isInCheckNoChangesMode=i}function ys(){return wt.lFrame.bindingIndex++}function gi(i){const s=wt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function ho(i,s){const a=wt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Po(s)}function Po(i){wt.lFrame.currentDirectiveIndex=i}function iu(){return wt.lFrame.currentQueryIndex}function va(i){wt.lFrame.currentQueryIndex=i}function Zu(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Lo(i,s,a){if(a&rt.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||a&rt.Host||(d=Zu(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const l=wt.lFrame=su();return l.currentTNode=s,l.lView=i,!0}function _s(i){const s=su(),a=i[1];wt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function su(){const i=wt.lFrame,s=null===i?null:i.child;return null===s?Zi(i):s}function Zi(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function qu(){const i=wt.lFrame;return wt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const zu=qu;function qs(){const i=qu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ir(){return wt.lFrame.selectedIndex}function vs(i){wt.lFrame.selectedIndex=i}function Nn(){const i=wt.lFrame;return Mo(i.tView,i.selectedIndex)}function au(){wt.lFrame.currentNamespace="svg"}function ch(){!function uu(){wt.lFrame.currentNamespace=null}()}function Ii(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:k}=p;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),x&&((i.viewHooks||(i.viewHooks=[])).push(a,x),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,x)),null!=k&&(i.destroyHooks||(i.destroyHooks=[])).push(a,k)}}function Vo(i,s,a){lu(i,s,3,a)}function ba(i,s,a,l){(3&i[2])===a&&lu(i,s,a,l)}function $n(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function lu(i,s,a,l){const p=null!=l?l:-1,_=s.length-1;let w=0;for(let I=void 0!==l?65535&i[18]:0;I<_;I++)if("number"==typeof s[I+1]){if(w=s[I],null!=l&&w>=l)break}else s[I]<0&&(i[18]+=65536),(w<p||-1==p)&&(Wu(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function Wu(i,s,a,l){const d=a[l]<0,p=a[l+1],w=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class fo{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ct(i,s,a){const l=_n(i);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const _=a[d++],w=a[d++],I=a[d++];l?i.setAttribute(s,w,I,_):s.setAttributeNS(_,w,I)}else{const _=p,w=a[++d];gr(_)?l&&i.setProperty(s,_,w):l?i.setAttribute(s,_,w):s.setAttribute(_,w),d++}}return d}function pr(i){return 3===i||4===i||6===i}function gr(i){return 64===i.charCodeAt(0)}function E(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||C(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function C(i,s,a,l,d){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){_=-1;break}if(w>s){_=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(i[p+1]=d));if(l===i[p+1])return void(i[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==d&&i.splice(p++,0,d)}function M(i){return-1!==i}function B(i){return 32767&i}function Xe(i,s){let a=function Se(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let Cn=!0;function Rn(i){const s=Cn;return Cn=i,s}let qc=0;function sr(i,s){const a=Ea(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Ws(l.data,i),Ws(s,null),Ws(l.blueprint,null));const d=Di(i,s),p=i.injectorIndex;if(M(d)){const _=B(d),w=Xe(d,s),I=w[1].data;for(let x=0;x<8;x++)s[p+x]=w[_+x]|I[_+x]}return s[p+8]=d,p}function Ws(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ea(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Di(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){const p=d[1],_=p.type;if(l=2===_?p.declTNode:1===_?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function po(i,s,a){!function Bo(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(vt)&&(l=a[vt]),null==l&&(l=a[vt]=qc++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function ws(i,s,a){if(a&rt.Optional)return i;Ce(s,"NodeInjector")}function Bl(i,s,a,l){if(a&rt.Optional&&void 0===l&&(l=null),0==(a&(rt.Self|rt.Host))){const d=i[9],p=ln(void 0);try{return d?d.get(s,l,a&rt.Optional):xr(s,l,a&rt.Optional)}finally{ln(p)}}return ws(l,s,a)}function go(i,s,a,l=rt.Default,d){if(null!==i){const p=function Ia(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(vt)?i[vt]:void 0;return"number"==typeof s?s>=0?255&s:jl:s}(a);if("function"==typeof p){if(!Lo(s,i,l))return l&rt.Host?ws(d,a,l):Bl(s,a,l,d);try{const _=p(l);if(null!=_||l&rt.Optional)return _;Ce(a)}finally{zu()}}else if("number"==typeof p){let _=null,w=Ea(i,s),I=-1,x=l&rt.Host?s[16][6]:null;for((-1===w||l&rt.SkipSelf)&&(I=-1===w?Di(i,s):s[w+8],-1!==I&&Xr(l,!1)?(_=s[1],w=B(I),s=Xe(I,s)):w=-1);-1!==w;){const k=s[1];if(du(p,w,k.data)){const V=zc(w,s,a,_,l,x);if(V!==bs)return V}I=s[w+8],-1!==I&&Xr(l,s[1].data[w+8]===x)&&du(p,w,s)?(_=k,w=B(I),s=Xe(I,s)):w=-1}}}return Bl(s,a,l,d)}const bs={};function jl(){return new Wi(In(),Ae())}function zc(i,s,a,l,d,p){const _=s[1],w=_.data[i+8],k=Ca(w,_,a,null==l?as(w)&&Cn:l!=_&&0!=(3&w.type),d&rt.Host&&p===w);return null!==k?zi(s,_,k,w):bs}function Ca(i,s,a,l,d){const p=i.providerIndexes,_=s.data,w=1048575&p,I=i.directiveStart,k=p>>20,G=d?w+k:i.directiveEnd;for(let ee=l?w:w+k;ee<G;ee++){const Ee=_[ee];if(ee<I&&a===Ee||ee>=I&&Ee.type===a)return ee}if(d){const ee=_[I];if(ee&&Pr(ee)&&ee.type===a)return I}return null}function zi(i,s,a,l){let d=i[a];const p=s.data;if(function Ku(i){return i instanceof fo}(d)){const _=d;_.resolving&&function it(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ie(p[a]));const w=Rn(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?ln(_.injectImpl):null;Lo(i,l,rt.Default);try{d=i[a]=_.factory(void 0,p,i,l),s.firstCreatePass&&a>=l.directiveStart&&function wa(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(l){const _=So(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==I&&ln(I),Rn(w),_.resolving=!1,zu()}}return d}function du(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Xr(i,s){return!(i&rt.Self||i&rt.Host&&s)}class Wi{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return go(this._tNode,this._lView,s,l,a)}}function Wc(i){return vn(()=>{const s=i.prototype.constructor,a=s[st]||Wn(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const p=d[st]||Wn(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Wn(i){return qe(i)?()=>{const s=Wn(ne(i));return s&&s()}:Fr(i)}function jo(i){return function cu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(pr(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(In(),i)}const Da="__parameters__";function Gn(i,s,a){return vn(()=>{const l=function Cs(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...p){if(this instanceof d)return l.apply(this,p),this;const _=new d(...p);return w.annotation=_,w;function w(I,x,k){const V=I.hasOwnProperty(Da)?I[Da]:Object.defineProperty(I,Da,{value:[]})[Da];for(;V.length<=k;)V.push(null);return(V[k]=V[k]||[]).push(_),I}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Vn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=zt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const wp=new Vn("AnalyzeForEntryComponents");function jr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),jr(l,s)):s!==i&&s.push(l)}return s}function Ti(i,s){i.forEach(a=>Array.isArray(a)?Ti(a,s):s(a))}function Gl(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Qs(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function mr(i,s,a){let l=_o(i,s);return l>=0?i[1|l]=a:(l=~l,function Zl(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Wl(i,s){const a=_o(i,s);if(a>=0)return i[1|a]}function _o(i,s){return function Ho(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const p=l+(d-l>>1),_=i[p<<a];if(s===_)return p<<a;_>s?d=p:l=p+1}return~(d<<a)}(i,s,1)}const $o={},Aa="__NG_DI_FLAG__",el="ngTempTokenPath",T=/\n/gm,j="__source",J=ve({provide:String,useValue:ve});let se;function Ne(i){const s=se;return se=i,s}function Re(i,s=rt.Default){if(void 0===se)throw new Pe(203,"");return null===se?xr(i,void 0,s):se.get(i,s&rt.Optional?null:void 0,s)}function ut(i,s=rt.Default){return(function Xn(){return Sn}()||Re)(ne(i),s)}const Ht=ut;function Ot(i){const s=[];for(let a=0;a<i.length;a++){const l=ne(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Pe(900,"");let d,p=rt.Default;for(let _=0;_<l.length;_++){const w=l[_],I=Zn(w);"number"==typeof I?-1===I?d=w.token:p|=I:d=w}s.push(ut(d,p))}else s.push(ut(l))}return s}function or(i,s){return i[Aa]=s,i.prototype[Aa]=s,i}function Zn(i){return i[Aa]}const ei=or(Gn("Inject",i=>({token:i})),-1),Si=or(Gn("Optional"),8),Zo=or(Gn("SkipSelf"),4);class id{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function vo(i){return i instanceof id?i.changingThisBreaksApplicationSecurity:i}const wo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,vh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var fn=(()=>((fn=fn||{})[fn.NONE=0]="NONE",fn[fn.HTML=1]="HTML",fn[fn.STYLE=2]="STYLE",fn[fn.SCRIPT=3]="SCRIPT",fn[fn.URL=4]="URL",fn[fn.RESOURCE_URL=5]="RESOURCE_URL",fn))();function sl(i){const s=function ka(){const i=Ae();return i&&i[12]}();return s?s.sanitize(fn.URL,i)||"":function xa(i,s){const a=function nl(i){return i instanceof id&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?vo(i):function rl(i){return(i=String(i)).match(wo)||i.match(vh)?i:"unsafe:"+i}(ye(i))}const xh="__ngContext__";function ti(i,s){i[xh]=s}function Mh(i){const s=function mu(i){return i[xh]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function vu(i){return i.ngOriginalError}function Fp(i,...s){i.error(...s)}class $r{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function iy(i){return i&&i.ngErrorLogger||Fp}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&vu(s);for(;a&&vu(a);)a=vu(a);return a||null}}const uy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function g(i){return i instanceof Function?i():i}var he=(()=>((he=he||{})[he.Important=1]="Important",he[he.DashCase=2]="DashCase",he))();function lt(i,s){return undefined(i,s)}function qn(i){const s=i[3];return Kr(s)?s[3]:s}function ol(i){return Vh(i[13])}function al(i){return Vh(i[4])}function Vh(i){for(;null!==i&&!Kr(i);)i=i[4];return i}function Na(i,s,a,l,d){if(null!=l){let p,_=!1;Kr(l)?p=l:di(l)&&(_=!0,l=l[0]);const w=dn(l);0===i&&null!==a?null==d?my(s,a,w):Xs(s,a,w,d||null,!0):1===i&&null!==a?Xs(s,a,w,d||null,!0):2===i?function wy(i,s,a){const l=pd(i,s);l&&function dC(i,s,a,l){_n(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,w,_):3===i&&s.destroyNode(w),null!=p&&function pC(i,s,a,l,d){const p=a[7];p!==dn(a)&&Na(s,i,l,p,d);for(let w=10;w<a.length;w++){const I=a[w];jp(I[1],I,i,s,l,p)}}(s,i,p,a,d)}}function hd(i,s,a){if(_n(i))return i.createElement(s,a);{const l=null!==a?function da(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function xw(i,s){const a=i[9],l=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,gs(d,-1)),a.splice(l,1)}function fy(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&xw(d,l),s>0&&(i[a-1][4]=l[4]);const p=Qs(i,10+s);!function ni(i,s){jp(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function py(i,s){if(!(256&s[2])){const a=s[11];_n(a)&&a.destroyNode&&jp(i,s,a,3,null,null),function dy(i){let s=i[13];if(!s)return gy(i[1],i);for(;s;){let a=null;if(di(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)di(s)&&gy(s[1],s),s=s[3];null===s&&(s=i),di(s)&&gy(s[1],s),a=s&&s[4]}s=a}}(s)}}function gy(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function kw(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof fo)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const w=d[p[_]],I=p[_+1];try{I.call(w)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function Mw(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],w="function"==typeof _?_(s):dn(s[_]),I=l[d=a[p+2]],x=a[p+3];"boolean"==typeof x?w.removeEventListener(a[p],I,x):x>=0?l[d=x]():l[d=-x].unsubscribe(),p+=2}else{const _=l[d=a[p+1]];a[p].call(_)}if(null!==l){for(let p=d+1;p<l.length;p++)l[p]();s[7]=null}}(i,s),1===s[1].type&&_n(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Kr(s[3])){a!==s[3]&&xw(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function Up(i,s,a){return function cC(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Lt.None||d===Lt.Emulated)return null}return Cr(l,a)}(i,s.parent,a)}function Xs(i,s,a,l,d){_n(i)?i.insertBefore(s,a,l,d):s.insertBefore(a,l,d)}function my(i,s,a){_n(i)?i.appendChild(s,a):s.appendChild(a)}function Nw(i,s,a,l,d){null!==l?Xs(i,s,a,l,d):my(i,s,a)}function pd(i,s){return _n(i)?i.parentNode(s):s.parentNode}let yy=function Ow(i,s,a){return 40&i.type?Cr(i,a):null};function Bp(i,s,a,l){const d=Up(i,l,s),p=s[11],w=function Rw(i,s,a){return yy(i,s,a)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let I=0;I<a.length;I++)Nw(p,d,a[I],w,!1);else Nw(p,d,a,w,!1)}function gd(i,s){if(null!==s){const a=s.type;if(3&a)return Cr(s,i);if(4&a)return vy(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return gd(i,l);{const d=i[s.index];return Kr(d)?vy(-1,d):dn(d)}}if(32&a)return lt(s,i)()||dn(i[s.index]);{const l=Fw(i,s);return null!==l?Array.isArray(l)?l[0]:gd(qn(i[16]),l):gd(i,s.next)}}return null}function Fw(i,s){return null!==s?i[16][6].projection[s.projection]:null}function vy(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return gd(l,d)}return s[7]}function by(i,s,a,l,d,p,_){for(;null!=a;){const w=l[a.index],I=a.type;if(_&&0===s&&(w&&ti(dn(w),l),a.flags|=4),64!=(64&a.flags))if(8&I)by(i,s,a.child,l,d,p,!1),Na(s,i,d,w,p);else if(32&I){const x=lt(a,l);let k;for(;k=x();)Na(s,i,d,k,p);Na(s,i,d,w,p)}else 16&I?Lw(i,s,l,a,d,p):Na(s,i,d,w,p);a=_?a.projectionNext:a.next}}function jp(i,s,a,l,d,p){by(a,l,i.firstChild,s,d,p,!1)}function Lw(i,s,a,l,d,p){const _=a[16],I=_[6].projection[l.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)Na(s,i,d,I[x],p);else by(i,s,I,_[3],d,p,!0)}function Ey(i,s,a){_n(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Cy(i,s,a){_n(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Iy(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===l||i.charCodeAt(d+p)<=32)return d}a=d+1}}const Jo="ng-template";function gC(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==Iy(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Dy(i){return 4===i.type&&i.value!==Jo}function mC(i,s,a){return s===(4!==i.type||a?i.value:Jo)}function yC(i,s,a){let l=4;const d=i.attrs||[],p=function Mi(i){for(let s=0;s<i.length;s++)if(pr(i[s]))return s;return i.length}(d);let _=!1;for(let w=0;w<s.length;w++){const I=s[w];if("number"!=typeof I){if(!_)if(4&l){if(l=2|1&l,""!==I&&!mC(i,I,a)||""===I&&1===s.length){if(Xo(l))return!1;_=!0}}else{const x=8&l?I:s[++w];if(8&l&&null!==i.attrs){if(!gC(i.attrs,x,a)){if(Xo(l))return!1;_=!0}continue}const V=jh(8&l?"class":I,d,Dy(i),a);if(-1===V){if(Xo(l))return!1;_=!0;continue}if(""!==x){let G;G=V>p?"":d[V+1].toLowerCase();const ee=8&l?G:null;if(ee&&-1!==Iy(ee,x,0)||2&l&&x!==G){if(Xo(l))return!1;_=!0}}}}else{if(!_&&!Xo(l)&&!Xo(I))return!1;if(_&&Xo(I))continue;_=!1,l=I|1&l}}return Xo(l)||_}function Xo(i){return 0==(1&i)}function jh(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let p=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function ul(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function wu(i,s,a=!1){for(let l=0;l<s.length;l++)if(yC(i,s[l],a))return!0;return!1}function hn(i,s){return i?":not("+s.trim()+")":s}function Uw(i){let s=i[0],a=1,l=2,d="",p=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const w=i[++a];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!Xo(_)&&(s+=hn(p,d),d=""),l=_,p=p||!Xo(l);a++}return""!==d&&(s+=hn(p,d)),s}const Ut={};function Ty(i){Ay(Rt(),Ae(),Ir()+i,ma())}function Ay(i,s,a,l){if(!l)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Vo(s,p,a)}else{const p=i.preOrderHooks;null!==p&&ba(s,p,0,a)}vs(a)}function Hh(i,s){return i<<17|s<<2}function xs(i){return i>>17&32767}function Hp(i){return 2|i}function Ra(i){return(131068&i)>>2}function My(i,s){return-131069&i|s<<2}function $p(i){return 1|i}function Yw(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],p=a[l+1];if(-1!==p){const _=i.data[p];va(d),_.contentQueries(2,s[p],p)}}}function Wp(i,s,a,l,d,p,_,w,I,x){const k=s.blueprint.slice();return k[0]=d,k[2]=140|l,ps(k),k[3]=k[15]=i,k[8]=a,k[10]=_||i&&i[10],k[11]=w||i&&i[11],k[12]=I||i&&i[12]||null,k[9]=x||i&&i[9]||null,k[6]=p,k[16]=2==s.type?i[16]:k,k}function vd(i,s,a,l,d){let p=i.data[s];if(null===p)p=function Kp(i,s,a,l,d){const p=co(),_=ga(),I=i.data[s]=function Vy(i,s,a,l,d,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=I),null!==p&&(_?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}(i,s,a,l,d),function ru(){return wt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const _=function Zs(){const i=wt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Mr(p,!0),p}function Kh(i,s,a,l){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function dc(i,s,a){_s(s);try{const l=i.viewQuery;null!==l&&ig(1,l,a);const d=i.template;null!==d&&Yp(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Yw(i,s),i.staticViewQueries&&ig(2,i.viewQuery,a);const p=i.components;null!==p&&function IC(i,s){for(let a=0;a<s.length;a++)c0(i,s[a])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,qs()}}function wd(i,s,a,l){const d=s[2];if(256==(256&d))return;_s(s);const p=ma();try{ps(s),function ya(i){return wt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Yp(i,s,a,2,l);const _=3==(3&d);if(!p)if(_){const x=i.preOrderCheckHooks;null!==x&&Vo(s,x,null)}else{const x=i.preOrderHooks;null!==x&&ba(s,x,0,null),$n(s,0)}if(function NC(i){for(let s=ol(i);null!==s;s=al(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],p=d[3];0==(1024&d[2])&&gs(p,1),d[2]|=1024}}}(s),function u0(i){for(let s=ol(i);null!==s;s=al(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];pi(l)&&wd(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&Yw(i,s),!p)if(_){const x=i.contentCheckHooks;null!==x&&Vo(s,x)}else{const x=i.contentHooks;null!==x&&ba(s,x,1),$n(s,1)}!function Kw(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)vs(~d);else{const p=d,_=a[++l],w=a[++l];ho(_,p),w(2,s[p])}}}finally{vs(-1)}}(i,s);const w=i.components;null!==w&&function Qw(i,s){for(let a=0;a<s.length;a++)l0(i,s[a])}(s,w);const I=i.viewQuery;if(null!==I&&ig(2,I,l),!p)if(_){const x=i.viewCheckHooks;null!==x&&Vo(s,x)}else{const x=i.viewHooks;null!==x&&ba(s,x,2),$n(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,gs(s[3],-1))}finally{qs()}}function Jw(i,s,a,l){const d=s[10],p=!ma(),_=fs(s);try{p&&!_&&d.begin&&d.begin(),_&&dc(i,s,l),wd(i,s,a,l)}finally{p&&!_&&d.end&&d.end()}}function Yp(i,s,a,l,d){const p=Ir(),_=2&l;try{vs(-1),_&&s.length>20&&Ay(i,s,20,ma()),a(l,d)}finally{vs(p)}}function Qp(i,s,a){if(Uu(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const _=i.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function Xw(i,s,a){!Gs()||(function jy(i,s,a,l){const d=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||sr(a,s),ti(l,s);const _=a.initialInputs;for(let w=d;w<p;w++){const I=i.data[w],x=Pr(I);x&&o0(s,a,I);const k=zi(s,i,w,a);ti(k,s),null!==_&&MC(0,w-d,k,I,0,_),x&&(hr(a.index,s)[8]=k)}}(i,s,a,Cr(a,s)),128==(128&a.flags)&&function r0(i,s,a){const l=a.directiveStart,d=a.directiveEnd,_=a.index,w=function _a(){return wt.lFrame.currentDirectiveIndex}();try{vs(_);for(let I=l;I<d;I++){const x=i.data[I],k=s[I];Po(I),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&AC(x,k)}}finally{vs(-1),Po(w)}}(i,s,a))}function Yh(i,s,a=Cr){const l=s.localNames;if(null!==l){let d=s.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],w=-1===_?a(s,i):i[_];i[d++]=w}}}function bd(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=hc(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function hc(i,s,a,l,d,p,_,w,I,x){const k=20+l,V=k+d,G=function Ed(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Ut);return a}(k,V),ee="function"==typeof x?x():x;return G[1]={type:i,blueprint:G,template:a,queries:null,viewQuery:w,declTNode:s,data:G.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:ee,incompleteFirstPass:!1}}function Ly(i,s,a,l){const d=d0(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&qy(i).push(l,d.length-1))}function Uy(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function ki(i,s,a,l,d,p,_,w){const I=Cr(s,a);let k,x=s.inputs;!w&&null!=x&&(k=x[l])?(zy(i,a,k,l,d),as(s)&&function e0(i,s){const a=hr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function By(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=_?_(d,s.value||"",l):d,_n(p)?p.setProperty(I,l,d):gr(l)||(I.setProperty?I.setProperty(l,d):I[l]=d))}function bu(i,s,a,l){let d=!1;if(Gs()){const p=function BA(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];wu(a,_.selectors,!1)&&(d||(d=[]),po(sr(a,s),i,_.type),Pr(_)?(SC(i,a),d.unshift(_)):d.push(_))}return d}(i,s,a),_=null===l?null:{"":-1};if(null!==p){d=!0,Hy(a,i.data.length,p.length);for(let k=0;k<p.length;k++){const V=p[k];V.providersResolver&&V.providersResolver(V)}let w=!1,I=!1,x=Kh(i,s,p.length,null);for(let k=0;k<p.length;k++){const V=p[k];a.mergedAttrs=E(a.mergedAttrs,V.hostAttrs),s0(i,a,s,x,V),xC(x,V,_),null!==V.contentQueries&&(a.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(a.flags|=128);const G=V.type.prototype;!w&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!I&&(G.ngOnChanges||G.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),x++}!function Xp(i,s){const l=s.directiveEnd,d=i.data,p=s.attrs,_=[];let w=null,I=null;for(let x=s.directiveStart;x<l;x++){const k=d[x],V=k.inputs,G=null===p||Dy(s)?null:a0(V,p);_.push(G),w=Uy(V,x,w),I=Uy(k.outputs,x,I)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=w,s.outputs=I}(i,a)}_&&function jA(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new Pe(-301,!1);l.push(s[d],p)}}}(a,l,_)}return a.mergedAttrs=E(a.mergedAttrs,a.attrs),d}function n0(i,s,a,l,d,p){const _=p.hostBindings;if(_){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const I=~s.index;(function Qh(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=I&&w.push(I),w.push(l,d,_)}}function AC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function SC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function xC(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;Pr(s)&&(a[""]=i)}}function Hy(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function s0(i,s,a,l,d){i.data[l]=d;const p=d.factory||(d.factory=Fr(d.type)),_=new fo(p,Pr(d),null);i.blueprint[l]=_,a[l]=_,n0(i,s,0,l,Kh(i,a,d.hostVars,Ut),d)}function o0(i,s,a){const l=Cr(s,i),d=bd(a),p=i[10],_=tg(i,Wp(i,d,null,a.onPush?64:16,l,s,p,p.createRenderer(l,a),null,null));i[s.index]=_}function ea(i,s,a,l,d,p){const _=Cr(i,s);!function Jh(i,s,a,l,d,p,_){if(null==p)_n(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const w=null==_?ye(p):_(p,l||"",d);_n(i)?i.setAttribute(s,d,w,a):a?s.setAttributeNS(a,d,w):s.setAttribute(d,w)}}(s[11],_,p,i.value,a,l,d)}function MC(i,s,a,l,d,p){const _=p[s];if(null!==_){const w=l.setInput;for(let I=0;I<_.length;){const x=_[I++],k=_[I++],V=_[I++];null!==w?l.setInput(a,V,x,k):a[k]=V}}}function a0(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function kC(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function l0(i,s){const a=hr(s,i);if(pi(a)){const l=a[1];80&a[2]?wd(l,a,l.template,a[8]):a[5]>0&&$y(a)}}function $y(i){for(let l=ol(i);null!==l;l=al(l))for(let d=10;d<l.length;d++){const p=l[d];if(1024&p[2]){const _=p[1];wd(_,p,_.template,p[8])}else p[5]>0&&$y(p)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=hr(a[l],i);pi(d)&&d[5]>0&&$y(d)}}function c0(i,s){const a=hr(s,i),l=a[1];(function Gy(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),dc(l,a,a[8])}function tg(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function ng(i){for(;i;){i[2]|=64;const s=qn(i);if(Pl(i)&&!s)return i;i=s}return null}function Zy(i,s,a){const l=s[10];l.begin&&l.begin();try{wd(i,s,i.template,a)}catch(d){throw ef(s,d),d}finally{l.end&&l.end()}}function Xh(i){!function fc(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=Mh(a),d=l[1];Jw(d,l,d.template,a)}}(i[8])}function ig(i,s,a){va(0),s(i,a)}const sg=(()=>Promise.resolve(null))();function d0(i){return i[7]||(i[7]=[])}function qy(i){return i.cleanup||(i.cleanup=[])}function ef(i,s){const a=i[9],l=a?a.get($r,null):null;l&&l.handleError(s)}function zy(i,s,a,l,d){for(let p=0;p<a.length;){const _=a[p++],w=a[p++],I=s[_],x=i.data[_];null!==x.setInput?x.setInput(I,d,l,w):I[w]=d}}function Eu(i,s,a){const l=hi(s,i);!function dd(i,s,a){_n(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function tf(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?p=w:1==p?d=fe(d,w):2==p&&(l=fe(l,w+": "+s[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const og=new Vn("INJECTOR",-1);class Wy{get(s,a=$o){if(a===$o){const l=new Error(`NullInjectorError: No provider for ${pe(s)}!`);throw l.name="NullInjectorError",l}return a}}const Ky=new Vn("Set Injector scope."),Id={},pc={};let Yy;function Qy(){return void 0===Yy&&(Yy=new Wy),Yy}function p0(i,s=null,a=null,l){const d=Jy(i,s,a,l);return d._resolveInjectorDefTypes(),d}function Jy(i,s=null,a=null,l){return new FC(i,a,s||Qy(),l)}class FC{constructor(s,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Ti(a,w=>this.processProvider(w,s,a)),Ti([s],w=>this.processInjectorType(w,[],p)),this.records.set(og,gc(void 0,this));const _=this.records.get(Ky);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof s?null:pe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=$o,l=rt.Default){this.assertNotDestroyed();const d=Ne(this),p=ln(void 0);try{if(!(l&rt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const I=function qA(i){return"function"==typeof i||"object"==typeof i&&i instanceof Vn}(s)&&Yt(s);w=I&&this.injectableDefInScope(I)?gc(Xy(s),Id):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&rt.Self?Qy():this.parent).get(s,a=l&rt.Optional&&a===$o?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[el]=_[el]||[]).unshift(pe(s)),d)throw _;return function Sa(i,s,a,l){const d=i[el];throw s[j]&&d.unshift(s[j]),i.message=function Go(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=pe(s);if(Array.isArray(s))d=s.map(pe).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let w=s[_];p.push(_+":"+("string"==typeof w?JSON.stringify(w):pe(w)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(T,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[el]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{ln(p),Ne(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(pe(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processInjectorType(s,a,l){if(!(s=ne(s)))return!1;let d=lr(s);const p=null==d&&s.ngModule||void 0,_=void 0===p?s:p,w=-1!==l.indexOf(_);if(void 0!==p&&(d=lr(p)),null==d)return!1;if(null!=d.imports&&!w){let k;l.push(_);try{Ti(d.imports,V=>{this.processInjectorType(V,a,l)&&(void 0===k&&(k=[]),k.push(V))})}finally{}if(void 0!==k)for(let V=0;V<k.length;V++){const{ngModule:G,providers:ee}=k[V];Ti(ee,Ee=>this.processProvider(Ee,G,ee||mt))}}this.injectorDefTypes.add(_);const I=Fr(_)||(()=>new _);this.records.set(_,gc(I,Id));const x=d.providers;if(null!=x&&!w){const k=s;Ti(x,V=>this.processProvider(V,k,x))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,l){let d=mc(s=ne(s))?s:ne(s&&s.provide);const p=function g0(i,s,a){return y0(i)?gc(void 0,i.useValue):gc(m0(i),Id)}(s);if(mc(s)||!0!==s.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=gc(void 0,Id,!0),_.factory=()=>Ot(_.multi),this.records.set(d,_)),d=s,_.multi.push(s)}this.records.set(d,p)}hydrate(s,a){return a.value===Id&&(a.value=pc,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ZA(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ne(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Xy(i){const s=Yt(i),a=null!==s?s.factory:Fr(i);if(null!==a)return a;if(i instanceof Vn)throw new Pe(204,!1);if(i instanceof Function)return function e_(i){const s=i.length;if(s>0)throw function Yi(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new Pe(204,!1);const a=function Ar(i){const s=i&&(i[qr]||i[Li]);if(s){const a=function rs(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Pe(204,!1)}function m0(i,s,a){let l;if(mc(i)){const d=ne(i);return Fr(d)||Xy(d)}if(y0(i))l=()=>ne(i.useValue);else if(function LC(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Ot(i.deps||[]));else if(function _0(i){return!(!i||!i.useExisting)}(i))l=()=>ut(ne(i.useExisting));else{const d=ne(i&&(i.useClass||i.provide));if(!function v0(i){return!!i.deps}(i))return Fr(d)||Xy(d);l=()=>new d(...Ot(i.deps))}return l}function gc(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function y0(i){return null!==i&&"object"==typeof i&&J in i}function mc(i){return"function"==typeof i}let Cu=(()=>{class i{static create(a,l){var d;if(Array.isArray(a))return p0({name:""},l,a,"");{const p=null!==(d=a.name)&&void 0!==d?d:"";return p0({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=$o,i.NULL=new Wy,i.\u0275prov=zt({token:i,providedIn:"any",factory:()=>ut(og)}),i.__NG_ELEMENT_ID__=-1,i})();function qC(i,s){Ii(Mh(i)[1],In())}function T0(i){let s=function zC(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(Pr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Pe(903,"");d=s.\u0275dir}if(d){if(a){l.push(d);const _=i;_.inputs=A0(i.inputs),_.declaredInputs=A0(i.declaredInputs),_.outputs=A0(i.outputs);const w=d.hostBindings;w&&XA(i,w);const I=d.viewQuery,x=d.contentQueries;if(I&&QA(i,I),x&&JA(i,x),de(i.inputs,d.inputs),de(i.declaredInputs,d.declaredInputs),de(i.outputs,d.outputs),Pr(d)&&d.data.animation){const k=i.data;k.animation=(k.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const w=p[_];w&&w.ngInherit&&w(i),w===T0&&(a=!1)}}s=Object.getPrototypeOf(s)}!function YA(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=E(d.hostAttrs,a=E(a,d.hostAttrs))}}(l)}function A0(i){return i===nr?{}:i===mt?[]:i}function QA(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function JA(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,p)=>{s(l,d,p),a(l,d,p)}:s}function XA(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let ta=null;function _c(){if(!ta){const i=At.Symbol;if(i&&i.iterator)ta=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(ta=l)}}}return ta}function sf(i){return!!Dd(i)&&(Array.isArray(i)||!(i instanceof Map)&&_c()in i)}function Dd(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ri(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function s_(i,s,a,l){const d=Ae();return Ri(d,ys(),s)&&(Rt(),ea(Nn(),d,i,s,a,l)),s_}function Ad(i,s,a,l){return Ri(i,ys(),a)?s+ye(a)+l:Ut}function O0(i,s,a,l,d,p,_,w){const I=Ae(),x=Rt(),k=i+20,V=x.firstCreatePass?function R0(i,s,a,l,d,p,_,w,I){const x=s.consts,k=vd(s,i,4,_||null,Ur(x,w));bu(s,a,k,Ur(x,I)),Ii(s,k);const V=k.tViews=hc(2,k,l,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,x);return null!==s.queries&&(s.queries.template(s,k),V.queries=s.queries.embeddedTView(k)),k}(k,x,I,s,a,l,d,p,_):x.data[k];Mr(V,!1);const G=I[11].createComment("");Bp(x,I,G,V),ti(G,I),tg(I,I[k]=kC(G,I,G,V)),oa(V)&&Xw(x,I,V),null!=_&&Yh(I,V,w)}function pf(i,s=rt.Default){const a=Ae();return null===a?ut(i,s):go(In(),a,ne(i),s)}function y_(){throw new Error("invalid")}function hg(i,s,a){const l=Ae();return Ri(l,ys(),s)&&ki(Rt(),Nn(),l,i,s,l[11],a,!1),hg}function fg(i,s,a,l,d){const _=d?"class":"style";zy(i,a,s.inputs[_],_,l)}function gf(i,s,a,l){const d=Ae(),p=Rt(),_=20+i,w=d[11],I=d[_]=hd(w,s,function dh(){return wt.lFrame.currentNamespace}()),x=p.firstCreatePass?function Z0(i,s,a,l,d,p,_){const w=s.consts,x=vd(s,i,2,d,Ur(w,p));return bu(s,a,x,Ur(w,_)),null!==x.attrs&&tf(x,x.attrs,!1),null!==x.mergedAttrs&&tf(x,x.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,x),x}(_,p,d,0,s,a,l):p.data[_];Mr(x,!0);const k=x.mergedAttrs;null!==k&&Ct(w,I,k);const V=x.classes;null!==V&&Cy(w,I,V);const G=x.styles;return null!==G&&Ey(w,I,G),64!=(64&x.flags)&&Bp(p,d,I,x),0===function No(){return wt.lFrame.elementDepthCount}()&&ti(I,d),function Ro(){wt.lFrame.elementDepthCount++}(),oa(x)&&(Xw(p,d,x),Qp(p,x,d)),null!==l&&Yh(d,x),gf}function __(){let i=In();ga()?tu():(i=i.parent,Mr(i,!1));const s=i;!function pa(){wt.lFrame.elementDepthCount--}();const a=Rt();return a.firstCreatePass&&(Ii(a,i),Uu(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Ul(i){return 0!=(16&i.flags)}(s)&&fg(a,s,Ae(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Zc(i){return 0!=(32&i.flags)}(s)&&fg(a,s,Ae(),s.stylesWithoutHost,!1),__}function v_(i,s,a,l){return gf(i,s,a,l),__(),v_}function Md(i,s,a){const l=Ae(),d=Rt(),p=i+20,_=d.firstCreatePass?function nS(i,s,a,l,d){const p=s.consts,_=Ur(p,l),w=vd(s,i,8,"ng-container",_);return null!==_&&tf(w,_,!0),bu(s,a,w,Ur(p,d)),null!==s.queries&&s.queries.elementStart(s,w),w}(p,d,l,s,a):d.data[p];Mr(_,!0);const w=l[p]=l[11].createComment("");return Bp(d,l,w,_),ti(w,l),oa(_)&&(Xw(d,l,_),Qp(d,_,l)),null!=a&&Yh(l,_),Md}function w_(){let i=In();const s=Rt();return ga()?tu():(i=i.parent,Mr(i,!1)),s.firstCreatePass&&(Ii(s,i),Uu(i)&&s.queries.elementEnd(i)),w_}function b_(){return Ae()}function E_(i){return!!i&&"function"==typeof i.then}function C_(i){return!!i&&"function"==typeof i.subscribe}const pg=C_;function mf(i,s,a,l){const d=Ae(),p=Rt(),_=In();return function dI(i,s,a,l,d,p,_,w){const I=oa(l),k=i.firstCreatePass&&qy(i),V=s[8],G=d0(s);let ee=!0;if(3&l.type||w){const $e=Cr(l,s),ct=w?w($e):$e,Me=G.length,tt=w?ot=>w(dn(ot[l.index])):l.index;if(_n(a)){let ot=null;if(!w&&I&&(ot=function I_(i,s,a,l){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===a&&d[p+1]===l){const w=s[7],I=d[p+2];return w.length>I?w[I]:null}"string"==typeof _&&(p+=2)}return null}(i,s,d,l.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=p,ot.__ngLastListenerFn__=p,ee=!1;else{p=W0(l,s,V,p,!1);const bn=a.listen(ct,d,p);G.push(p,bn),k&&k.push(d,tt,Me,Me+1)}}else p=W0(l,s,V,p,!0),ct.addEventListener(d,p,_),G.push(p),k&&k.push(d,tt,Me,_)}else p=W0(l,s,V,p,!1);const Ee=l.outputs;let Be;if(ee&&null!==Ee&&(Be=Ee[d])){const $e=Be.length;if($e)for(let ct=0;ct<$e;ct+=2){const Ns=s[Be[ct]][Be[ct+1]].subscribe(p),Rs=G.length;G.push(p,Ns),k&&k.push(d,l.index,Rs,-(Rs+1))}}}(p,d,d[11],_,i,s,!!a,l),mf}function z0(i,s,a,l){try{return!1!==a(l)}catch(d){return ef(i,d),!1}}function W0(i,s,a,l,d){return function p(_){if(_===Function)return l;const w=2&i.flags?hr(i.index,s):s;0==(32&s[2])&&ng(w);let I=z0(s,0,l,_),x=p.__ngNextListenerFn__;for(;x;)I=z0(s,0,x,_)&&I,x=x.__ngNextListenerFn__;return d&&!1===I&&(_.preventDefault(),_.returnValue=!1),I}}function K0(i=1){return function mi(i){return(wt.lFrame.contextLView=function ou(i,s){for(;i>0;)s=s[15],i--;return s}(i,wt.lFrame.contextLView))[8]}(i)}function D_(i,s,a){return Y0(i,"",s,"",a),D_}function Y0(i,s,a,l,d){const p=Ae(),_=Ad(p,s,a,l);return _!==Ut&&ki(Rt(),Nn(),p,i,_,p[11],d,!1),Y0}function x_(i,s,a,l,d){const p=i[a+1],_=null===s;let w=l?xs(p):Ra(p),I=!1;for(;0!==w&&(!1===I||_);){const k=i[w+1];gg(i[w],s)&&(I=!0,i[w+1]=l?$p(k):Hp(k)),w=l?xs(k):Ra(k)}I&&(i[a+1]=l?Hp(p):$p(p))}function gg(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&_o(i,s)>=0}const ii={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yf(i){return i.substring(ii.key,ii.keyEnd)}function eb(i,s){const a=ii.textEnd;return a===s?-1:(s=ii.keyEnd=function bI(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,ii.key=s,a),kd(i,s,a))}function kd(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function k_(i,s){return function ra(i,s,a,l){const d=Ae(),p=Rt(),_=gi(2);p.firstUpdatePass&&ob(p,i,_,l),s!==Ut&&Ri(d,_,s)&&R_(p,p.data[Ir()],d,d[11],i,d[_+1]=function AI(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=pe(vo(i)))),i}(s,a),l,_)}(i,s,null,!0),k_}function Va(i,s){for(let a=function vI(i){return function mg(i){ii.key=0,ii.keyEnd=0,ii.value=0,ii.valueEnd=0,ii.textEnd=i.length}(i),eb(i,kd(i,0,ii.textEnd))}(s);a>=0;a=eb(s,a))mr(i,yf(s),!0)}function sb(i,s){return s>=i.expandoStartIndex}function ob(i,s,a,l){const d=i.data;if(null===d[a+1]){const p=d[Ir()],_=sb(i,a);db(p,l)&&null===s&&!_&&(s=!1),s=function DI(i,s,a,l){const d=function Fo(i){const s=wt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=_f(a=N_(null,i,s,a,l),s.attrs,l),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(a=N_(d,i,s,a,l),null===p){let I=function ab(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Ra(l))return i[xs(l)]}(i,s,l);void 0!==I&&Array.isArray(I)&&(I=N_(null,i,s,I[1],l),I=_f(I,s.attrs,l),function ub(i,s,a,l){i[xs(a?s.classBindings:s.styleBindings)]=l}(i,s,l,I))}else p=function Tu(i,s,a){let l;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)l=_f(l,i[p].hostAttrs,a);return _f(l,s.attrs,a)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,l),function J0(i,s,a,l,d,p){let _=p?s.classBindings:s.styleBindings,w=xs(_),I=Ra(_);i[l]=a;let k,x=!1;if(Array.isArray(a)){const V=a;k=V[1],(null===k||_o(V,k)>0)&&(x=!0)}else k=a;if(d)if(0!==I){const G=xs(i[w+1]);i[l+1]=Hh(G,w),0!==G&&(i[G+1]=My(i[G+1],l)),i[w+1]=function Hw(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=Hh(w,0),0!==w&&(i[w+1]=My(i[w+1],l)),w=l;else i[l+1]=Hh(I,0),0===w?w=l:i[I+1]=My(i[I+1],l),I=l;x&&(i[l+1]=Hp(i[l+1])),x_(i,k,l,!0),x_(i,k,l,!1),function X0(i,s,a,l,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&_o(p,s)>=0&&(a[l+1]=$p(a[l+1]))}(s,k,i,l,p),_=Hh(w,I),p?s.classBindings=_:s.styleBindings=_}(d,p,s,a,_,l)}}function N_(i,s,a,l,d){let p=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(p=s[w],l=_f(l,p.hostAttrs,d),p!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function _f(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?d=_:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),mr(i,_,!!a||s[++p]))}return void 0===i?null:i}function R_(i,s,a,l,d,p,_,w){if(!(3&s.type))return;const I=i.data,x=I[w+1];O_(function ky(i){return 1==(1&i)}(x)?Au(I,s,a,d,Ra(x),_):void 0)||(O_(p)||function xy(i){return 2==(2&i)}(x)&&(p=Au(I,null,a,d,w,_)),function Qo(i,s,a,l,d){const p=_n(i);if(s)d?p?i.addClass(a,l):a.classList.add(l):p?i.removeClass(a,l):a.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:he.DashCase;if(null==d)p?i.removeStyle(a,l,_):a.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),_|=he.Important),p?i.setStyle(a,l,d,_):a.style.setProperty(l,d,w?"important":"")}}}(l,_,hi(Ir(),a),d,p))}function Au(i,s,a,l,d,p){const _=null===s;let w;for(;d>0;){const I=i[d],x=Array.isArray(I),k=x?I[1]:I,V=null===k;let G=a[d+1];G===Ut&&(G=V?mt:void 0);let ee=V?Wl(G,l):k===l?G:void 0;if(x&&!O_(ee)&&(ee=Wl(I,l)),O_(ee)&&(w=ee,_))return w;const Ee=i[d+1];d=_?xs(Ee):Ra(Ee)}if(null!==s){let I=p?s.residualClasses:s.residualStyles;null!=I&&(w=Wl(I,l))}return w}function O_(i){return void 0!==i}function db(i,s){return 0!=(i.flags&(s?16:32))}function P_(i,s=""){const a=Ae(),l=Rt(),d=i+20,p=l.firstCreatePass?vd(l,d,1,s,null):l.data[d],_=a[d]=function cd(i,s){return _n(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Bp(l,a,_,p),Mr(p,!1)}function yg(i){return vf("",i,""),yg}function vf(i,s,a){const l=Ae(),d=Ad(l,i,s,a);return d!==Ut&&Eu(l,Ir(),d),vf}function L_(i,s,a){!function ia(i,s,a,l){const d=Rt(),p=gi(2);d.firstUpdatePass&&ob(d,null,p,l);const _=Ae();if(a!==Ut&&Ri(_,p,a)){const w=d.data[Ir()];if(db(w,l)&&!sb(d,p)){let I=l?w.classesWithoutHost:w.stylesWithoutHost;null!==I&&(a=fe(I,a||"")),fg(d,w,_,a,l)}else!function cb(i,s,a,l,d,p,_,w){d===Ut&&(d=mt);let I=0,x=0,k=0<d.length?d[0]:null,V=0<p.length?p[0]:null;for(;null!==k||null!==V;){const G=I<d.length?d[I+1]:void 0,ee=x<p.length?p[x+1]:void 0;let Be,Ee=null;k===V?(I+=2,x+=2,G!==ee&&(Ee=V,Be=ee)):null===V||null!==k&&k<V?(I+=2,Ee=k):(x+=2,Ee=V,Be=ee),null!==Ee&&R_(i,s,a,l,Ee,Be,_,w),k=I<d.length?d[I]:null,V=x<p.length?p[x]:null}}(d,w,_,_[11],_[p+1],_[p+1]=function TI(i,s,a){if(null==a||""===a)return mt;const l=[],d=vo(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)i(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&i(l,p,d[p]);else"string"==typeof d&&s(l,d);return l}(i,s,a),l,p)}}(mr,Va,Ad(Ae(),i,s,a),!0)}const Su=void 0;var FI=["en",[["a","p"],["AM","PM"],Su],[["AM","PM"],Su,Su],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Su,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Su,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Su,"{1} 'at' {0}",Su],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function PI(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let bf={};function B_(i){const s=function j_(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Eg(s);if(a)return a;const l=s.split("-")[0];if(a=Eg(l),a)return a;if("en"===l)return FI;throw new Error(`Missing locale data for the locale "${i}".`)}function dt(i){return B_(i)[Dt.PluralCase]}function Eg(i){return i in bf||(bf[i]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[i]),bf[i]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const Rd="en-US";let si=Rd;function Fg(i,s,a,l,d){if(i=ne(i),Array.isArray(i))for(let p=0;p<i.length;p++)Fg(i[p],s,a,l,d);else{const p=Rt(),_=Ae();let w=mc(i)?i:ne(i.provide),I=m0(i);const x=In(),k=1048575&x.providerIndexes,V=x.directiveStart,G=x.providerIndexes>>20;if(mc(i)||!i.multi){const ee=new fo(I,d,pf),Ee=Vd(w,s,d?k:k+G,V);-1===Ee?(po(sr(x,_),p,w),Lg(p,i,s.length),s.push(w),x.directiveStart++,x.directiveEnd++,d&&(x.providerIndexes+=1048576),a.push(ee),_.push(ee)):(a[Ee]=ee,_[Ee]=ee)}else{const ee=Vd(w,s,k+G,V),Ee=Vd(w,s,k,k+G),Be=ee>=0&&a[ee],$e=Ee>=0&&a[Ee];if(d&&!$e||!d&&!Be){po(sr(x,_),p,w);const ct=function nD(i,s,a,l,d){const p=new fo(i,a,pf);return p.multi=[],p.index=s,p.componentProviders=0,hv(p,d,l&&!a),p}(d?tD:eD,a.length,d,l,I);!d&&$e&&(a[Ee].providerFactory=ct),Lg(p,i,s.length,0),s.push(w),x.directiveStart++,x.directiveEnd++,d&&(x.providerIndexes+=1048576),a.push(ct),_.push(ct)}else Lg(p,i,ee>-1?ee:Ee,hv(a[d?Ee:ee],I,!d&&l));!d&&l&&$e&&a[Ee].componentProviders++}}}function Lg(i,s,a,l){const d=mc(s),p=function VC(i){return!!i.useClass}(s);if(d||p){const I=(p?ne(s.useClass):s).prototype.ngOnDestroy;if(I){const x=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const k=x.indexOf(a);-1===k?x.push(a,[l,I]):x[k+1].push(l,I)}else x.push(a,I)}}}function hv(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Vd(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function eD(i,s,a,l){return yl(this.multi,[])}function tD(i,s,a,l){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=zi(a,a[1],this.providerFactory.index,l);p=w.slice(0,_),yl(d,p);for(let I=_;I<w.length;I++)p.push(w[I])}else p=[],yl(d,p);return p}function yl(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Fb(i,s=[]){return a=>{a.providersResolver=(l,d)=>function Af(i,s,a){const l=Rt();if(l.firstCreatePass){const d=Pr(i);Fg(a,l.data,l.blueprint,d,!0),Fg(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class fv{}class Lb{resolveComponentFactory(s){throw function Vg(i){const s=Error(`No component factory found for ${pe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let ai=(()=>{class i{}return i.NULL=new Lb,i})();function Vb(){return Ua(In(),Ae())}function Ua(i,s){return new _l(Cr(i,s))}let _l=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Vb,i})();function Ub(i){return i instanceof _l?i.nativeElement:i}class gv{}let jb=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function mv(){const i=Ae(),a=hr(In().index,i);return function Sf(i){return i[11]}(di(a)?a:i)}(),i})(),yv=(()=>{class i{}return i.\u0275prov=zt({token:i,providedIn:"root",factory:()=>null}),i})();class Bg{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const xf=new Bg("13.3.5"),Ic={};function Mf(i,s,a,l,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&l.push(dn(p)),Kr(p))for(let w=10;w<p.length;w++){const I=p[w],x=I[1].firstChild;null!==x&&Mf(I[1],I,x,l)}const _=a.type;if(8&_)Mf(i,s,a.child,l);else if(32&_){const w=lt(a,s);let I;for(;I=w();)l.push(I)}else if(16&_){const w=Fw(s,a);if(Array.isArray(w))l.push(...w);else{const I=qn(s[16]);Mf(I[1],I,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class kf{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Mf(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Kr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(fy(s,l),Qs(a,l))}this._attachedToViewContainer=!1}py(this._lView[1],this._lView)}onDestroy(s){Ly(this._lView[1],this._lView,null,s)}markForCheck(){ng(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function OC(i,s,a){ms(!0);try{Zy(i,s,a)}finally{ms(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vp(i,s){jp(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Pe(902,"");this._appRef=s}}class _v extends kf{constructor(s){super(s),this._view=s}detectChanges(){Xh(this._view)}checkNoChanges(){!function rg(i){ms(!0);try{Xh(i)}finally{ms(!1)}}(this._view)}get context(){return null}}class Nf extends ai{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Xt(s);return new Hg(a,this.ngModule)}}function jg(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Hg extends fv{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Bw(i){return i.map(Uw).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return jg(this.componentDef.inputs)}get outputs(){return jg(this.componentDef.outputs)}create(s,a,l,d){const p=(d=d||this.ngModule)?function $b(i,s){return{get:(a,l,d)=>{const p=i.get(a,Ic,d);return p!==Ic||l===Ic?p:s.get(a,l,d)}}}(s,d.injector):s,_=p.get(gv,hs),w=p.get(yv,null),I=_.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",k=l?function Jp(i,s,a){if(_n(i))return i.selectRootElement(s,a===Lt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(I,l,this.componentDef.encapsulation):hd(_.createRenderer(null,this.componentDef),x,function Hb(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(x)),V=this.componentDef.onPush?576:528,G=function D0(i,s){return{components:[],scheduler:i||uy,clean:sg,playerHandler:s||null,flags:0}}(),ee=hc(0,null,null,1,0,null,null,null,null,null),Ee=Wp(null,ee,G,V,null,null,_,I,w,p);let Be,$e;_s(Ee);try{const ct=function GC(i,s,a,l,d,p){const _=a[1];a[20]=i;const I=vd(_,20,2,"#host",null),x=I.mergedAttrs=s.hostAttrs;null!==x&&(tf(I,x,!0),null!==i&&(Ct(d,i,x),null!==I.classes&&Cy(d,i,I.classes),null!==I.styles&&Ey(d,i,I.styles)));const k=l.createRenderer(i,s),V=Wp(a,bd(s),null,s.onPush?64:16,a[20],I,l,k,p||null,null);return _.firstCreatePass&&(po(sr(I,a),_,s.type),SC(_,I),Hy(I,a.length,1)),tg(a,V),a[20]=V}(k,this.componentDef,Ee,_,I);if(k)if(l)Ct(I,k,["ng-version",xf.full]);else{const{attrs:Me,classes:tt}=function jw(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++l]):8===d&&a.push(p);else{if(!Xo(d))break;d=p}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Me&&Ct(I,k,Me),tt&&tt.length>0&&Cy(I,k,tt.join(" "))}if($e=Mo(ee,20),void 0!==a){const Me=$e.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const ot=a[tt];Me.push(null!=ot?Array.from(ot):null)}}Be=function ZC(i,s,a,l,d){const p=a[1],_=function Pa(i,s,a){const l=In();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),s0(i,l,s,Kh(i,s,1,null),a));const d=zi(s,i,l.directiveStart,l);ti(d,s);const p=Cr(l,s);return p&&ti(p,s),d}(p,a,s);if(l.components.push(_),i[8]=_,d&&d.forEach(I=>I(_,s)),s.contentQueries){const I=In();s.contentQueries(1,_,I.directiveStart)}const w=In();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(vs(w.index),n0(a[1],w,0,w.directiveStart,w.directiveEnd,s),AC(s,_)),_}(ct,this.componentDef,Ee,G,[qC]),dc(ee,Ee,null)}finally{qs()}return new Gb(this.componentType,Be,Ua($e,Ee),Ee,$e)}}class Gb extends class Cc{}{constructor(s,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new _v(d),this.componentType=s}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Ba{}class vl{}const wl=new Map;class qb extends Ba{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Nf(this);const l=mn(s);this._bootstrapComponents=g(l.bootstrap),this._r3Injector=Jy(s,a,[{provide:Ba,useValue:this},{provide:ai,useValue:this.componentFactoryResolver}],pe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Cu.THROW_IF_NOT_FOUND,l=rt.Default){return s===Cu||s===Ba||s===og?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Mu extends vl{constructor(s){super(),this.moduleType=s,null!==mn(s)&&function Ud(i){const s=new Set;!function a(l){const d=mn(l,!0),p=d.id;null!==p&&(function Zg(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${pe(s)} vs ${pe(s.name)}`)}(p,wl.get(p),l),wl.set(p,l));const _=g(d.imports);for(const w of _)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new qb(this.moduleType,s)}}function Wb(i,s,a,l,d,p){const _=s+a;return Ri(i,_,d)?function bo(i,s,a){return i[s]=a}(i,_+1,p?l.call(p,d):l(d)):function Nu(i,s){const a=i[s];return a===Ut?void 0:a}(i,_+1)}function Jb(i,s){const a=Rt();let l;const d=i+20;a.firstCreatePass?(l=function Of(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const p=l.factory||(l.factory=Fr(l.type)),_=ln(pf);try{const w=Rn(!1),I=p();return Rn(w),function KC(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,Ae(),d,I),I}finally{ln(_)}}function Ru(i,s,a){const l=i+20,d=Ae(),p=function fi(i,s){return i[s]}(d,l);return function Pf(i,s){return i[1].data[s].pure}(d,l)?Wb(d,function fr(){const i=wt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),s,p.transform,a,p):p.transform(a)}function Yg(i){return s=>{setTimeout(i,void 0,s)}}const ja=class aD extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var d,p,_;let w=s,I=a||(()=>null),x=l;if(s&&"object"==typeof s){const V=s;w=null===(d=V.next)||void 0===d?void 0:d.bind(V),I=null===(p=V.error)||void 0===p?void 0:p.bind(V),x=null===(_=V.complete)||void 0===_?void 0:_.bind(V)}this.__isAsync&&(I=Yg(I),w&&(w=Yg(w)),x&&(x=Yg(x)));const k=super.subscribe({next:w,error:I,complete:x});return s instanceof Q.w0&&s.add(k),k}};function nE(){return this._results[_c()]()}class Qg{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=_c(),l=Qg.prototype;l[a]||(l[a]=nE)}get changes(){return this._changes||(this._changes=new ja)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=jr(s);(this._changesDetected=!function $l(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],p=s[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Dc=(()=>{class i{}return i.__NG_ELEMENT_ID__=iE,i})();const wv=Dc,rE=class extends wv{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=Wp(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(a)),dc(a,l,s),new kf(l)}};function iE(){return jd(In(),Ae())}function jd(i,s){return 4&i.type?new rE(s,i,Ua(i,s)):null}let Jg=(()=>{class i{}return i.__NG_ELEMENT_ID__=uD,i})();function uD(){return Xg(In(),Ae())}const lD=Jg,Ff=class extends lD{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Di(this._hostTNode,this._hostLView);if(M(s)){const a=Xe(s,this._hostLView),l=B(s);return new Wi(a[1].data[l+8],a)}return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Hd(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const d=s.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(s,a,l,d,p){const _=s&&!function Ta(i){return"function"==typeof i}(s);let w;if(_)w=a;else{const V=a||{};w=V.index,l=V.injector,d=V.projectableNodes,p=V.ngModuleRef}const I=_?s:new Hg(Xt(s)),x=l||this.parentInjector;if(!p&&null==I.ngModule){const G=(_?x:this.parentInjector).get(Ba,null);G&&(p=G)}const k=I.create(x,d,void 0,p);return this.insert(k.hostView,w),k}insert(s,a){const l=s._lView,d=l[1];if(function ko(i){return Kr(i[3])}(l)){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const V=l[3],G=new Ff(V,V[6],V[3]);G.detach(G.indexOf(s))}}const p=this._adjustIndex(a),_=this._lContainer;!function hy(i,s,a,l){const d=10+l,p=a.length;l>0&&(a[d-1][4]=s),l<p-10?(s[4]=a[d],Gl(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function fd(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(d,l,_,p);const w=vy(p,_),I=l[11],x=pd(I,_[7]);return null!==x&&function Bh(i,s,a,l,d,p){l[0]=d,l[6]=s,jp(i,l,a,1,d,p)}(d,_[6],I,l,x,w),s.attachToViewContainerRef(),Gl($d(_),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Hd(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=fy(this._lContainer,a);l&&(Qs($d(this._lContainer),a),py(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=fy(this._lContainer,a);return l&&null!=Qs($d(this._lContainer),a)?new kf(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Hd(i){return i[8]}function $d(i){return i[8]||(i[8]=[])}function Xg(i,s){let a;const l=s[i.index];if(Kr(l))a=l;else{let d;if(8&i.type)d=dn(l);else{const p=s[11];d=p.createComment("");const _=Cr(i,s);Xs(p,pd(p,_),d,function hC(i,s){return _n(i)?i.nextSibling(s):s.nextSibling}(p,_),!1)}s[i.index]=a=kC(l,s,d,i),tg(s,a)}return new Ff(a,i,s)}class bv{constructor(s){this.queryList=s,this.matches=null}clone(){return new bv(this.queryList)}setDirty(){this.queryList.setDirty()}}class _r{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new _r(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Vf(s,a).matches&&this.queries[a].setDirty()}}class Ev{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Cv{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(s,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new Cv(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Iv{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Iv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(s,a,cD(a,p)),this.matchTNodeWithReadOption(s,a,Ca(a,s,p,!1,!1))}else l===Dc?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ca(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===_l||d===Jg||d===Dc&&4&a.type)this.addMatch(a.index,-2);else{const p=Ca(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function cD(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function oE(i,s,a,l){return-1===a?function dD(i,s){return 11&i.type?Ua(i,s):4&i.type?jd(i,s):null}(s,i):-2===a?function aE(i,s,a){return a===_l?Ua(s,i):a===Dc?jd(s,i):a===Jg?Xg(s,i):void 0}(i,s,l):zi(i,i[1],a,s)}function Dv(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const p=i.data,_=a.matches,w=[];for(let I=0;I<_.length;I+=2){const x=_[I];w.push(x<0?null:oE(s,p[x],_[I+1],a.metadata.read))}d.matches=w}return d.matches}function Gd(i,s,a,l){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const _=Dv(i,s,d,a);for(let w=0;w<p.length;w+=2){const I=p[w];if(I>0)l.push(_[w/2]);else{const x=p[w+1],k=s[-I];for(let V=10;V<k.length;V++){const G=k[V];G[17]===G[3]&&Gd(G[1],G,x,l)}if(null!==k[9]){const V=k[9];for(let G=0;G<V.length;G++){const ee=V[G];Gd(ee[1],ee,x,l)}}}}}return l}function Tv(i){const s=Ae(),a=Rt(),l=iu();va(l+1);const d=Vf(a,l);if(i.dirty&&fs(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Gd(a,s,l,[]):Dv(a,s,d,l);i.reset(p,Ub),i.notifyOnChanges()}return!0}return!1}function Av(i,s,a,l){const d=Rt();if(d.firstCreatePass){const p=In();(function xv(i,s,a){null===i.queries&&(i.queries=new Cv),i.queries.track(new Iv(s,a))})(d,new Ev(s,a,l),p.index),function Mv(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function Zd(i,s,a){const l=new Qg(4==(4&a));Ly(i,s,l,l.destroy),null===s[19]&&(s[19]=new _r),s[19].queries.push(new bv(l))}(d,Ae(),a)}function uE(){return function Sv(i,s){return i[19].queries[s].queryList}(Ae(),iu())}function Vf(i,s){return i.queries.getByIndex(s)}function am(...i){}const gE=new Vn("Application Initializer");let mE=(()=>{class i{constructor(a){this.appInits=a,this.resolve=am,this.reject=am,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(E_(p))a.push(p);else if(pg(p)){const _=new Promise((w,I)=>{p.subscribe({complete:w,error:I})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(ut(gE,8))},i.\u0275prov=zt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ms=new Vn("AppId",{providedIn:"root",factory:function yE(){return`${Gt()}${Gt()}${Gt()}`}});function Gt(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ac=new Vn("Platform Initializer"),_E=new Vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vr=new Vn("appBootstrapListener");let vE=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=zt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const um=new Vn("LocaleId",{providedIn:"root",factory:()=>Ht(um,rt.Optional|rt.SkipSelf)||function Sc(){return"undefined"!=typeof $localize&&$localize.locale||Rd}()}),Zf=new Vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Kd{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let bD=(()=>{class i{compileModuleSync(a){return new Mu(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=g(mn(a).declarations).reduce((_,w)=>{const I=Xt(w);return I&&_.push(new Hg(I)),_},[]);return new Kd(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=zt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Il=(()=>Promise.resolve(0))();function Yn(i){"undefined"==typeof Zone?Il.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class to{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function xc(){let i=At.requestAnimationFrame,s=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Fu(i){const s=()=>{!function ED(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(At,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Lu(i),i.isCheckStableRunning=!0,Mc(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Lu(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,_,w)=>{try{return Yd(i),a.invokeTask(d,p,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),Lv(i)}},onInvoke:(a,l,d,p,_,w,I)=>{try{return Yd(i),a.invoke(d,p,_,w,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),Lv(i)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Lu(i),Mc(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!to.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(to.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,s,wE,am,am);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const wE={};function Mc(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Lu(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Yd(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Lv(i){i._nesting--,Mc(i)}class Qe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}let Vv=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{to.assertNotInAngularZone(),Yn(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yn(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(ut(to))},i.\u0275prov=zt({token:i,factory:i.\u0275fac}),i})(),bE=(()=>{class i{constructor(){this._applications=new Map,Nc.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Nc.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=zt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class kc{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function Ha(i){Nc=i}let Nc=new kc,ks=null;const Uv=new Vn("AllowMultipleToken"),Rc=new Vn("PlatformOnDestroy");class qf{constructor(s,a){this.name=s,this.token=a}}function Hv(i,s,a=[]){const l=`Platform: ${s}`,d=new Vn(l);return(p=[])=>{let _=$v();if(!_||_.injector.get(Uv,!1)){const w=[...a,...p,{provide:d,useValue:!0}];i?i(w):function EE(i){if(ks&&!ks.get(Uv,!1))throw new Pe(400,"");ks=i;const s=i.get(CE),a=i.get(Ac,null);a&&a.forEach(l=>l())}(function zf(i=[],s){return Cu.create({name:s,providers:[{provide:Ky,useValue:"platform"},{provide:Rc,useValue:()=>ks=null},...i]})}(w,l))}return function lm(i){const s=$v();if(!s)throw new Pe(401,"");return s}()}}function $v(){var i;return null!==(i=null==ks?void 0:ks.get(CE))&&void 0!==i?i:null}let CE=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function IE(i,s){let a;return a="noop"===i?new Qe:("zone.js"===i?void 0:i)||new to({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),I=[{provide:to,useValue:w}];return w.run(()=>{const x=Cu.create({providers:I,parent:this.injector,name:a.moduleType.name}),k=a.create(x),V=k.injector.get($r,null);if(!V)throw new Pe(402,"");return w.runOutsideAngular(()=>{const G=w.onError.subscribe({next:ee=>{V.handleError(ee)}});k.onDestroy(()=>{On(this._modules,k),G.unsubscribe()})}),function DE(i,s,a){try{const l=a();return E_(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(V,w,()=>{const G=k.injector.get(mE);return G.runInitializers(),G.donePromise.then(()=>(function gl(i){un(i,"Expected localeId to be defined"),"string"==typeof i&&(si=i.toLowerCase().replace(/_/g,"-"))}(k.injector.get(um,Rd)||Rd),this._moduleDoBootstrap(k),k))})})}bootstrapModule(a,l=[]){const d=Ci({},l);return function Bv(i,s,a){const l=new Mu(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(cm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Pe(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Rc,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(ut(Cu))},i.\u0275prov=zt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Ci(i,s){return Array.isArray(s)?s.reduce(Ci,i):Object.assign(Object.assign({},i),s)}let cm=(()=>{class i{constructor(a,l,d,p){this._zone=a,this._injector=l,this._exceptionHandler=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new F.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),w=new F.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{to.assertNotInAngularZone(),Yn(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{to.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),k.unsubscribe()}});this.isStable=(0,le.T)(_,w.pipe((0,ie.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Pe(405,"");let d;d=a instanceof fv?a:this._injector.get(ai).resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function jv(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Ba),w=d.create(Cu.NULL,[],l||d.selector,p),I=w.location.nativeElement,x=w.injector.get(Vv,null),k=x&&w.injector.get(bE);return x&&k&&k.registerApplication(I,x),w.onDestroy(()=>{this.detachView(w.hostView),On(this.components,w),k&&k.unregisterApplication(I)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Pe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;On(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(vr,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(ut(to),ut(Cu),ut($r),ut(mE))},i.\u0275prov=zt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function On(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Dl=!0,Kf=!1;function Yf(){return Kf=!0,Dl}function TE(){if(Kf)throw new Error("Cannot enable prod mode after platform setup.");Dl=!1}let ID=(()=>{class i{}return i.__NG_ELEMENT_ID__=SE,i})();function SE(i){return function Oc(i,s,a){if(as(i)&&!a){const l=hr(i.index,s);return new kf(l,l)}return 47&i.type?new kf(s[16],s):null}(In(),Ae(),16==(16&i))}class Pc{constructor(){}supports(s){return sf(s)}create(s){return new pm(s)}}const fm=(i,s)=>s;class pm{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||fm}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<Fc(l,d,p)?a:l,w=Fc(_,d,p),I=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{p||(p=[]);const x=w-d,k=I-d;if(x!=k){for(let G=0;G<x;G++){const ee=G<p.length?p[G]:p[G]=0,Ee=ee+G;k<=Ee&&Ee<x&&(p[G]=ee+1)}p[_.previousIndex]=k-x}}w!==I&&s(_,w,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!sf(s))throw new Pe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,_,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],_=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,w),l=!0),a=a._next}else d=0,function na(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[_c()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,w=>{_=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,w,_,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new Kv(a,l),p,d),s}_verifyReinsertion(s,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new gm),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gm),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Kv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yv{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class gm{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new Yv,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fc(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class no{constructor(){}supports(s){return s instanceof Map||Dd(s)}create(){return new NE}}class NE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Dd(s)))throw new Pe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const l=new Qf(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class Qf{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qv(){return new Jf([new Pc])}let Jf=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Qv()),deps:[[i,new Zo,new Si]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Pe(901,"")}}return i.\u0275prov=zt({token:i,providedIn:"root",factory:Qv}),i})();function Jv(){return new mm([new no])}let mm=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Jv()),deps:[[i,new Zo,new Si]]}}find(a){const l=this.factories.find(p=>p.supports(a));if(l)return l;throw new Pe(901,"")}}return i.\u0275prov=zt({token:i,providedIn:"root",factory:Jv}),i})();const ym=Hv(null,"core",[]);let PD=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(ut(cm))},i.\u0275mod=te({type:i}),i.\u0275inj=Wt({}),i})()},3942:(gt,Te,L)=>{"use strict";L.d(Te,{Z:()=>Pe});var c=L(2090),Q=L(4859),F=L(9681),le=L(1877);class ie{constructor(ye,Ie){this._delegate=ye,this.firebase=Ie,(0,F._addComponent)(ye,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ye,Ie=F._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(ye);return!et.isInitialized()&&"EXPLICIT"===(null===(it=et.getComponent())||void 0===it?void 0:it.instantiationMode)&&et.initialize(),et.getImmediate({identifier:Ie})}_removeServiceInstance(ye,Ie=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Ie)}_addComponent(ye){(0,F._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,F._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function fe(){const je=function pe(je){const ye={},Ie={__esModule:!0,initializeApp:function xe(Ge,U={}){const Ke=F.initializeApp(Ge,U);if((0,c.r3)(ye,Ke.name))return ye[Ke.name];const X=new je(Ke,Ie);return ye[Ke.name]=X,X},app:et,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function De(Ge){const U=Ge.name,Ke=U.replace("-compat","");if(F._registerComponent(Ge)&&"PUBLIC"===Ge.type){const X=(ce=et())=>{if("function"!=typeof ce[Ke])throw de.create("invalid-app-argument",{appName:U});return ce[Ke]()};void 0!==Ge.serviceProps&&(0,c.ZB)(X,Ge.serviceProps),Ie[Ke]=X,je.prototype[Ke]=function(...ce){return this._getService.bind(this,U).apply(this,Ge.multipleInstances?ce:[])}}return"PUBLIC"===Ge.type?Ie[Ke]:null},removeApp:function it(Ge){delete ye[Ge]},useAsService:function ze(Ge,U){return"serverAuth"===U?null:U},modularAPIs:F}};function et(Ge){if(!(0,c.r3)(ye,Ge=Ge||F._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:Ge});return ye[Ge]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function Ce(){return Object.keys(ye).map(Ge=>ye[Ge])}}),et.App=je,Ie}(ie);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function ye(Ie){(0,c.ZB)(je,Ie)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),je}(),q=new le.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=Z;!function ke(je){(0,F.registerVersion)("@firebase/app-compat","0.1.23",je)}()},9681:(gt,Te,L)=>{"use strict";L.r(Te),L.d(Te,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>lr,_DEFAULT_ENTRY_NAME:()=>Qt,_addComponent:()=>En,_addOrOverwriteComponent:()=>An,_apps:()=>We,_clearComponents:()=>Yt,_components:()=>Mt,_getProvider:()=>Qn,_registerComponent:()=>zt,_removeServiceInstance:()=>Wt,deleteApp:()=>Sr,getApp:()=>Jn,getApps:()=>Li,initializeApp:()=>qr,onLog:()=>Xn,registerVersion:()=>Sn,setLogLevel:()=>ln});var c=L(5861),Q=L(4859),F=L(1877),le=L(2090);class ie{constructor(ue){this.container=ue}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function ve(nt){const ue=nt.getComponent();return"VERSION"===(null==ue?void 0:ue.type)}(st)){const vt=st.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(st=>st).join(" ")}}const de="@firebase/app",fe=new F.Yd("@firebase/app"),Qt="[DEFAULT]",un={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},We=new Map,Mt=new Map;function En(nt,ue){try{nt.container.addComponent(ue)}catch(st){fe.debug(`Component ${ue.name} failed to register with FirebaseApp ${nt.name}`,st)}}function An(nt,ue){nt.container.addOrOverwriteComponent(ue)}function zt(nt){const ue=nt.name;if(Mt.has(ue))return fe.debug(`There were multiple attempts to register component ${ue}.`),!1;Mt.set(ue,nt);for(const st of We.values())En(st,nt);return!0}function Qn(nt,ue){const st=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),nt.container.getProvider(ue)}function Wt(nt,ue,st=Qt){Qn(nt,ue).clearInstance(st)}function Yt(){Mt.clear()}const Ar=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class rs{constructor(ue,st,vt){this._isDeleted=!1,this._options=Object.assign({},ue),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ue){this._isDeleted=ue}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const lr="9.7.0";function qr(nt,ue={}){"object"!=typeof ue&&(ue={name:ue});const st=Object.assign({name:Qt,automaticDataCollectionEnabled:!1},ue),vt=st.name;if("string"!=typeof vt||!vt)throw Ar.create("bad-app-name",{appName:String(vt)});const Kt=We.get(vt);if(Kt){if((0,le.vZ)(nt,Kt.options)&&(0,le.vZ)(st,Kt.config))return Kt;throw Ar.create("duplicate-app",{appName:vt})}const jt=new Q.H0(vt);for(const H of Mt.values())jt.addComponent(H);const $=new rs(nt,st,jt);return We.set(vt,$),$}function Jn(nt=Qt){const ue=We.get(nt);if(!ue)throw Ar.create("no-app",{appName:nt});return ue}function Li(){return Array.from(We.values())}function Sr(nt){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.Z)(function*(nt){const ue=nt.name;We.has(ue)&&(We.delete(ue),yield Promise.all(nt.container.getProviders().map(st=>st.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function Sn(nt,ue,st){var vt;let Kt=null!==(vt=un[nt])&&void 0!==vt?vt:nt;st&&(Kt+=`-${st}`);const jt=Kt.match(/\s|\//),$=ue.match(/\s|\//);if(jt||$){const H=[`Unable to register library "${Kt}" with version "${ue}":`];return jt&&H.push(`library name "${Kt}" contains illegal characters (whitespace or "/")`),jt&&$&&H.push("and"),$&&H.push(`version name "${ue}" contains illegal characters (whitespace or "/")`),void fe.warn(H.join(" "))}zt(new Q.wA(`${Kt}-version`,()=>({library:Kt,version:ue}),"VERSION"))}function Xn(nt,ue){if(null!==nt&&"function"!=typeof nt)throw Ar.create("invalid-log-argument");(0,F.Am)(nt,ue)}function ln(nt){(0,F.Ub)(nt)}const vn="firebase-heartbeat-store";let bt=null;function er(){return bt||(bt=(0,le.X3)("firebase-heartbeat-database",1,(nt,ue)=>{0===ue&&nt.createObjectStore(vn)}).catch(nt=>{throw Ar.create("storage-open",{originalErrorMessage:nt.message})})),bt}function Lt(){return(Lt=(0,c.Z)(function*(nt){try{return(yield er()).transaction(vn).objectStore(vn).get(tr(nt))}catch(ue){throw Ar.create("storage-get",{originalErrorMessage:ue.message})}})).apply(this,arguments)}function Ye(nt,ue){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(nt,ue){try{const vt=(yield er()).transaction(vn,"readwrite");return yield vt.objectStore(vn).put(ue,tr(nt)),vt.complete}catch(st){throw Ar.create("storage-set",{originalErrorMessage:st.message})}})).apply(this,arguments)}function tr(nt){return`${nt.name}!${nt.options.appId}`}class Ls{constructor(ue){this.container=ue,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new mt(st),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var ue=this;return(0,c.Z)(function*(){const vt=ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kt=cr();if(null===ue._heartbeatsCache&&(ue._heartbeatsCache=yield ue._heartbeatsCachePromise),ue._heartbeatsCache.lastSentHeartbeatDate!==Kt&&!ue._heartbeatsCache.heartbeats.some(jt=>jt.date===Kt))return ue._heartbeatsCache.heartbeats.push({date:Kt,agent:vt}),ue._heartbeatsCache.heartbeats=ue._heartbeatsCache.heartbeats.filter(jt=>{const $=new Date(jt.date).valueOf();return Date.now()-$<=2592e6}),ue._storage.overwrite(ue._heartbeatsCache)})()}getHeartbeatsHeader(){var ue=this;return(0,c.Z)(function*(){if(null===ue._heartbeatsCache&&(yield ue._heartbeatsCachePromise),null===ue._heartbeatsCache||0===ue._heartbeatsCache.heartbeats.length)return"";const st=cr(),{heartbeatsToSend:vt,unsentEntries:Kt}=function nr(nt,ue=1024){const st=[];let vt=nt.slice();for(const Kt of nt){const jt=st.find($=>$.agent===Kt.agent);if(jt){if(jt.dates.push(Kt.date),br(st)>ue){jt.dates.pop();break}}else if(st.push({agent:Kt.agent,dates:[Kt.date]}),br(st)>ue){st.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:st,unsentEntries:vt}}(ue._heartbeatsCache.heartbeats),jt=(0,le.L)(JSON.stringify({version:2,heartbeats:vt}));return ue._heartbeatsCache.lastSentHeartbeatDate=st,Kt.length>0?(ue._heartbeatsCache.heartbeats=Kt,yield ue._storage.overwrite(ue._heartbeatsCache)):(ue._heartbeatsCache.heartbeats=[],ue._storage.overwrite(ue._heartbeatsCache)),jt})()}}function cr(){return(new Date).toISOString().substring(0,10)}class mt{constructor(ue){this.app=ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ue=this;return(0,c.Z)(function*(){return(yield ue._canUseIndexedDBPromise)&&(yield function zr(nt){return Lt.apply(this,arguments)}(ue.app))||{heartbeats:[]}})()}overwrite(ue){var st=this;return(0,c.Z)(function*(){var vt;if(yield st._canUseIndexedDBPromise){const jt=yield st.read();return Ye(st.app,{lastSentHeartbeatDate:null!==(vt=ue.lastSentHeartbeatDate)&&void 0!==vt?vt:jt.lastSentHeartbeatDate,heartbeats:ue.heartbeats})}})()}add(ue){var st=this;return(0,c.Z)(function*(){var vt;if(yield st._canUseIndexedDBPromise){const jt=yield st.read();return Ye(st.app,{lastSentHeartbeatDate:null!==(vt=ue.lastSentHeartbeatDate)&&void 0!==vt?vt:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...ue.heartbeats]})}})()}}function br(nt){return(0,le.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function Bt(nt){zt(new Q.wA("platform-logger",ue=>new ie(ue),"PRIVATE")),zt(new Q.wA("heartbeat",ue=>new Ls(ue),"PRIVATE")),Sn(de,"0.7.22",nt),Sn(de,"0.7.22","esm2017"),Sn("fire-js","")}("")},4859:(gt,Te,L)=>{"use strict";L.d(Te,{H0:()=>pe,wA:()=>F});var c=L(5861),Q=L(2090);class F{constructor(Z,q,ne){this.name=Z,this.instanceFactory=q,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const le="[DEFAULT]";class ie{constructor(Z,q){this.name=Z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(q)){const ne=new Q.BH;if(this.instancesDeferred.set(q,ne),this.isInitialized(q)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:q});qe&&ne.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(q).promise}getImmediate(Z){var q;const ne=this.normalizeInstanceIdentifier(null==Z?void 0:Z.identifier),qe=null!==(q=null==Z?void 0:Z.optional)&&void 0!==q&&q;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(ke){if(qe)return null;throw ke}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function de(fe){return"EAGER"===fe.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:le})}catch(q){}for(const[q,ne]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(q);try{const ke=this.getOrInitializeService({instanceIdentifier:qe});ne.resolve(ke)}catch(ke){}}}}clearInstance(Z=le){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,c.Z)(function*(){const q=Array.from(Z.instances.values());yield Promise.all([...q.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...q.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=le){return this.instances.has(Z)}getOptions(Z=le){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:q={}}=Z,ne=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:ne,options:q});for(const[ke,Pe]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(ke)&&Pe.resolve(qe);return qe}onInit(Z,q){var ne;const qe=this.normalizeInstanceIdentifier(q),ke=null!==(ne=this.onInitCallbacks.get(qe))&&void 0!==ne?ne:new Set;ke.add(Z),this.onInitCallbacks.set(qe,ke);const Pe=this.instances.get(qe);return Pe&&Z(Pe,qe),()=>{ke.delete(Z)}}invokeOnInitCallbacks(Z,q){const ne=this.onInitCallbacks.get(q);if(ne)for(const qe of ne)try{qe(Z,q)}catch(ke){}}getOrInitializeService({instanceIdentifier:Z,options:q={}}){let ne=this.instances.get(Z);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=Z,fe===le?void 0:fe),options:q}),this.instances.set(Z,ne),this.instancesOptions.set(Z,q),this.invokeOnInitCallbacks(ne,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,ne)}catch(qe){}var fe;return ne||null}normalizeInstanceIdentifier(Z=le){return this.component?this.component.multipleInstances?Z:le:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const q=this.getProvider(Z.name);if(q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);q.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const q=new ie(Z,this);return this.providers.set(Z,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(gt,Te,L)=>{"use strict";L.d(Te,{Am:()=>fe,Ub:()=>pe,Yd:()=>de,in:()=>Q});const c=[];var Q=(()=>{return(Z=Q||(Q={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Q;var Z})();const F={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},le=Q.INFO,ie={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},ve=(Z,q,...ne)=>{if(q<Z.logLevel)return;const qe=(new Date).toISOString(),ke=ie[q];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[ke](`[${qe}]  ${Z.name}:`,...ne)};class de{constructor(q){this.name=q,this._logLevel=le,this._logHandler=ve,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in Q))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?F[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...q),this._logHandler(this,Q.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...q),this._logHandler(this,Q.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...q),this._logHandler(this,Q.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...q),this._logHandler(this,Q.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...q),this._logHandler(this,Q.ERROR,...q)}}function pe(Z){c.forEach(q=>{q.setLogLevel(Z)})}function fe(Z,q){for(const ne of c){let qe=null;q&&q.level&&(qe=F[q.level]),ne.userLogHandler=null===Z?null:(ke,Pe,...je)=>{const ye=je.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch(it){return null}}).filter(Ie=>Ie).join(" ");Pe>=(null!=qe?qe:ke.logLevel)&&Z({level:Q[Pe].toLowerCase(),message:ye,args:je,type:ke.name})}}}},5861:(gt,Te,L)=>{"use strict";function c(F,le,ie,ve,de,pe,fe){try{var Z=F[pe](fe),q=Z.value}catch(ne){return void ie(ne)}Z.done?le(q):Promise.resolve(q).then(ve,de)}function Q(F){return function(){var le=this,ie=arguments;return new Promise(function(ve,de){var pe=F.apply(le,ie);function fe(q){c(pe,ve,de,fe,Z,"next",q)}function Z(q){c(pe,ve,de,fe,Z,"throw",q)}fe(void 0)})}}L.d(Te,{Z:()=>Q})}},gt=>{gt(gt.s=5527)}]);